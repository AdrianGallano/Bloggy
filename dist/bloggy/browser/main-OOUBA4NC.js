var ope=Object.create;var xD=Object.defineProperty,spe=Object.defineProperties,ipe=Object.getOwnPropertyDescriptor,ape=Object.getOwnPropertyDescriptors,lpe=Object.getOwnPropertyNames,jg=Object.getOwnPropertySymbols,cpe=Object.getPrototypeOf,SD=Object.prototype.hasOwnProperty,bV=Object.prototype.propertyIsEnumerable;var yV=(r,n,i)=>n in r?xD(r,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[n]=i,W=(r,n)=>{for(var i in n||={})SD.call(n,i)&&yV(r,i,n[i]);if(jg)for(var i of jg(n))bV.call(n,i)&&yV(r,i,n[i]);return r},Me=(r,n)=>spe(r,ape(n));var CV=(r,n)=>{var i={};for(var a in r)SD.call(r,a)&&n.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&jg)for(var a of jg(r))n.indexOf(a)<0&&bV.call(r,a)&&(i[a]=r[a]);return i};var upe=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports);var dpe=(r,n,i,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let c of lpe(n))!SD.call(r,c)&&c!==i&&xD(r,c,{get:()=>n[c],enumerable:!(a=ipe(n,c))||a.enumerable});return r};var fpe=(r,n,i)=>(i=r!=null?ope(cpe(r)):{},dpe(n||!r||!r.__esModule?xD(i,"default",{value:r,enumerable:!0}):i,r));var pt=(r,n,i)=>new Promise((a,c)=>{var f=y=>{try{g(i.next(y))}catch(w){c(w)}},h=y=>{try{g(i.throw(y))}catch(w){c(w)}},g=y=>y.done?a(y.value):Promise.resolve(y.value).then(f,h);g((i=i.apply(r,n)).next())});var i3=upe((gRe,mI)=>{"use strict";(function(){"use strict";var r=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},n=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},i=function(e,t){var o=Array.prototype.slice.call(e);return o.sort(t)},a=function(e,t){return c(function(o,s){return e.eq(t(o),t(s))})},c=function(e){return{eq:e}},f=c(function(e,t){return e===t}),h=f,g=function(e){return c(function(t,o){if(t.length!==o.length)return!1;for(var s=t.length,l=0;l<s;l++)if(!e.eq(t[l],o[l]))return!1;return!0})},y=function(e,t){return a(g(e),function(o){return i(o,t)})},w=function(e){return c(function(t,o){var s=Object.keys(t),l=Object.keys(o);if(!y(h).eq(s,l))return!1;for(var u=s.length,d=0;d<u;d++){var p=s[d];if(!e.eq(t[p],o[p]))return!1}return!0})},_=c(function(e,t){if(e===t)return!0;var o=r(e),s=r(t);return o!==s?!1:n(o)?e===t:o==="array"?g(_).eq(e,t):o==="object"?w(_).eq(e,t):!1});let k=Object.getPrototypeOf,V=(e,t,o)=>{var s;return o(e,t.prototype)?!0:((s=e.constructor)===null||s===void 0?void 0:s.name)===t.name},$=e=>{let t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&V(e,String,(o,s)=>s.isPrototypeOf(o))?"string":t},oe=e=>t=>$(t)===e,ue=e=>t=>typeof t===e,Ee=e=>t=>e===t,_e=(e,t)=>Fe(e)&&V(e,t,(o,s)=>k(o)===s),te=oe("string"),Fe=oe("object"),Le=e=>_e(e,Object),Ie=oe("array"),ke=Ee(null),et=ue("boolean"),Ke=Ee(void 0),$e=e=>e==null,G=e=>!$e(e),Oe=ue("function"),Zt=ue("number"),on=(e,t)=>{if(Ie(e)){for(let o=0,s=e.length;o<s;++o)if(!t(e[o]))return!1;return!0}return!1},Ne=()=>{},Mt=(e,t)=>(...o)=>e(t.apply(null,o)),Yn=(e,t)=>o=>e(t(o)),re=e=>()=>e,_n=e=>e,Is=(e,t)=>e===t;function pe(e,...t){return(...o)=>{let s=t.concat(o);return e.apply(null,s)}}let ai=e=>t=>!e(t),Xi=e=>()=>{throw new Error(e)},Ji=e=>e(),Ao=e=>{e()},wt=re(!1),Ut=re(!0);class D{constructor(t,o){this.tag=t,this.value=o}static some(t){return new D(!0,t)}static none(){return D.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?D.some(t(this.value)):D.none()}bind(t){return this.tag?t(this.value):D.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:D.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return G(t)?D.some(t):D.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}D.singletonNone=new D(!1);let Xo=Array.prototype.slice,kd=Array.prototype.indexOf,zb=Array.prototype.push,yc=(e,t)=>kd.call(e,t),Wb=(e,t)=>{let o=yc(e,t);return o===-1?D.none():D.some(o)},ft=(e,t)=>yc(e,t)>-1,Ht=(e,t)=>{for(let o=0,s=e.length;o<s;o++){let l=e[o];if(t(l,o))return!0}return!1},rt=(e,t)=>{let o=e.length,s=new Array(o);for(let l=0;l<o;l++){let u=e[l];s[l]=t(u,l)}return s},z=(e,t)=>{for(let o=0,s=e.length;o<s;o++){let l=e[o];t(l,o)}},Td=(e,t)=>{for(let o=e.length-1;o>=0;o--){let s=e[o];t(s,o)}},ea=(e,t)=>{let o=[],s=[];for(let l=0,u=e.length;l<u;l++){let d=e[l];(t(d,l)?o:s).push(d)}return{pass:o,fail:s}},Te=(e,t)=>{let o=[];for(let s=0,l=e.length;s<l;s++){let u=e[s];t(u,s)&&o.push(u)}return o},Qr=(e,t,o)=>(Td(e,(s,l)=>{o=t(o,s,l)}),o),Rn=(e,t,o)=>(z(e,(s,l)=>{o=t(o,s,l)}),o),Md=(e,t,o)=>{for(let s=0,l=e.length;s<l;s++){let u=e[s];if(t(u,s))return D.some(u);if(o(u,s))break}return D.none()},sn=(e,t)=>Md(e,t,wt),As=(e,t)=>{for(let o=0,s=e.length;o<s;o++){let l=e[o];if(t(l,o))return D.some(o)}return D.none()},Nd=e=>{let t=[];for(let o=0,s=e.length;o<s;++o){if(!Ie(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);zb.apply(t,e[o])}return t},yr=(e,t)=>Nd(rt(e,t)),ko=(e,t)=>{for(let o=0,s=e.length;o<s;++o){let l=e[o];if(t(l,o)!==!0)return!1}return!0},ta=e=>{let t=Xo.call(e,0);return t.reverse(),t},Dh=(e,t)=>Te(e,o=>!ft(t,o)),qb=(e,t)=>{let o={};for(let s=0,l=e.length;s<l;s++){let u=e[s];o[String(u)]=t(u,s)}return o},Ga=(e,t)=>{let o=Xo.call(e,0);return o.sort(t),o},Rd=(e,t)=>t>=0&&t<e.length?D.some(e[t]):D.none(),br=e=>Rd(e,0),na=e=>Rd(e,e.length-1),Vr=Oe(Array.from)?Array.from:e=>Xo.call(e),bc=(e,t)=>{for(let o=0;o<e.length;o++){let s=t(e[o],o);if(s.isSome())return s}return D.none()},ZI=(e,t)=>{let o=[],s=Oe(t)?l=>Ht(o,u=>t(u,l)):l=>ft(o,l);for(let l=0,u=e.length;l<u;l++){let d=e[l];s(d)||o.push(d)}return o},_r=Object.keys,kz=Object.hasOwnProperty,kt=(e,t)=>{let o=_r(e);for(let s=0,l=o.length;s<l;s++){let u=o[s],d=e[u];t(d,u)}},Od=(e,t)=>Tz(e,(o,s)=>({k:s,v:t(o,s)})),Tz=(e,t)=>{let o={};return kt(e,(s,l)=>{let u=t(s,l);o[u.k]=u.v}),o},Gb=e=>(t,o)=>{e[o]=t},QI=(e,t,o,s)=>{kt(e,(l,u)=>{(t(l,u)?o:s)(l,u)})},Mz=(e,t)=>{let o={},s={};return QI(e,t,Gb(o),Gb(s)),{t:o,f:s}},Pd=(e,t)=>{let o={};return QI(e,t,Gb(o),Ne),o},_h=(e,t)=>{let o=[];return kt(e,(s,l)=>{o.push(t(s,l))}),o},Kb=e=>_h(e,_n),Ft=(e,t)=>Pe(e,t)?D.from(e[t]):D.none(),Pe=(e,t)=>kz.call(e,t),Cc=(e,t)=>Pe(e,t)&&e[t]!==void 0&&e[t]!==null,Nz=(e,t,o=_)=>w(o).eq(e,t),XI=e=>{let t={};return z(e,o=>{t[o]={}}),_r(t)},JI=e=>e.length!==void 0,Yb=Array.isArray,Rz=e=>{if(Yb(e))return e;{let t=[];for(let o=0,s=e.length;o<s;o++)t[o]=e[o];return t}},xh=(e,t,o)=>{if(!e)return!1;if(o=o||e,JI(e)){for(let s=0,l=e.length;s<l;s++)if(t.call(o,e[s],s,e)===!1)return!1}else for(let s in e)if(Pe(e,s)&&t.call(o,e[s],s,e)===!1)return!1;return!0},Zb=(e,t)=>{let o=[];return xh(e,(s,l)=>{o.push(t(s,l,e))}),o},Fd=(e,t)=>{let o=[];return xh(e,(s,l)=>{(!t||t(s,l,e))&&o.push(s)}),o},Oz=(e,t)=>{if(e){for(let o=0,s=e.length;o<s;o++)if(e[o]===t)return o}return-1},Sh=(e,t,o,s)=>{let l=Ke(o)?e[0]:o;for(let u=0;u<e.length;u++)l=t.call(s,l,e[u],u);return l},eA=(e,t,o)=>{for(let s=0,l=e.length;s<l;s++)if(t.call(o,e[s],s,e))return s;return-1},Ka=e=>e[e.length-1],ks=e=>{let t=!1,o;return(...s)=>(t||(t=!0,o=e.apply(null,s)),o)},Pz=(e,t,o,s)=>{let l=e.isiOS()&&/ipad/i.test(o)===!0,u=e.isiOS()&&!l,d=e.isiOS()||e.isAndroid(),p=d||s("(pointer:coarse)"),m=l||!u&&d&&s("(min-device-width:768px)"),v=u||d&&!m,b=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,C=!v&&!m&&!b;return{isiPad:re(l),isiPhone:re(u),isTablet:re(m),isPhone:re(v),isTouch:re(p),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:re(b),isDesktop:re(C)}},Fz=(e,t)=>{for(let o=0;o<e.length;o++){let s=e[o];if(s.test(t))return s}},Lz=(e,t)=>{let o=Fz(e,t);if(!o)return{major:0,minor:0};let s=l=>Number(t.replace(o,"$"+l));return Qb(s(1),s(2))},Bz=(e,t)=>{let o=String(t).toLowerCase();return e.length===0?tA():Lz(e,o)},tA=()=>Qb(0,0),Qb=(e,t)=>({major:e,minor:t}),Ld={nu:Qb,detect:Bz,unknown:tA},Vz=(e,t)=>bc(t.brands,o=>{let s=o.brand.toLowerCase();return sn(e,l=>{var u;return s===((u=l.brand)===null||u===void 0?void 0:u.toLowerCase())}).map(l=>({current:l.name,version:Ld.nu(parseInt(o.version,10),0)}))}),nA=(e,t)=>{let o=String(t).toLowerCase();return sn(e,s=>s.search(o))},$z=(e,t)=>nA(e,t).map(o=>{let s=Ld.detect(o.versionRegexes,t);return{current:o.name,version:s}}),jz=(e,t)=>nA(e,t).map(o=>{let s=Ld.detect(o.versionRegexes,t);return{current:o.name,version:s}}),Uz=(e,t)=>e.substring(t),rA=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,oA=(e,t)=>vn(e,t)?Uz(e,t.length):e,Zn=(e,t,o=0,s)=>{let l=e.indexOf(t,o);return l!==-1?Ke(s)?!0:l+t.length<=s:!1},vn=(e,t)=>rA(e,t,0),Xb=(e,t)=>rA(e,t,e.length-t.length),Jb=e=>t=>t.replace(e,""),wc=Jb(/^\s+|\s+$/g),Hz=Jb(/^\s+/g),sA=Jb(/\s+$/g),Ts=e=>e.length>0,Bd=e=>!Ts(e),zz=(e,t)=>t<=0?"":new Array(t+1).join(e),Ih=(e,t=10)=>{let o=parseInt(e,t);return isNaN(o)?D.none():D.some(o)},e0=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,li=e=>t=>Zn(t,e),Wz=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Zn(e,"edge/")&&Zn(e,"chrome")&&Zn(e,"safari")&&Zn(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,e0],search:e=>Zn(e,"chrome")&&!Zn(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Zn(e,"msie")||Zn(e,"trident")},{name:"Opera",versionRegexes:[e0,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:li("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:li("firefox")},{name:"Safari",versionRegexes:[e0,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Zn(e,"safari")||Zn(e,"mobile/"))&&Zn(e,"applewebkit")}],qz=[{name:"Windows",search:li("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Zn(e,"iphone")||Zn(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:li("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:li("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:li("linux"),versionRegexes:[]},{name:"Solaris",search:li("sunos"),versionRegexes:[]},{name:"FreeBSD",search:li("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:li("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],iA={browsers:re(Wz),oses:re(qz)},aA="Edge",lA="Chromium",cA="IE",uA="Opera",dA="Firefox",fA="Safari",Gz=()=>pA({current:void 0,version:Ld.unknown()}),pA=e=>{let t=e.current,o=e.version,s=l=>()=>t===l;return{current:t,version:o,isEdge:s(aA),isChromium:s(lA),isIE:s(cA),isOpera:s(uA),isFirefox:s(dA),isSafari:s(fA)}},hA={unknown:Gz,nu:pA,edge:re(aA),chromium:re(lA),ie:re(cA),opera:re(uA),firefox:re(dA),safari:re(fA)},mA="Windows",gA="iOS",vA="Android",yA="Linux",bA="macOS",CA="Solaris",wA="FreeBSD",EA="ChromeOS",Kz=()=>DA({current:void 0,version:Ld.unknown()}),DA=e=>{let t=e.current,o=e.version,s=l=>()=>t===l;return{current:t,version:o,isWindows:s(mA),isiOS:s(gA),isAndroid:s(vA),isMacOS:s(bA),isLinux:s(yA),isSolaris:s(CA),isFreeBSD:s(wA),isChromeOS:s(EA)}},_A={unknown:Kz,nu:DA,windows:re(mA),ios:re(gA),android:re(vA),linux:re(yA),macos:re(bA),solaris:re(CA),freebsd:re(wA),chromeos:re(EA)},Yz={detect:(e,t,o)=>{let s=iA.browsers(),l=iA.oses(),u=t.bind(m=>Vz(s,m)).orThunk(()=>$z(s,e)).fold(hA.unknown,hA.nu),d=jz(l,e).fold(_A.unknown,_A.nu),p=Pz(d,u,e,o);return{browser:u,os:d,deviceType:p}}},Zz=e=>window.matchMedia(e).matches,Qz=ks(()=>Yz.detect(navigator.userAgent,D.from(navigator.userAgentData),Zz)),Ms=()=>Qz(),Xz=navigator.userAgent,t0=Ms(),Ns=t0.browser,Rs=t0.os,Ya=t0.deviceType,Jz=Xz.indexOf("Windows Phone")!==-1,ct={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Ns.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Ns.isIE(),windowsPhone:Jz,browser:{current:Ns.current,version:Ns.version,isChromium:Ns.isChromium,isEdge:Ns.isEdge,isFirefox:Ns.isFirefox,isIE:Ns.isIE,isOpera:Ns.isOpera,isSafari:Ns.isSafari},os:{current:Rs.current,version:Rs.version,isAndroid:Rs.isAndroid,isChromeOS:Rs.isChromeOS,isFreeBSD:Rs.isFreeBSD,isiOS:Rs.isiOS,isLinux:Rs.isLinux,isMacOS:Rs.isMacOS,isSolaris:Rs.isSolaris,isWindows:Rs.isWindows},deviceType:{isDesktop:Ya.isDesktop,isiPad:Ya.isiPad,isiPhone:Ya.isiPhone,isPhone:Ya.isPhone,isTablet:Ya.isTablet,isTouch:Ya.isTouch,isWebView:Ya.isWebView}},e4=/^\s*|\s*$/g,xA=e=>$e(e)?"":(""+e).replace(e4,""),t4=(e,t)=>t?t==="array"&&Yb(e)?!0:typeof e===t:e!==void 0,n4=(e,t,o={})=>{let s=te(e)?e.split(t||","):e||[],l=s.length;for(;l--;)o[s[l]]={};return o},r4=Pe,o4=(e,...t)=>{for(let o=0;o<t.length;o++){let s=t[o];for(let l in s)if(Pe(s,l)){let u=s[l];u!==void 0&&(e[l]=u)}}return e},SA=function(e,t,o,s){s=s||this,e&&(o&&(e=e[o]),xh(e,(l,u)=>t.call(s,l,u,o)===!1?!1:(SA(l,t,o,s),!0)))},ee={trim:xA,isArray:Yb,is:t4,toArray:Rz,makeMap:n4,each:xh,map:Zb,grep:Fd,inArray:Oz,hasOwn:r4,extend:o4,walk:SA,resolve:(e,t=window)=>{let o=e.split(".");for(let s=0,l=o.length;s<l&&(t=t[o[s]],!!t);s++);return t},explode:(e,t)=>Ie(e)?e:e===""?[]:Zb(e.split(t||","),xA),_addCacheSuffix:e=>{let t=ct.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},Ec=(e,t,o=Is)=>e.exists(s=>o(s,t)),IA=(e,t,o=Is)=>Qn(e,t,o).getOr(e.isNone()&&t.isNone()),s4=e=>{let t=[],o=s=>{t.push(s)};for(let s=0;s<e.length;s++)e[s].each(o);return t},Qn=(e,t,o)=>e.isSome()&&t.isSome()?D.some(o(e.getOrDie(),t.getOrDie())):D.none(),i4=(e,t,o,s)=>e.isSome()&&t.isSome()&&o.isSome()?D.some(s(e.getOrDie(),t.getOrDie(),o.getOrDie())):D.none(),Dc=(e,t)=>e?D.some(t):D.none(),a4=typeof window<"u"?window:Function("return this;")(),l4=(e,t)=>{let o=t??a4;for(let s=0;s<e.length&&o!==void 0&&o!==null;++s)o=o[e[s]];return o},AA=(e,t)=>{let o=e.split(".");return l4(o,t)},c4=(e,t)=>AA(e,t),u4=(e,t)=>{let o=c4(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},d4=Object.getPrototypeOf,f4=e=>u4("HTMLElement",e),p4=e=>{let t=AA("ownerDocument.defaultView",e);return Fe(e)&&(f4(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(d4(e).constructor.name))},kA=8,TA=9,MA=11,Vd=1,NA=3,st=e=>e.dom.nodeName.toLowerCase(),RA=e=>e.dom.nodeType,Ah=e=>t=>RA(t)===e,h4=e=>RA(e)===kA||st(e)==="#comment",kh=e=>$r(e)&&p4(e.dom),$r=Ah(Vd),Xr=Ah(NA),m4=Ah(TA),g4=Ah(MA),Th=e=>t=>$r(t)&&st(t)===e,OA=(e,t,o)=>{if(te(o)||et(o)||Zt(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},On=(e,t,o)=>{OA(e.dom,t,o)},ci=(e,t)=>{let o=e.dom;kt(t,(s,l)=>{OA(o,l,s)})},jr=(e,t)=>{let o=e.dom.getAttribute(t);return o===null?void 0:o},ui=(e,t)=>D.from(jr(e,t)),$d=(e,t)=>{let o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},Pn=(e,t)=>{e.dom.removeAttribute(t)},v4=e=>{let t=e.dom.attributes;return t==null||t.length===0},PA=e=>Rn(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),n0=(e,t)=>{let o=jr(e,t);return o===void 0||o===""?[]:o.split(" ")},y4=(e,t,o)=>{let l=n0(e,t).concat([o]);return On(e,t,l.join(" ")),!0},b4=(e,t,o)=>{let s=Te(n0(e,t),l=>l!==o);return s.length>0?On(e,t,s.join(" ")):Pn(e,t),!1},jd=e=>e.dom.classList!==void 0,FA=e=>n0(e,"class"),LA=(e,t)=>y4(e,"class",t),BA=(e,t)=>b4(e,"class",t),C4=(e,t)=>ft(FA(e),t)?BA(e,t):LA(e,t),_c=(e,t)=>{jd(e)?e.dom.classList.add(t):LA(e,t)},VA=e=>{(jd(e)?e.dom.classList:FA(e)).length===0&&Pn(e,"class")},Ud=(e,t)=>{jd(e)?e.dom.classList.remove(t):BA(e,t),VA(e)},w4=(e,t)=>{let o=jd(e)?e.dom.classList.toggle(t):C4(e,t);return VA(e),o},r0=(e,t)=>jd(e)&&e.dom.classList.contains(t),E4=(e,t)=>{let s=(t||document).createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){let l="HTML does not have a single root node";throw console.error(l,e),new Error(l)}return Hd(s.childNodes[0])},D4=(e,t)=>{let s=(t||document).createElement(e);return Hd(s)},_4=(e,t)=>{let s=(t||document).createTextNode(e);return Hd(s)},Hd=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},T={fromHtml:E4,fromTag:D4,fromText:_4,fromDom:Hd,fromPoint:(e,t,o)=>D.from(e.dom.elementFromPoint(t,o)).map(Hd)},$A=(e,t)=>{let o=[],s=u=>(o.push(u),t(u)),l=t(e);do l=l.bind(s);while(l.isSome());return o},Jo=(e,t)=>{let o=e.dom;if(o.nodeType!==Vd)return!1;{let s=o;if(s.matches!==void 0)return s.matches(t);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(t);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},jA=e=>e.nodeType!==Vd&&e.nodeType!==TA&&e.nodeType!==MA||e.childElementCount===0,x4=(e,t)=>{let o=t===void 0?document:t.dom;return jA(o)?[]:rt(o.querySelectorAll(e),T.fromDom)},S4=(e,t)=>{let o=t===void 0?document:t.dom;return jA(o)?D.none():D.from(o.querySelector(e)).map(T.fromDom)},mt=(e,t)=>e.dom===t.dom,Cr=(e,t)=>{let o=e.dom,s=t.dom;return o===s?!1:o.contains(s)},UA=e=>T.fromDom(e.dom.ownerDocument),di=e=>m4(e)?e:UA(e),I4=e=>T.fromDom(di(e).dom.documentElement),zd=e=>T.fromDom(di(e).dom.defaultView),es=e=>D.from(e.dom.parentNode).map(T.fromDom),Mh=e=>D.from(e.dom.parentElement).map(T.fromDom),HA=(e,t)=>{let o=Oe(t)?t:wt,s=e.dom,l=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){let u=s.parentNode,d=T.fromDom(u);if(l.push(d),o(d)===!0)break;s=u}return l},A4=e=>{let t=o=>Te(o,s=>!mt(e,s));return es(e).map(Xn).map(t).getOr([])},Za=e=>D.from(e.dom.previousSibling).map(T.fromDom),Wd=e=>D.from(e.dom.nextSibling).map(T.fromDom),o0=e=>ta($A(e,Za)),s0=e=>$A(e,Wd),Xn=e=>rt(e.dom.childNodes,T.fromDom),xc=(e,t)=>{let o=e.dom.childNodes;return D.from(o[t]).map(T.fromDom)},i0=e=>xc(e,0),a0=e=>xc(e,e.dom.childNodes.length-1),l0=e=>e.dom.childNodes.length,k4=e=>{let t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return T.fromDom(t)},c0=e=>g4(e)&&G(e.dom.host),zA=Oe(Element.prototype.attachShadow)&&Oe(Node.prototype.getRootNode),T4=re(zA),ra=zA?e=>T.fromDom(e.dom.getRootNode()):di,u0=e=>c0(e)?e:k4(di(e)),M4=e=>c0(e)?e:T.fromDom(di(e).dom.body),N4=e=>{let t=ra(e);return c0(t)?D.some(t):D.none()},R4=e=>T.fromDom(e.dom.host),WA=e=>{if(T4()&&G(e.target)){let t=T.fromDom(e.target);if($r(t)&&O4(t)&&e.composed&&e.composedPath){let o=e.composedPath();if(o)return br(o)}}return D.from(e.target)},O4=e=>G(e.dom.shadowRoot),Sc=e=>{let t=Xr(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;let o=t.ownerDocument;return N4(T.fromDom(t)).fold(()=>o.body.contains(t),Yn(Sc,R4))};var qA=(e,t,o,s,l)=>e(o,s)?D.some(o):Oe(l)&&l(o)?D.none():t(o,s,l);let fi=(e,t,o)=>{let s=e.dom,l=Oe(o)?o:wt;for(;s.parentNode;){s=s.parentNode;let u=T.fromDom(s);if(t(u))return D.some(u);if(l(u))break}return D.none()},Qa=(e,t,o)=>qA((l,u)=>u(l),fi,e,t,o),P4=(e,t)=>{let o=e.dom;return o.parentNode?F4(T.fromDom(o.parentNode),s=>!mt(e,s)&&t(s)):D.none()},F4=(e,t)=>{let o=l=>t(T.fromDom(l));return sn(e.dom.childNodes,o).map(T.fromDom)},GA=(e,t)=>{let o=s=>{for(let l=0;l<s.childNodes.length;l++){let u=T.fromDom(s.childNodes[l]);if(t(u))return D.some(u);let d=o(s.childNodes[l]);if(d.isSome())return d}return D.none()};return o(e.dom)},qd=(e,t,o)=>fi(e,s=>Jo(s,t),o),Nh=(e,t)=>S4(t,e),Ic=(e,t,o)=>qA((l,u)=>Jo(l,u),qd,e,t,o),L4=e=>Ic(e,"[contenteditable]"),Xa=(e,t=!1)=>Sc(e)?e.dom.isContentEditable:L4(e).fold(re(t),o=>B4(o)==="true"),B4=e=>e.dom.contentEditable,Gd=e=>e.style!==void 0&&Oe(e.style.getPropertyValue),KA=(e,t,o)=>{if(!te(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Gd(e)&&e.style.setProperty(t,o)},V4=(e,t)=>{Gd(e)&&e.style.removeProperty(t)},YA=(e,t,o)=>{let s=e.dom;KA(s,t,o)},Rh=(e,t)=>{let o=e.dom;kt(t,(s,l)=>{KA(o,l,s)})},Os=(e,t)=>{let o=e.dom,l=window.getComputedStyle(o).getPropertyValue(t);return l===""&&!Sc(e)?ZA(o,t):l},ZA=(e,t)=>Gd(e)?e.style.getPropertyValue(t):"",Oh=(e,t)=>{let o=e.dom,s=ZA(o,t);return D.from(s).filter(l=>l.length>0)},d0=e=>{let t={},o=e.dom;if(Gd(o))for(let s=0;s<o.style.length;s++){let l=o.style.item(s);t[l]=o.style[l]}return t},QA=(e,t)=>{let o=e.dom;V4(o,t),Ec(ui(e,"style").map(wc),"")&&Pn(e,"style")},$4=e=>e.dom.offsetWidth,xr=(e,t)=>{es(e).each(s=>{s.dom.insertBefore(t.dom,e.dom)})},pi=(e,t)=>{Wd(e).fold(()=>{es(e).each(l=>{pn(l,t)})},s=>{xr(s,t)})},Ph=(e,t)=>{i0(e).fold(()=>{pn(e,t)},s=>{e.dom.insertBefore(t.dom,s.dom)})},pn=(e,t)=>{e.dom.appendChild(t.dom)},XA=(e,t)=>{xr(e,t),pn(t,e)},j4=(e,t)=>{z(t,(o,s)=>{let l=s===0?e:t[s-1];pi(l,o)})},Ja=(e,t)=>{z(t,o=>{pn(e,o)})},Ac=e=>{e.dom.textContent="",z(Xn(e),t=>{Lt(t)})},Lt=e=>{let t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},oa=e=>{let t=Xn(e);t.length>0&&j4(e,t),Lt(e)},U4=(e,t)=>{let s=(t||document).createElement("div");return s.innerHTML=e,Xn(T.fromDom(s))},f0=e=>rt(e,T.fromDom),JA=e=>e.dom.innerHTML,Fh=(e,t)=>{let s=UA(e).dom,l=T.fromDom(s.createDocumentFragment()),u=U4(t,s);Ja(l,u),Ac(e),pn(e,l)},H4=e=>{let t=T.fromTag("div"),o=T.fromDom(e.dom.cloneNode(!0));return pn(t,o),JA(t)},z4=(e,t,o,s,l,u,d)=>({target:e,x:t,y:o,stop:s,prevent:l,kill:u,raw:d}),W4=e=>{let t=T.fromDom(WA(e).getOr(e.target)),o=()=>e.stopPropagation(),s=()=>e.preventDefault(),l=Mt(s,o);return z4(t,e.clientX,e.clientY,o,s,l,e)},q4=(e,t)=>o=>{e(o)&&t(W4(o))},G4=(e,t,o,s,l)=>{let u=q4(o,s);return e.dom.addEventListener(t,u,l),{unbind:pe(Y4,e,t,u,l)}},K4=(e,t,o,s)=>G4(e,t,o,s,!1),Y4=(e,t,o,s)=>{e.dom.removeEventListener(t,o,s)},ek=(e,t)=>({left:e,top:t,translate:(s,l)=>ek(e+s,t+l)}),kc=ek,Z4=e=>{let t=e.getBoundingClientRect();return kc(t.left,t.top)},Lh=(e,t)=>e!==void 0?e:t!==void 0?t:0,Q4=e=>{let t=e.dom.ownerDocument,o=t.body,s=t.defaultView,l=t.documentElement;if(o===e.dom)return kc(o.offsetLeft,o.offsetTop);let u=Lh(s?.pageYOffset,l.scrollTop),d=Lh(s?.pageXOffset,l.scrollLeft),p=Lh(l.clientTop,o.clientTop),m=Lh(l.clientLeft,o.clientLeft);return p0(e).translate(d-m,u-p)},p0=e=>{let t=e.dom,s=t.ownerDocument.body;return s===t?kc(s.offsetLeft,s.offsetTop):Sc(e)?Z4(t):kc(0,0)},h0=e=>{let t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,s=t.body.scrollTop||t.documentElement.scrollTop;return kc(o,s)},tk=(e,t,o)=>{let l=(o!==void 0?o.dom:document).defaultView;l&&l.scrollTo(e,t)},nk=(e,t)=>{Ms().browser.isSafari()&&Oe(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},X4=e=>{let t=e===void 0?window:e;return Ms().browser.isFirefox()?D.none():D.from(t.visualViewport)},rk=(e,t,o,s)=>({x:e,y:t,width:o,height:s,right:e+o,bottom:t+s}),ok=e=>{let t=e===void 0?window:e,o=t.document,s=h0(T.fromDom(o));return X4(t).fold(()=>{let l=t.document.documentElement,u=l.clientWidth,d=l.clientHeight;return rk(s.left,s.top,u,d)},l=>rk(Math.max(l.pageLeft,s.left),Math.max(l.pageTop,s.top),l.width,l.height))},J4=(e,t)=>Te(Xn(e),t),sk=(e,t)=>{let o=[];return z(Xn(e),s=>{t(s)&&(o=o.concat([s])),o=o.concat(sk(s,t))}),o},Jn=(e,t)=>x4(t,e),ik=(e,t,o)=>fi(e,t,o).isSome(),e8=(e,t)=>P4(e,t).isSome(),ak=(e,t)=>GA(e,t).isSome();class xn{constructor(t,o){this.node=t,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,o,s,l){if(t){if(!l&&t[o])return t[o];if(t!==this.rootNode){let u=t[s];if(u)return u;for(let d=t.parentNode;d&&d!==this.rootNode;d=d.parentNode)if(u=d[s],u)return u}}}findPreviousNode(t,o){if(t){let s=t.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!o){for(let u=s.lastChild;u;u=u.lastChild)if(!u.lastChild)return u}return s}let l=t.parentNode;if(l&&l!==this.rootNode)return l}}}let Kd="\uFEFF",Sn="\xA0",m0=e=>e===Kd,t8=e=>e.replace(/\uFEFF/g,""),n8=/^[ \t\r\n]*$/,Tc=e=>n8.test(e),r8=e=>{for(let t of e)if(!m0(t))return!1;return!0},o8=e=>" \f	\v".indexOf(e)!==-1,lk=e=>e===`
`||e==="\r",s8=(e,t)=>t<e.length&&t>=0?lk(e[t]):!1,ck=(e,t=4,o=!0,s=!0)=>{let l=zz(" ",t),u=e.replace(/\t/g,l);return Rn(u,(p,m)=>o8(m)||m===Sn?p.pcIsSpace||p.str===""&&o||p.str.length===u.length-1&&s||s8(u,p.str.length+1)?{pcIsSpace:!1,str:p.str+Sn}:{pcIsSpace:!0,str:p.str+" "}:{pcIsSpace:lk(m),str:p.str+m},{pcIsSpace:!1,str:""}).str},el=e=>t=>!!t&&t.nodeType===e,Bh=e=>!!e&&!Object.getPrototypeOf(e),ge=el(1),hi=e=>ge(e)&&kh(T.fromDom(e)),i8=e=>ge(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Yd=e=>{let t=e.toLowerCase();return o=>G(o)&&o.nodeName.toLowerCase()===t},ts=e=>{let t=e.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){let s=o.nodeName.toLowerCase();return ft(t,s)}return!1}},Vh=(e,t)=>{let o=t.toLowerCase().split(" ");return s=>{if(ge(s)){let l=s.ownerDocument.defaultView;if(l)for(let u=0;u<o.length;u++){let d=l.getComputedStyle(s,null);if((d?d.getPropertyValue(e):null)===o[u])return!0}}return!1}},a8=e=>t=>ge(t)&&t.hasAttribute(e),tl=e=>ge(e)&&e.hasAttribute("data-mce-bogus"),l8=e=>ge(e)&&e.getAttribute("data-mce-bogus")==="all",Ps=e=>ge(e)&&e.tagName==="TABLE",uk=e=>t=>!!(hi(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),g0=ts(["textarea","input"]),Q=el(3),c8=el(4),u8=el(7),sa=el(8),Zd=el(9),v0=el(11),Gt=Yd("br"),dk=Yd("img"),To=uk("true"),Nt=uk("false"),$h=ts(["td","th"]),d8=ts(["td","th","caption"]),Fs=ts(["video","audio","object","embed"]),f8=Yd("li"),y0=Yd("details"),p8=Yd("summary"),fk={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},h8=(e,t,o)=>{let s=T.fromDom(t),l=T.fromDom(e),u=o.getWhitespaceElements();return ik(l,p=>Pe(u,st(p)),pe(mt,s))},m8=e=>ge(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),g8=(e,t)=>ge(e)&&Pe(t.getNonEmptyElements(),e.nodeName),v8=a8("data-mce-bookmark"),y8=e=>Mh(T.fromDom(e)).exists(t=>!Xa(t)),b8=(e,t,o)=>Tc(e.data)&&!h8(e,t,o),C8=(e,t,o,s)=>Q(e)&&!b8(e,t,o)&&(!s.includeZwsp||!r8(e.data)),b0=(e,t,o,s)=>Oe(s.isContent)&&s.isContent(t)||g8(t,e)||v8(t)||m8(t)||C8(t,o,e,s)||Nt(t)||To(t)&&y8(t),mi=(e,t,o)=>{let s=W(W({},fk),o);if(s.checkRootAsContent&&b0(e,t,t,s))return!1;let l=t.firstChild,u=0;if(!l)return!0;let d=new xn(l,t);do{if(s.skipBogus&&ge(l)){let p=l.getAttribute("data-mce-bogus");if(p){l=d.next(p==="all");continue}}if(sa(l)){l=d.next(!0);continue}if(Gt(l)){u++,l=d.next();continue}if(b0(e,l,t,s))return!1;l=d.next()}while(l);return u<=1},er=(e,t,o)=>mi(e,t.dom,W({checkRootAsContent:!0},o)),pk=(e,t,o)=>b0(e,t,t,W({includeZwsp:fk.includeZwsp},o)),In=e=>{let t=e;return{get:()=>t,set:l=>{t=l}}},w8=e=>{let t=In(D.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(D.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:p=>{o(),t.set(D.some(p))}}},E8=e=>{let t=In(D.none()),o=()=>t.get().each(p=>clearInterval(p));return{clear:()=>{o(),t.set(D.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:p=>{o(),t.set(D.some(setInterval(p,e)))}}},gi=()=>{let e=w8(Ne),t=o=>e.get().each(o);return Me(W({},e),{on:t})},hk=e=>{let t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},nl=e=>hk(e)!=="html",C0=e=>nl(e.nodeName),mk=e=>hk(e.nodeName),D8=["svg","math"],_8=()=>{let e=gi(),t=()=>e.get().map(mk).getOr("html");return{track:l=>(C0(l)?e.set(l):e.get().exists(u=>!u.contains(l))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},jh="data-mce-block",x8=e=>Te(_r(e),t=>!/[A-Z]/.test(t)),w0=e=>rt(x8(e),t=>{let o=CSS.escape(t);return`${o}:`+rt(D8,s=>`not(${s} ${o})`).join(":")}).join(","),gk=(e,t)=>G(t.querySelector(e))?(t.setAttribute(jh,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(jh),!1),vk=(e,t)=>{let o=w0(e.getTransparentElements()),s=w0(e.getBlockElements());return Te(t.querySelectorAll(o),l=>gk(s,l))},yk=(e,t,o)=>{var s;let l=o?"lastChild":"firstChild";for(let u=t[l];u;u=u[l])if(mi(e,u,{checkRootAsContent:!0})){(s=u.parentNode)===null||s===void 0||s.removeChild(u);return}},S8=(e,t,o)=>{let s=document.createRange(),l=t.parentNode;if(l){s.setStartBefore(t),s.setEndBefore(o);let u=s.extractContents();yk(e,u,!0),s.setStartAfter(o),s.setEndAfter(t);let d=s.extractContents();yk(e,d,!1),mi(e,u,{checkRootAsContent:!0})||l.insertBefore(u,t),mi(e,o,{checkRootAsContent:!0})||l.insertBefore(o,t),mi(e,d,{checkRootAsContent:!0})||l.insertBefore(d,t),l.removeChild(t)}},I8=(e,t,o)=>{let s=e.getBlockElements(),l=T.fromDom(t),u=p=>st(p)in s,d=p=>mt(p,l);z(f0(o),p=>{fi(p,u,d).each(m=>{let v=J4(p,b=>u(b)&&!e.isValidChild(st(m),st(b)));if(v.length>0){let b=Mh(m);z(v,C=>{fi(C,u,d).each(E=>{S8(e,E.dom,C.dom)})}),b.each(C=>vk(e,C.dom))}})})},A8=(e,t,o)=>{z([...o,...rl(e,t)?[t]:[]],s=>z(Jn(T.fromDom(s),s.nodeName.toLowerCase()),l=>{M8(e,l.dom)&&oa(l)}))},E0=(e,t)=>{let o=vk(e,t);I8(e,t,o),A8(e,t,o)},k8=(e,t)=>{if(x0(e,t)){let o=w0(e.getBlockElements());gk(o,t)}},T8=(e,t,o)=>{let s=u=>mt(u,T.fromDom(t)),l=HA(T.fromDom(o),s);Rd(l,l.length-2).filter($r).fold(()=>E0(e,t),u=>E0(e,u.dom))},D0=e=>e.hasAttribute(jh),_0=(e,t)=>Pe(e.getTransparentElements(),t),x0=(e,t)=>ge(t)&&_0(e,t.nodeName),rl=(e,t)=>x0(e,t)&&D0(t),M8=(e,t)=>x0(e,t)&&!D0(t),S0=(e,t)=>t.type===1&&_0(e,t.name)&&te(t.attr(jh)),N8=Ms().browser,bk=e=>sn(e,$r),R8=e=>N8.isFirefox()&&st(e)==="table"?bk(Xn(e)).filter(t=>st(t)==="caption").bind(t=>bk(s0(t)).map(o=>{let s=o.dom.offsetTop,l=t.dom.offsetTop,u=t.dom.offsetHeight;return s<=l?-u:0})).getOr(0):0,Ck=(e,t)=>e.children&&ft(e.children,t),O8=(e,t,o)=>{let s=0,l=0,u=e.ownerDocument;if(o=o||e,t){if(o===e&&t.getBoundingClientRect&&Os(T.fromDom(e),"position")==="static"){let p=t.getBoundingClientRect();return s=p.left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,l=p.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop,{x:s,y:l}}let d=t;for(;d&&d!==o&&d.nodeType&&!Ck(d,o);){let p=d;s+=p.offsetLeft||0,l+=p.offsetTop||0,d=p.offsetParent}for(d=t.parentNode;d&&d!==o&&d.nodeType&&!Ck(d,o);)s-=d.scrollLeft||0,l-=d.scrollTop||0,d=d.parentNode;l+=R8(T.fromDom(t))}return{x:s,y:l}},wk=(e,t={})=>{let o=0,s={},l=T.fromDom(e),u=di(l),d=M=>{t.referrerPolicy=M},p=M=>{t.contentCssCors=M},m=M=>{pn(u0(l),M)},v=M=>{let R=u0(l);Nh(R,"#"+M).each(Lt)},b=M=>Ft(s,M).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})),C=M=>new Promise((R,N)=>{let O,q=ee._addCacheSuffix(M),X=b(q);s[q]=X,X.count++;let ae=(fe,ye)=>{z(fe,Ao),X.status=ye,X.passed=[],X.failed=[],O&&(O.onload=null,O.onerror=null,O=null)},U=()=>ae(X.passed,2),F=()=>ae(X.failed,3);if(R&&X.passed.push(R),N&&X.failed.push(N),X.status===1)return;if(X.status===2){U();return}if(X.status===3){F();return}X.status=1;let H=T.fromTag("link",u.dom);ci(H,{rel:"stylesheet",type:"text/css",id:X.id}),t.contentCssCors&&On(H,"crossOrigin","anonymous"),t.referrerPolicy&&On(H,"referrerpolicy",t.referrerPolicy),O=H.dom,O.onload=U,O.onerror=F,m(H),On(H,"href",q)}),E=(M,R)=>{let N=b(M);s[M]=N,N.count++;let O=T.fromTag("style",u.dom);ci(O,{rel:"stylesheet",type:"text/css",id:N.id}),O.dom.innerHTML=R,m(O)},x=M=>Promise.allSettled(rt(M,N=>C(N).then(re(N)))).then(N=>{let O=ea(N,q=>q.status==="fulfilled");return O.fail.length>0?Promise.reject(rt(O.fail,q=>q.reason)):rt(O.pass,q=>q.value)}),I=M=>{let R=ee._addCacheSuffix(M);Ft(s,R).each(N=>{--N.count===0&&(delete s[R],v(N.id))})};return{load:C,loadRawCss:E,loadAll:x,unload:I,unloadRawCss:M=>{Ft(s,M).each(R=>{--R.count===0&&(delete s[M],v(R.id))})},unloadAll:M=>{z(M,R=>{I(R)})},_setReferrerPolicy:d,_setContentCssCors:p}},Ek=(()=>{let e=new WeakMap;return{forElement:(o,s)=>{let u=ra(o).dom;return D.from(e.get(u)).getOrThunk(()=>{let d=wk(u,s);return e.set(u,d),d})}}})(),P8=e=>e.nodeName.toLowerCase()==="span",Dk=(e,t)=>G(e)&&(pk(t,e)||t.isInline(e.nodeName.toLowerCase())),F8=(e,t,o)=>{let s=new xn(e,t).prev(!1),l=new xn(e,t).next(!1),u=Ke(s)||Dk(s,o),d=Ke(l)||Dk(l,o);return u&&d},_k=e=>P8(e)&&e.getAttribute("data-mce-type")==="bookmark",L8=(e,t,o)=>Q(e)&&e.data.length>0&&F8(e,t,o),B8=e=>ge(e)?e.childNodes.length>0:!1,V8=e=>v0(e)||Zd(e),I0=(e,t,o,s)=>{var l;let u=s||t;if(ge(t)&&_k(t))return t;let d=t.childNodes;for(let p=d.length-1;p>=0;p--)I0(e,d[p],o,u);if(ge(t)){let p=t.childNodes;p.length===1&&_k(p[0])&&((l=t.parentNode)===null||l===void 0||l.insertBefore(p[0],t))}return!V8(t)&&!pk(o,t)&&!B8(t)&&!L8(t,u,o)&&e.remove(t),t},$8=ee.makeMap,Uh=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hh=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j8=/[<>&\"\']/g,U8=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,H8={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},ol={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},z8={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},W8=e=>{let t=T.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},xk=(e,t)=>{let o={};if(e){let s=e.split(",");t=t||10;for(let l=0;l<s.length;l+=2){let u=String.fromCharCode(parseInt(s[l],t));if(!ol[u]){let d="&"+s[l+1]+";";o[u]=d,o[d]=u}}return o}else return},A0=xk("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Sk=(e,t)=>e.replace(t?Uh:Hh,o=>ol[o]||o),q8=e=>(""+e).replace(j8,t=>ol[t]||t),Ik=(e,t)=>e.replace(t?Uh:Hh,o=>o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":ol[o]||"&#"+o.charCodeAt(0)+";"),k0=(e,t,o)=>{let s=o||A0;return e.replace(t?Uh:Hh,l=>ol[l]||s[l]||l)},sl={encodeRaw:Sk,encodeAllRaw:q8,encodeNumeric:Ik,encodeNamed:k0,getEncodeFunc:(e,t)=>{let o=xk(t)||A0,s=(d,p)=>d.replace(p?Uh:Hh,m=>ol[m]!==void 0?ol[m]:o[m]!==void 0?o[m]:m.length>1?"&#"+((m.charCodeAt(0)-55296)*1024+(m.charCodeAt(1)-56320)+65536)+";":"&#"+m.charCodeAt(0)+";"),l=(d,p)=>k0(d,p,o),u=$8(e.replace(/\+/g,","));return u.named&&u.numeric?s:u.named?t?l:k0:u.numeric?Ik:Sk},decode:e=>e.replace(U8,(t,o)=>o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):H8[o]||String.fromCharCode(o)):z8[t]||A0[t]||W8(t))},jn=(e,t)=>(e=ee.trim(e),e?e.split(t||" "):[]),Ak=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),G8=e=>Fe(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",K8=e=>{let t=o=>Ie(o)?rt(o,t):G8(o)?new RegExp(o.source,o.flags):Fe(o)?Od(o,t):o;return t(e)},Y8=e=>{let t=/^(~)?(.+)$/;return yr(jn(e,","),o=>{let s=t.exec(o);if(s){let u=s[1]==="~"?"span":"div",d=s[2];return[{cloneName:u,name:d}]}else return[]})},kk=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),Tk=e=>{let t,o;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",o+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(o=[o,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));let s=[t,o].join(" ");return{blockContent:t,phrasingContent:o,flowContent:s}},T0=e=>{let{blockContent:t,phrasingContent:o,flowContent:s}=Tk(e),l=u=>Object.freeze(u.split(" "));return Object.freeze({blockContent:l(t),phrasingContent:l(o),flowContent:l(s)})},Z8={html4:ks(()=>T0("html4")),html5:ks(()=>T0("html5")),"html5-strict":ks(()=>T0("html5-strict"))},Mk=(e,t)=>{let{blockContent:o,phrasingContent:s,flowContent:l}=Z8[e]();return t==="blocks"?D.some(o):t==="phrasing"?D.some(s):t==="flow"?D.some(l):D.none()},Q8=e=>{let t=kk(e),{phrasingContent:o,flowContent:s}=Tk(e),l={},u=(m,v,b)=>{l[m]={attributes:qb(v,re({})),attributesOrder:v,children:qb(b,re({}))}},d=(m,v="",b="")=>{let C=jn(b),E=jn(m),x=E.length,I=[...t,...jn(v)];for(;x--;)u(E[x],I.slice(),C)},p=(m,v)=>{let b=jn(m),C=jn(v),E=b.length;for(;E--;){let x=l[b[E]];for(let I=0,S=C.length;I<S;I++)x.attributes[C[I]]={},x.attributesOrder.push(C[I])}};return e!=="html5-strict"&&(z(jn("acronym applet basefont big font strike tt"),b=>{d(b,"",o)}),z(jn("center dir isindex noframes"),b=>{d(b,"",s)})),d("html","manifest","head body"),d("head","","base command link meta noscript script style title"),d("title hr noscript br"),d("base","href target"),d("link","href rel media hreflang type sizes hreflang"),d("meta","name http-equiv content charset"),d("style","media type scoped"),d("script","src async defer type charset"),d("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",s),d("dd div","",s),d("address dt caption","",e==="html4"?o:s),d("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),d("blockquote","cite",s),d("ol","reversed start type","li"),d("ul","","li"),d("li","value",s),d("dl","","dt dd"),d("a","href target rel media hreflang type",e==="html4"?o:s),d("q","cite",o),d("ins del","cite datetime",s),d("img","src sizes srcset alt usemap ismap width height"),d("iframe","src name width height",s),d("embed","src type width height"),d("object","data type typemustmatch name usemap form width height",[s,"param"].join(" ")),d("param","name value"),d("map","name",[s,"area"].join(" ")),d("area","alt coords shape href target rel media hreflang type"),d("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),d("colgroup","span","col"),d("col","span"),d("tbody thead tfoot","","tr"),d("tr","","td th"),d("td","colspan rowspan headers",s),d("th","colspan rowspan headers scope abbr",s),d("form","accept-charset action autocomplete enctype method name novalidate target",s),d("fieldset","disabled form name",[s,"legend"].join(" ")),d("label","form for",o),d("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),d("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?s:o),d("select","disabled form multiple name required size","option optgroup"),d("optgroup","disabled label","option"),d("option","disabled label selected value"),d("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),d("menu","type label",[s,"li"].join(" ")),d("noscript","",s),e!=="html4"&&(d("wbr"),d("ruby","",[o,"rt rp"].join(" ")),d("figcaption","",s),d("mark rt rp bdi","",o),d("summary","",[o,"h1 h2 h3 h4 h5 h6"].join(" ")),d("canvas","width height",s),d("data","value",o),d("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[s,"track source"].join(" ")),d("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[s,"track source"].join(" ")),d("picture","","img source"),d("source","src srcset type media sizes"),d("track","kind src srclang label default"),d("datalist","",[o,"option"].join(" ")),d("article section nav aside main header footer","",s),d("hgroup","","h1 h2 h3 h4 h5 h6"),d("figure","",[s,"figcaption"].join(" ")),d("time","datetime",o),d("dialog","open",s),d("command","type label icon disabled checked radiogroup command"),d("output","for form name",o),d("progress","value max",o),d("meter","value min max low high optimum",o),d("details","open",[s,"summary"].join(" ")),d("keygen","autofocus challenge disabled form keytype name"),u("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(p("script","language xml:space"),p("style","xml:space"),p("object","declare classid code codebase codetype archive standby align border hspace vspace"),p("embed","align name hspace vspace"),p("param","valuetype type"),p("a","charset name rev shape coords"),p("br","clear"),p("applet","codebase archive code object alt name width height align hspace vspace"),p("img","name longdesc align border hspace vspace"),p("iframe","longdesc frameborder marginwidth marginheight scrolling align"),p("font basefont","size color face"),p("input","usemap align"),p("select"),p("textarea"),p("h1 h2 h3 h4 h5 h6 div p legend caption","align"),p("ul","type compact"),p("li","type"),p("ol dl menu dir","compact"),p("pre","width xml:space"),p("hr","align noshade size width"),p("isindex","prompt"),p("table","summary width frame rules cellspacing cellpadding align bgcolor"),p("col","width align char charoff valign"),p("colgroup","width align char charoff valign"),p("thead","align char charoff valign"),p("tr","align char charoff valign bgcolor"),p("th","axis align char charoff valign nowrap bgcolor width height"),p("form","accept"),p("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),p("tfoot","align char charoff valign"),p("tbody","align char charoff valign"),p("area","nohref"),p("body","background bgcolor text link vlink alink")),e!=="html4"&&(p("input button select textarea","autofocus"),p("input textarea","placeholder"),p("a","download"),p("link script img","crossorigin"),p("img","loading"),p("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&z([l.video,l.audio],m=>{delete m.children.audio,delete m.children.video}),z(jn("a form meter progress dfn"),m=>{l[m]&&delete l[m].children[m]}),delete l.caption.children.table,delete l.script,l},X8=e=>e==="-"?"remove":"add",M0=e=>{let t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return D.from(t.exec(e)).map(o=>({preset:o[1]==="@",name:o[2]}))},J8=e=>{let t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return yr(jn(e,","),o=>{let s=t.exec(o);if(s){let l=s[1],u=l?X8(l):"replace",d=s[2],p=yr(jn(s[3],"|"),m=>M0(m).toArray());return[{operation:u,name:d,validChildren:p}]}else return[]})},eW=(e,t)=>{let o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,s=/[*?+]/,{attributes:l,attributesOrder:u}=t;return z(jn(e,"|"),d=>{let p=o.exec(d);if(p){let m={},v=p[1],b=p[2].replace(/[\\:]:/g,":"),C=p[3],E=p[4];if(v==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(b),m.required=!0),v==="-"){delete l[b],u.splice(ee.inArray(u,b),1);return}if(C&&(C==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:b,value:E}),m.defaultValue=E):C==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:b,value:E}),m.forcedValue=E):C==="<"&&(m.validValues=ee.makeMap(E,"?"))),s.test(b)){let x=m;t.attributePatterns=t.attributePatterns||[],x.pattern=Ak(b),t.attributePatterns.push(x)}else l[b]||u.push(b),l[b]=m}})},tW=(e,t)=>{kt(e.attributes,(o,s)=>{t.attributes[s]=o}),t.attributesOrder.push(...e.attributesOrder)},nW=(e,t)=>{let o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return yr(jn(t,","),s=>{let l=o.exec(s);if(l){let u=l[1],d=l[2],p=l[3],m=l[4],v=l[5],b={attributes:{},attributesOrder:[]};if(e.each(C=>tW(C,b)),u==="#"?b.paddEmpty=!0:u==="-"&&(b.removeEmpty=!0),m==="!"&&(b.removeEmptyAttrs=!0),v&&eW(v,b),p&&(b.outputName=d),d==="@")if(e.isNone())e=D.some(b);else return[];return[p?{name:d,element:b,aliasName:p}:{name:d,element:b}]}else return[]})},zh={},Qd=ee.makeMap,ns=ee.each,Nk=ee.extend,Rk=ee.explode,Ok=(e,t={})=>{let o=Qd(e," ",Qd(e.toUpperCase()," "));return Nk(o,t)},Pk=e=>Ok("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),N0=(e,t)=>{if(e){let o={};return te(e)&&(e={"*":e}),ns(e,(s,l)=>{o[l]=o[l.toUpperCase()]=t==="map"?Qd(s,/[, ]/):Rk(s,/[, ]/)}),o}else return},ia=(e={})=>{var t;let o={},s={},l=[],u={},d={},p=(be,Ye,Rt)=>{let qt=e[be];if(qt)return Qd(qt,/[, ]/,Qd(qt.toUpperCase(),/[, ]/));{let nn=zh[be];return nn||(nn=Ok(Ye,Rt),zh[be]=nn),nn}},m=(t=e.schema)!==null&&t!==void 0?t:"html5",v=Q8(m);e.verify_html===!1&&(e.valid_elements="*[*]");let b=N0(e.valid_styles),C=N0(e.invalid_styles,"map"),E=N0(e.valid_classes,"map"),x=p("whitespace_elements","pre script noscript style textarea video audio iframe object code"),I=p("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),S=p("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),A=p("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),M="td th iframe video audio object script code",R=p("non_empty_elements",M+" pre svg textarea summary",S),N=p("move_caret_before_on_enter_elements",M+" table",S),O="h1 h2 h3 h4 h5 h6",q=p("text_block_elements",O+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),X=p("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",q),ae=p("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),U=p("transparent_elements","a ins del canvas map"),F=p("wrap_block_elements","pre "+O);ns("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),be=>{d[be]=new RegExp("</"+be+"[^>]*>","gi")});let H=be=>{let Ye=D.from(o["@"]),Rt=/[*?+]/;z(nW(Ye,be??""),({name:qt,element:nn,aliasName:Cn})=>{if(Cn&&(o[Cn]=nn),Rt.test(qt)){let Qt=nn;Qt.pattern=Ak(qt),l.push(Qt)}else o[qt]=nn})},fe=be=>{l=[],z(_r(o),Ye=>{delete o[Ye]}),H(be)},ye=(be,Ye)=>{var Rt,qt;delete zh.text_block_elements,delete zh.block_elements;let nn=Ye.extends?!Ar(Ye.extends):!1,Cn=Ye.extends;if(s[be]=Cn?s[Cn]:{},u[be]=Cn??be,R[be.toUpperCase()]={},R[be]={},nn||(X[be.toUpperCase()]={},X[be]={}),Cn&&!o[be]&&o[Cn]){let Qt=K8(o[Cn]);delete Qt.removeEmptyAttrs,delete Qt.removeEmpty,o[be]=Qt}else o[be]={attributesOrder:[],attributes:{}};if(Ie(Ye.attributes)){let Qt=or=>{Xt.attributesOrder.push(or),Xt.attributes[or]={}},Xt=(Rt=o[be])!==null&&Rt!==void 0?Rt:{};delete Xt.attributesDefault,delete Xt.attributesForced,delete Xt.attributePatterns,delete Xt.attributesRequired,Xt.attributesOrder=[],Xt.attributes={},z(Ye.attributes,or=>{let Oo=kk(m);M0(or).each(({preset:Po,name:Fo})=>{Po?Fo==="global"&&z(Oo,Qt):Qt(Fo)})}),o[be]=Xt}if(et(Ye.padEmpty)){let Qt=(qt=o[be])!==null&&qt!==void 0?qt:{};Qt.paddEmpty=Ye.padEmpty,o[be]=Qt}if(Ie(Ye.children)){let Qt={},Xt=Oo=>{Qt[Oo]={}},or=Oo=>{Mk(m,Oo).each(Po=>{z(Po,Xt)})};z(Ye.children,Oo=>{M0(Oo).each(({preset:Po,name:Fo})=>{Po?or(Fo):Xt(Fo)})}),s[be]=Qt}Cn&&kt(s,(Qt,Xt)=>{Qt[Cn]&&(s[Xt]=Qt=Nk({},s[Xt]),Qt[be]=Qt[Cn])})},Be=be=>{z(Y8(be??""),({name:Ye,cloneName:Rt})=>{ye(Ye,{extends:Rt})})},Ue=be=>{Fe(be)?kt(be,(Ye,Rt)=>ye(Rt,Ye)):te(be)&&Be(be)},lt=be=>{z(J8(be??""),({operation:Ye,name:Rt,validChildren:qt})=>{let nn=Ye==="replace"?{"#comment":{}}:s[Rt],Cn=Xt=>{Ye==="remove"?delete nn[Xt]:nn[Xt]={}},Qt=Xt=>{Mk(m,Xt).each(or=>{z(or,Cn)})};z(qt,({preset:Xt,name:or})=>{Xt?Qt(or):Cn(or)}),s[Rt]=nn})},dt=be=>{let Ye=o[be];if(Ye)return Ye;let Rt=l.length;for(;Rt--;){let qt=l[Rt];if(qt.pattern.test(be))return qt}},zt=()=>{e.valid_elements?(fe(e.valid_elements),ns(v,(be,Ye)=>{s[Ye]=be.children})):(ns(v,(be,Ye)=>{o[Ye]={attributes:be.attributes,attributesOrder:be.attributesOrder},s[Ye]=be.children}),ns(jn("strong/b em/i"),be=>{let Ye=jn(be,"/");o[Ye[1]].outputName=Ye[0]}),ns(ae,(be,Ye)=>{o[Ye]&&(e.padd_empty_block_inline_children&&(o[Ye].paddInEmptyBlock=!0),o[Ye].removeEmpty=!0)}),ns(jn("ol ul blockquote a table tbody"),be=>{o[be]&&(o[be].removeEmpty=!0)}),ns(jn("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),be=>{o[be]&&(o[be].paddEmpty=!0)}),ns(jn("span"),be=>{o[be].removeEmptyAttrs=!0})),delete o.svg,Ue(e.custom_elements),lt(e.valid_children),H(e.extended_valid_elements),lt("+ol[ul|ol],+ul[ul|ol]"),ns({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(be,Ye)=>{o[Ye]&&(o[Ye].parentsRequired=jn(be))}),e.invalid_elements&&ns(Rk(e.invalid_elements),be=>{o[be]&&delete o[be]}),dt("span")||H("span[!data-mce-type|*]")},An=re(b),vt=re(C),ne=re(E),me=re(A),Je=re(X),se=re(q),we=re(ae),je=re(Object.seal(S)),ie=re(I),Ve=re(R),ze=re(N),un=re(x),ut=re(U),an=re(F),co=re(Object.seal(d)),cs=(be,Ye)=>{let Rt=s[be.toLowerCase()];return!!(Rt&&Rt[Ye.toLowerCase()])},rr=(be,Ye)=>{let Rt=dt(be);if(Rt)if(Ye){if(Rt.attributes[Ye])return!0;let qt=Rt.attributePatterns;if(qt){let nn=qt.length;for(;nn--;)if(qt[nn].pattern.test(Ye))return!0}}else return!0;return!1},Ar=be=>Pe(Je(),be),uo=be=>!vn(be,"#")&&rr(be)&&!Ar(be),kr=be=>Pe(an(),be)||uo(be),fo=re(u);return zt(),{type:m,children:s,elements:o,getValidStyles:An,getValidClasses:ne,getBlockElements:Je,getInvalidStyles:vt,getVoidElements:je,getTextBlockElements:se,getTextInlineElements:we,getBoolAttrs:me,getElementRule:dt,getSelfClosingElements:ie,getNonEmptyElements:Ve,getMoveCaretBeforeOnEnterElements:ze,getWhitespaceElements:un,getTransparentElements:ut,getSpecialElements:co,isValidChild:cs,isValid:rr,isBlock:Ar,isInline:uo,isWrapper:kr,getCustomElements:fo,addValidElements:H,setValidElements:fe,addCustomElements:Ue,addValidChildren:lt}},rW=e=>({value:oW(e)}),oW=e=>oA(e,"#").toUpperCase(),R0=e=>{let t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},sW=e=>{let t=R0(e.red)+R0(e.green)+R0(e.blue);return rW(t)},Fk=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Lk=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,iW=(e,t,o,s)=>({red:e,green:t,blue:o,alpha:s}),Bk=(e,t,o,s)=>{let l=parseInt(e,10),u=parseInt(t,10),d=parseInt(o,10),p=parseFloat(s);return iW(l,u,d,p)},aW=e=>Fk.test(e)?"rgb":Lk.test(e)?"rgba":"other",Vk=e=>{let t=Fk.exec(e);if(t!==null)return D.some(Bk(t[1],t[2],t[3],"1"));let o=Lk.exec(e);return o!==null?D.some(Bk(o[1],o[2],o[3],o[4])):D.none()},lW=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Xd=e=>Vk(e).map(sW).map(t=>"#"+t.value).getOr(e),O0=(e={},t)=>{let o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,u={},d,p,m=Kd;t&&(d=t.getValidStyles(),p=t.getInvalidStyles());let v=(`\\" \\' \\; \\: ; : `+m).split(" ");for(let C=0;C<v.length;C++)u[v[C]]=m+C,u[m+C]=v[C];let b={parse:C=>{let E={},x=!1,I=e.url_converter,S=e.url_converter_scope||b,A=(U,F,H)=>{let fe=E[U+"-top"+F];if(!fe)return;let ye=E[U+"-right"+F];if(!ye)return;let Be=E[U+"-bottom"+F];if(!Be)return;let Ue=E[U+"-left"+F];if(!Ue)return;let lt=[fe,ye,Be,Ue],dt=lt.length-1;for(;dt--&&lt[dt]===lt[dt+1];);dt>-1&&H||(E[U+F]=dt===-1?lt[0]:lt.join(" "),delete E[U+"-top"+F],delete E[U+"-right"+F],delete E[U+"-bottom"+F],delete E[U+"-left"+F])},M=U=>{let F=E[U];if(!F)return;let H=F.indexOf(",")>-1?[F]:F.split(" "),fe=H.length;for(;fe--;)if(H[fe]!==H[0])return!1;return E[U]=H[0],!0},R=(U,F,H,fe)=>{M(F)&&M(H)&&M(fe)&&(E[U]=E[F]+" "+E[H]+" "+E[fe],delete E[F],delete E[H],delete E[fe])},N=U=>(x=!0,u[U]),O=(U,F)=>(x&&(U=U.replace(/\uFEFF[0-9]/g,H=>u[H])),F||(U=U.replace(/\\([\'\";:])/g,"$1")),U),q=U=>String.fromCharCode(parseInt(U.slice(1),16)),X=U=>U.replace(/\\[0-9a-f]+/gi,q),ae=(U,F,H,fe,ye,Be)=>{if(ye=ye||Be,ye)return ye=O(ye),"'"+ye.replace(/\'/g,"\\'")+"'";if(F=O(F||H||fe||""),!e.allow_script_urls){let Ue=F.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Ue)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Ue))return""}return I&&(F=I.call(S,F,"style")),"url('"+F.replace(/\'/g,"\\'")+"')"};if(C){C=C.replace(/[\u0000-\u001F]/g,""),C=C.replace(/\\[\"\';:\uFEFF]/g,N).replace(/\"[^\"]+\"|\'[^\']+\'/g,F=>F.replace(/[;:]/g,N));let U;for(;U=s.exec(C);){s.lastIndex=U.index+U[0].length;let F=U[1].replace(l,"").toLowerCase(),H=U[2].replace(l,"");if(F&&H){if(F=X(F),H=X(H),F.indexOf(m)!==-1||F.indexOf('"')!==-1||!e.allow_script_urls&&(F==="behavior"||/expression\s*\(|\/\*|\*\//.test(H)))continue;F==="font-weight"&&H==="700"?H="bold":(F==="color"||F==="background-color")&&(H=H.toLowerCase()),aW(H)==="rgb"&&Vk(H).each(fe=>{H=Xd(lW(fe)).toLowerCase()}),H=H.replace(o,ae),E[F]=x?O(H,!0):H}}A("border","",!0),A("border","-width"),A("border","-color"),A("border","-style"),A("padding",""),A("margin",""),R("border","border-width","border-style","border-color"),E.border==="medium none"&&delete E.border,E["border-image"]==="none"&&delete E["border-image"]}return E},serialize:(C,E)=>{let x="",I=(A,M)=>{let R=M[A];if(R)for(let N=0,O=R.length;N<O;N++){let q=R[N],X=C[q];X&&(x+=(x.length>0?" ":"")+q+": "+X+";")}},S=(A,M)=>{if(!p||!M)return!0;let R=p["*"];return R&&R[A]?!1:(R=p[M],!(R&&R[A]))};return E&&d?(I("*",d),I(E,d)):kt(C,(A,M)=>{A&&S(M,E)&&(x+=(x.length>0?" ":"")+M+": "+A+";")}),x}};return b},cW={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},uW=e=>e instanceof Event||Oe(e.initEvent),dW=e=>e.isDefaultPrevented===Ut||e.isDefaultPrevented===wt,fW=e=>$e(e.preventDefault)||uW(e),$k=(e,t)=>{let o=t??{};for(let s in e)Pe(cW,s)||(o[s]=e[s]);return G(e.composedPath)&&(o.composedPath=()=>e.composedPath()),G(e.getModifierState)&&(o.getModifierState=s=>e.getModifierState(s)),G(e.getTargetRanges)&&(o.getTargetRanges=()=>e.getTargetRanges()),o},P0=(e,t,o,s)=>{var l;let u=$k(t,s);return u.type=e,$e(u.target)&&(u.target=(l=u.srcElement)!==null&&l!==void 0?l:o),fW(t)&&(u.preventDefault=()=>{u.defaultPrevented=!0,u.isDefaultPrevented=Ut,Oe(t.preventDefault)&&t.preventDefault()},u.stopPropagation=()=>{u.cancelBubble=!0,u.isPropagationStopped=Ut,Oe(t.stopPropagation)&&t.stopPropagation()},u.stopImmediatePropagation=()=>{u.isImmediatePropagationStopped=Ut,u.stopPropagation()},dW(u)||(u.isDefaultPrevented=u.defaultPrevented===!0?Ut:wt,u.isPropagationStopped=u.cancelBubble===!0?Ut:wt,u.isImmediatePropagationStopped=wt)),u},pW="mce-data-",hW=/^(?:mouse|contextmenu)|click/,F0=(e,t,o,s)=>{e.addEventListener(t,o,s||!1)},Wh=(e,t,o,s)=>{e.removeEventListener(t,o,s||!1)},mW=e=>G(e)&&hW.test(e.type),Jd=(e,t)=>{let o=P0(e.type,e,document,t);if(mW(e)&&Ke(e.pageX)&&!Ke(e.clientX)){let s=o.target.ownerDocument||document,l=s.documentElement,u=s.body,d=o;d.pageX=e.clientX+(l&&l.scrollLeft||u&&u.scrollLeft||0)-(l&&l.clientLeft||u&&u.clientLeft||0),d.pageY=e.clientY+(l&&l.scrollTop||u&&u.scrollTop||0)-(l&&l.clientTop||u&&u.clientTop||0)}return o},gW=(e,t,o)=>{let s=e.document,l={type:"ready"};if(o.domLoaded){t(l);return}let u=()=>s.readyState==="complete"||s.readyState==="interactive"&&s.body,d=()=>{Wh(e,"DOMContentLoaded",d),Wh(e,"load",d),o.domLoaded||(o.domLoaded=!0,t(l)),e=null};u()?d():F0(e,"DOMContentLoaded",d),o.domLoaded||F0(e,"load",d)};class il{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=pW+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,o,s,l){let u=this,d,p=window,m=E=>{u.executeHandlers(Jd(E||p.event),v)};if(!t||Q(t)||sa(t))return s;let v;t[u.expando]?v=t[u.expando]:(v=u.count++,t[u.expando]=v,u.events[v]={}),l=l||t;let b=o.split(" "),C=b.length;for(;C--;){let E=b[C],x=m,I=!1,S=!1;if(E==="DOMContentLoaded"&&(E="ready"),u.domLoaded&&E==="ready"&&t.readyState==="complete"){s.call(l,Jd({type:E}));continue}!u.hasFocusIn&&(E==="focusin"||E==="focusout")&&(I=!0,S=E==="focusin"?"focus":"blur",x=A=>{let M=Jd(A||p.event);M.type=M.type==="focus"?"focusin":"focusout",u.executeHandlers(M,v)}),d=u.events[v][E],d?E==="ready"&&u.domLoaded?s(Jd({type:E})):d.push({func:s,scope:l}):(u.events[v][E]=d=[{func:s,scope:l}],d.fakeName=S,d.capture=I,d.nativeHandler=x,E==="ready"?gW(t,x,u):F0(t,S||E,x,I))}return t=d=null,s}unbind(t,o,s){if(!t||Q(t)||sa(t))return this;let l=t[this.expando];if(l){let u=this.events[l];if(o){let d=o.split(" "),p=d.length;for(;p--;){let m=d[p],v=u[m];if(v){if(s){let b=v.length;for(;b--;)if(v[b].func===s){let C=v.nativeHandler,E=v.fakeName,x=v.capture,I=v.slice(0,b).concat(v.slice(b+1));I.nativeHandler=C,I.fakeName=E,I.capture=x,u[m]=I}}(!s||v.length===0)&&(delete u[m],Wh(t,v.fakeName||m,v.nativeHandler,v.capture))}}}else kt(u,(d,p)=>{Wh(t,d.fakeName||p,d.nativeHandler,d.capture)}),u={};for(let d in u)if(Pe(u,d))return this;delete this.events[l];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,o,s){return this.dispatch(t,o,s)}dispatch(t,o,s){if(!t||Q(t)||sa(t))return this;let l=Jd({type:o,target:t},s);do{let u=t[this.expando];u&&this.executeHandlers(l,u),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!l.isPropagationStopped());return this}clean(t){if(!t||Q(t)||sa(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);let o=t.getElementsByTagName("*"),s=o.length;for(;s--;)t=o[s],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,o){let s=this.events[o],l=s&&s[t.type];if(l)for(let u=0,d=l.length;u<d;u++){let p=l[u];if(p&&p.func.call(p.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}il.Event=new il;let L0=ee.each,vW=ee.grep,B0="data-mce-style",yW=ee.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),ef=(e,t,o)=>{$e(o)||o===""?Pn(e,t):On(e,t,o)},jk=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Mc=(e,t)=>{let o=0;if(e)for(let s=e.nodeType,l=e.previousSibling;l;l=l.previousSibling){let u=l.nodeType;t&&Q(l)&&(u===s||!l.data.length)||(o++,s=u)}return o},Uk=(e,t)=>{let o=jr(t,"style"),s=e.serialize(e.parse(o),st(t));ef(t,B0,s)},bW=(e,t)=>Zt(e)?Pe(yW,t)?e+"":e+"px":e,Hk=(e,t,o)=>{let s=jk(t);$e(o)||o===""?QA(e,s):YA(e,s,bW(o,s))},CW=(e,t,o)=>{let s=t.keep_values,l={set:(d,p,m)=>{let v=T.fromDom(d);Oe(t.url_converter)&&G(p)&&(p=t.url_converter.call(t.url_converter_scope||o(),String(p),m,d));let b="data-mce-"+m;ef(v,b,p),ef(v,m,p)},get:(d,p)=>{let m=T.fromDom(d);return jr(m,"data-mce-"+p)||jr(m,p)}},u={style:{set:(d,p)=>{let m=T.fromDom(d);s&&ef(m,B0,p),Pn(m,"style"),te(p)&&Rh(m,e.parse(p))},get:d=>{let p=T.fromDom(d),m=jr(p,B0)||jr(p,"style");return e.serialize(e.parse(m),st(p))}}};return s&&(u.href=u.src=l),u},At=(e,t={})=>{let o={},s=window,l={},u=0,d=!0,p=!0,m=Ek.forElement(T.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),v=[],b=t.schema?t.schema:ia({}),C=O0({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),E=t.ownEvents?new il:il.Event,x=b.getBlockElements(),I=P=>te(P)?Pe(x,P):ge(P)&&(Pe(x,P.nodeName)||rl(b,P)),S=P=>P&&e&&te(P)?e.getElementById(P):P,A=P=>{let L=S(P);return G(L)?T.fromDom(L):null},M=(P,L,J="")=>{let Z,De=A(P);if(G(De)&&$r(De)){let qe=op[L];qe&&qe.get?Z=qe.get(De.dom,L):Z=jr(De,L)}return G(Z)?Z:J},R=P=>{let L=S(P);return $e(L)?[]:L.attributes},N=(P,L,J)=>{me(P,Z=>{if(ge(Z)){let De=T.fromDom(Z),qe=J===""?null:J,Ot=jr(De,L),Lo=op[L];Lo&&Lo.set?Lo.set(De.dom,qe,L):ef(De,L,qe),Ot!==qe&&t.onSetAttrib&&t.onSetAttrib({attrElm:De.dom,attrName:L,attrValue:qe})}})},O=(P,L)=>P.cloneNode(L),q=()=>t.root_element||e.body,X=P=>{let L=ok(P);return{x:L.x,y:L.y,w:L.width,h:L.height}},ae=(P,L)=>O8(e.body,S(P),L),U=(P,L,J)=>{me(P,Z=>{let De=T.fromDom(Z);Hk(De,L,J),t.update_styles&&Uk(C,De)})},F=(P,L)=>{me(P,J=>{let Z=T.fromDom(J);kt(L,(De,qe)=>{Hk(Z,qe,De)}),t.update_styles&&Uk(C,Z)})},H=(P,L,J)=>{let Z=S(P);if(!($e(Z)||!hi(Z)&&!i8(Z)))return J?Os(T.fromDom(Z),jk(L)):(L=L.replace(/-(\D)/g,(De,qe)=>qe.toUpperCase()),L==="float"&&(L="cssFloat"),Z.style?Z.style[L]:void 0)},fe=P=>{let L=S(P);if(!L)return{w:0,h:0};let J=H(L,"width"),Z=H(L,"height");return(!J||J.indexOf("px")===-1)&&(J="0"),(!Z||Z.indexOf("px")===-1)&&(Z="0"),{w:parseInt(J,10)||L.offsetWidth||L.clientWidth,h:parseInt(Z,10)||L.offsetHeight||L.clientHeight}},ye=P=>{let L=S(P),J=ae(L),Z=fe(L);return{x:J.x,y:J.y,w:Z.w,h:Z.h}},Be=(P,L)=>{if(!P)return!1;let J=Ie(P)?P:[P];return Ht(J,Z=>Jo(T.fromDom(Z),L))},Ue=(P,L,J,Z)=>{let De=[],qe=S(P);Z=Z===void 0;let Ot=J||(q().nodeName!=="BODY"?q().parentNode:null);if(te(L))if(L==="*")L=ge;else{let Lo=L;L=Vg=>Be(Vg,Lo)}for(;qe&&!(qe===Ot||$e(qe.nodeType)||Zd(qe)||v0(qe));){if(!L||L(qe))if(Z)De.push(qe);else return[qe];qe=qe.parentNode}return Z?De:null},lt=(P,L,J)=>{let Z=Ue(P,L,J,!1);return Z&&Z.length>0?Z[0]:null},dt=(P,L,J)=>{let Z=L;if(P){te(L)&&(Z=De=>Be(De,L));for(let De=P[J];De;De=De[J])if(Oe(Z)&&Z(De))return De}return null},zt=(P,L)=>dt(P,L,"nextSibling"),An=(P,L)=>dt(P,L,"previousSibling"),vt=P=>Oe(P.querySelectorAll),ne=(P,L)=>{var J,Z;let De=(Z=(J=S(L))!==null&&J!==void 0?J:t.root_element)!==null&&Z!==void 0?Z:e;return vt(De)?Vr(De.querySelectorAll(P)):[]},me=function(P,L,J){let Z=J??this;if(Ie(P)){let De=[];return L0(P,(qe,Ot)=>{let Lo=S(qe);Lo&&De.push(L.call(Z,Lo,Ot))}),De}else{let De=S(P);return De?L.call(Z,De):!1}},Je=(P,L)=>{me(P,J=>{kt(L,(Z,De)=>{N(J,De,Z)})})},se=(P,L)=>{me(P,J=>{let Z=T.fromDom(J);Fh(Z,L)})},we=(P,L,J,Z,De)=>me(P,qe=>{let Ot=te(L)?e.createElement(L):L;return G(J)&&Je(Ot,J),Z&&(!te(Z)&&Z.nodeType?Ot.appendChild(Z):te(Z)&&se(Ot,Z)),De?Ot:qe.appendChild(Ot)}),je=(P,L,J)=>we(e.createElement(P),P,L,J,!0),ie=sl.decode,Ve=sl.encodeAllRaw,ze=(P,L,J="")=>{let Z="<"+P;for(let De in L)Cc(L,De)&&(Z+=" "+De+'="'+Ve(L[De])+'"');return Bd(J)&&Pe(b.getVoidElements(),P)?Z+" />":Z+">"+J+"</"+P+">"},un=P=>{let L=e.createElement("div"),J=e.createDocumentFragment();J.appendChild(L),P&&(L.innerHTML=P);let Z;for(;Z=L.firstChild;)J.appendChild(Z);return J.removeChild(L),J},ut=(P,L)=>me(P,J=>{let Z=T.fromDom(J);return L&&z(Xn(Z),De=>{Xr(De)&&De.dom.length===0?Lt(De):xr(Z,De)}),Lt(Z),Z.dom}),an=P=>me(P,L=>{let J=L.attributes;for(let Z=J.length-1;Z>=0;Z--)L.removeAttributeNode(J.item(Z))}),co=P=>C.parse(P),cs=(P,L)=>C.serialize(P,L),rr=P=>{if(qs!==At.DOM&&e===document){if(o[P])return;o[P]=!0}let L=e.getElementById("mceDefaultStyles");if(!L){L=e.createElement("style"),L.id="mceDefaultStyles",L.type="text/css";let J=e.head;J.firstChild?J.insertBefore(L,J.firstChild):J.appendChild(L)}L.styleSheet?L.styleSheet.cssText+=P:L.appendChild(e.createTextNode(P))},Ar=P=>{P||(P=""),z(P.split(","),L=>{l[L]=!0,m.load(L).catch(Ne)})},uo=(P,L,J)=>{me(P,Z=>{if(ge(Z)){let De=T.fromDom(Z),qe=L.split(" ");z(qe,Ot=>{G(J)?(J?_c:Ud)(De,Ot):w4(De,Ot)})}})},kr=(P,L)=>{uo(P,L,!0)},fo=(P,L)=>{uo(P,L,!1)},be=(P,L)=>{let J=A(P),Z=L.split(" ");return G(J)&&ko(Z,De=>r0(J,De))},Ye=P=>{me(P,L=>QA(T.fromDom(L),"display"))},Rt=P=>{me(P,L=>YA(T.fromDom(L),"display","none"))},qt=P=>{let L=A(P);return G(L)&&Ec(Oh(L,"display"),"none")},nn=P=>(P||"mce_")+u++,Cn=P=>{let L=A(P);return G(L)?ge(L.dom)?L.dom.outerHTML:H4(L):""},Qt=(P,L)=>{me(P,J=>{ge(J)&&(J.outerHTML=L)})},Xt=(P,L)=>{let J=S(L);return me(P,Z=>{let De=J?.parentNode,qe=J?.nextSibling;return De&&(qe?De.insertBefore(Z,qe):De.appendChild(Z)),Z})},or=(P,L,J)=>me(L,Z=>{var De;let qe=Ie(L)?P.cloneNode(!0):P;return J&&L0(vW(Z.childNodes),Ot=>{qe.appendChild(Ot)}),(De=Z.parentNode)===null||De===void 0||De.replaceChild(qe,Z),Z}),Oo=(P,L)=>{if(P.nodeName!==L.toUpperCase()){let J=je(L);return L0(R(P),Z=>{N(J,Z.nodeName,M(P,Z.nodeName))}),or(J,P,!0),J}else return P},Po=(P,L)=>{let J=P;for(;J;){let Z=L;for(;Z&&J!==Z;)Z=Z.parentNode;if(J===Z)break;J=J.parentNode}return!J&&P.ownerDocument?P.ownerDocument.documentElement:J},Fo=(P,L,J)=>{if(Le(L)){let Z=De=>{let qe=De.nodeName.toLowerCase();return!!L[qe]};return mi(b,P,Me(W({},J),{isContent:Z}))}else return mi(b,P,J)},po=()=>e.createRange(),Ca=(P,L,J)=>{let Z=po(),De,qe;if(P&&L&&P.parentNode&&L.parentNode){let Ot=P.parentNode;return Z.setStart(Ot,Mc(P)),Z.setEnd(L.parentNode,Mc(L)),De=Z.extractContents(),Z=po(),Z.setStart(L.parentNode,Mc(L)+1),Z.setEnd(Ot,Mc(P)+1),qe=Z.extractContents(),Ot.insertBefore(I0(qs,De,b),P),J?Ot.insertBefore(J,P):Ot.insertBefore(L,P),Ot.insertBefore(I0(qs,qe,b),P),ut(P),J||L}else return},du=(P,L,J,Z)=>{if(Ie(P)){let De=P.length,qe=[];for(;De--;)qe[De]=du(P[De],L,J,Z);return qe}else return t.collect&&(P===e||P===s)&&v.push([P,L,J,Z]),E.bind(P,L,J,Z||qs)},fu=(P,L,J)=>{if(Ie(P)){let Z=P.length,De=[];for(;Z--;)De[Z]=fu(P[Z],L,J);return De}else{if(v.length>0&&(P===e||P===s)){let Z=v.length;for(;Z--;){let[De,qe,Ot]=v[Z];P===De&&(!L||L===qe)&&(!J||J===Ot)&&E.unbind(De,qe,Ot)}}return E.unbind(P,L,J)}},ED=(P,L,J)=>E.dispatch(P,L,J),Di=(P,L,J)=>E.dispatch(P,L,J),Bg=P=>{if(P&&hi(P)){let L=P.getAttribute("data-mce-contenteditable");return L&&L!=="inherit"?L:P.contentEditable!=="inherit"?P.contentEditable:null}else return null},qs={doc:e,settings:t,win:s,files:l,stdMode:d,boxModel:p,styleSheetLoader:m,boundEvents:v,styles:C,schema:b,events:E,isBlock:I,root:null,clone:O,getRoot:q,getViewPort:X,getRect:ye,getSize:fe,getParent:lt,getParents:Ue,get:S,getNext:zt,getPrev:An,select:ne,is:Be,add:we,create:je,createHTML:ze,createFragment:un,remove:ut,setStyle:U,getStyle:H,setStyles:F,removeAllAttribs:an,setAttrib:N,setAttribs:Je,getAttrib:M,getPos:ae,parseStyle:co,serializeStyle:cs,addStyle:rr,loadCSS:Ar,addClass:kr,removeClass:fo,hasClass:be,toggleClass:uo,show:Ye,hide:Rt,isHidden:qt,uniqueId:nn,setHTML:se,getOuterHTML:Cn,setOuterHTML:Qt,decode:ie,encode:Ve,insertAfter:Xt,replace:or,rename:Oo,findCommonAncestor:Po,run:me,getAttribs:R,isEmpty:Fo,createRng:po,nodeIndex:Mc,split:Ca,bind:du,unbind:fu,fire:Di,dispatch:ED,getContentEditable:Bg,getContentEditableParent:P=>{let L=q(),J=null;for(let Z=P;Z&&Z!==L&&(J=Bg(Z),J===null);Z=Z.parentNode);return J},isEditable:P=>{if(G(P)){let L=ge(P)?P:P.parentElement;return G(L)&&hi(L)&&Xa(T.fromDom(L))}else return!1},destroy:()=>{if(v.length>0){let P=v.length;for(;P--;){let[L,J,Z]=v[P];E.unbind(L,J,Z)}}kt(l,(P,L)=>{m.unload(L),delete l[L]})},isChildOf:(P,L)=>P===L||L.contains(P),dumpRng:P=>"startContainer: "+P.startContainer.nodeName+", startOffset: "+P.startOffset+", endContainer: "+P.endContainer.nodeName+", endOffset: "+P.endOffset},op=CW(C,t,re(qs));return qs};At.DOM=At(document),At.nodeIndex=Mc;let wW=At.DOM,EW=0,DW=1,qh=2,zk=3;class vi{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((o,s)=>{let l=wW,u,d=()=>{l.remove(v),u&&(u.onerror=u.onload=u=null)},p=()=>{d(),o()},m=()=>{d(),s("Failed to load script: "+t)},v=l.uniqueId();u=document.createElement("script"),u.id=v,u.type="text/javascript",u.src=ee._addCacheSuffix(t),this.settings.referrerPolicy&&l.setAttrib(u,"referrerpolicy",this.settings.referrerPolicy),u.onload=p,u.onerror=m,(document.getElementsByTagName("head")[0]||document.body).appendChild(u)})}isDone(t){return this.states[t]===qh}markDone(t){this.states[t]=qh}add(t){let o=this;return o.queue.push(t),o.states[t]===void 0&&(o.states[t]=EW),new Promise((l,u)=>{o.scriptLoadedCallbacks[t]||(o.scriptLoadedCallbacks[t]=[]),o.scriptLoadedCallbacks[t].push({resolve:l,reject:u})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){let t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){let o=this,s=(m,v)=>{Ft(o.scriptLoadedCallbacks,v).each(b=>{z(b,C=>C[m](v))}),delete o.scriptLoadedCallbacks[v]},l=m=>{let v=Te(m,b=>b.status==="rejected");return v.length>0?Promise.reject(yr(v,({reason:b})=>Ie(b)?b:[b])):Promise.resolve()},u=m=>Promise.allSettled(rt(m,v=>o.states[v]===qh?(s("resolve",v),Promise.resolve()):o.states[v]===zk?(s("reject",v),Promise.reject(v)):(o.states[v]=DW,o.loadScript(v).then(()=>{o.states[v]=qh,s("resolve",v);let b=o.queue;return b.length>0?(o.queue=[],u(b).then(l)):Promise.resolve()},()=>(o.states[v]=zk,s("reject",v),Promise.reject(v)))))),d=m=>(o.loading=!0,u(m).then(v=>{o.loading=!1;let b=o.queueLoadedCallbacks.shift();return D.from(b).each(Ao),l(v)})),p=XI(t);return o.loading?new Promise((m,v)=>{o.queueLoadedCallbacks.push(()=>{d(p).then(m,v)})}):d(p)}}vi.ScriptLoader=new vi;let _W=(e,t)=>{let o=e.indexOf(t);return o!==-1&&e.indexOf(t,o+1)>o},xW=e=>Fe(e)&&Pe(e,"raw"),SW=e=>Ie(e)&&e.length>1,tf={},V0=In("en"),Wk=()=>Ft(tf,V0.get()),rs={getData:()=>Od(tf,e=>W({},e)),setCode:e=>{e&&V0.set(e)},getCode:()=>V0.get(),add:(e,t)=>{let o=tf[e];o||(tf[e]=o={});let s=rt(_r(t),l=>l.toLowerCase());kt(t,(l,u)=>{let d=u.toLowerCase();d!==u&&_W(s,d)?(Pe(t,d)||(o[d]=l),o[u]=l):o[d]=l})},translate:e=>{let t=Wk().getOr({}),o=d=>Oe(d)?Object.prototype.toString.call(d):s(d)?"":""+d,s=d=>d===""||d===null||d===void 0,l=d=>{let p=o(d);return Pe(t,p)?o(t[p]):Ft(t,p.toLowerCase()).map(o).getOr(p)},u=d=>d.replace(/{context:\w+}$/,"");if(s(e))return"";if(xW(e))return o(e.raw);if(SW(e)){let d=e.slice(1),p=l(e[0]).replace(/\{([0-9]+)\}/g,(m,v)=>Pe(d,v)?o(d[v]):m);return u(p)}return u(l(e))},isRtl:()=>Wk().bind(e=>Ft(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>Pe(tf,e)},dr=()=>{let e=[],t={},o={},s=[],l=(S,A)=>{let M=Te(s,R=>R.name===S&&R.state===A);z(M,R=>R.resolve())},u=S=>Pe(t,S),d=S=>Pe(o,S),p=S=>{if(o[S])return o[S].instance},m=(S,A)=>{let M=rs.getCode(),R=","+(A||"")+",";!M||A&&R.indexOf(","+M+",")===-1||vi.ScriptLoader.add(t[S]+"/langs/"+M+".js")},v=(S,A)=>{dr.languageLoad!==!1&&(u(S)?m(S,A):I(S,"loaded").then(()=>m(S,A)))},b=(S,A)=>(e.push(A),o[S]={instance:A},l(S,"added"),A),C=S=>{delete t[S],delete o[S]},E=(S,A)=>te(A)?te(S)?{prefix:"",resource:A,suffix:""}:{prefix:S.prefix,resource:A,suffix:S.suffix}:A,x=(S,A)=>{if(t[S])return Promise.resolve();let M=te(A)?A:A.prefix+A.resource+A.suffix;M.indexOf("/")!==0&&M.indexOf("://")===-1&&(M=dr.baseURL+"/"+M),t[S]=M.substring(0,M.lastIndexOf("/"));let R=()=>(l(S,"loaded"),Promise.resolve());return o[S]?R():vi.ScriptLoader.add(M).then(R)},I=(S,A="added")=>A==="added"&&d(S)||A==="loaded"&&u(S)?Promise.resolve():new Promise(M=>{s.push({name:S,state:A,resolve:M})});return{items:e,urls:t,lookup:o,get:p,requireLangPack:v,add:b,remove:C,createUrl:E,load:x,waitFor:I}};dr.languageLoad=!0,dr.baseURL="",dr.PluginManager=dr(),dr.ThemeManager=dr(),dr.ModelManager=dr();let Gh=(e,t)=>{let o=null;return{cancel:()=>{ke(o)||(clearTimeout(o),o=null)},throttle:(...u)=>{ke(o)&&(o=setTimeout(()=>{o=null,e.apply(null,u)},t))}}},$0=(e,t)=>{let o=null,s=()=>{ke(o)||(clearTimeout(o),o=null)};return{cancel:s,throttle:(...u)=>{s(),o=setTimeout(()=>{o=null,e.apply(null,u)},t)}}},IW=(e,t,o)=>qd(e,t,o).isSome(),nf=re("mce-annotation"),al=re("data-mce-annotation"),Nc=re("data-mce-annotation-uid"),rf=re("data-mce-annotation-active"),of=re("data-mce-annotation-classes"),sf=re("data-mce-annotation-attrs"),qk=e=>t=>mt(t,e),Gk=(e,t)=>{let o=e.selection.getRng(),s=T.fromDom(o.startContainer),l=T.fromDom(e.getBody()),u=t.fold(()=>"."+nf(),m=>`[${al()}="${m}"]`),d=xc(s,o.startOffset).getOr(s);return Ic(d,u,qk(l)).bind(m=>ui(m,`${Nc()}`).bind(v=>ui(m,`${al()}`).map(b=>{let C=Yk(e,v);return{uid:v,name:b,elements:C}})))},AW=e=>$r(e)&&r0(e,nf()),Kk=(e,t)=>$d(e,"data-mce-bogus")||IW(e,'[data-mce-bogus="all"]',qk(t)),Yk=(e,t)=>{let o=T.fromDom(e.getBody()),s=Jn(o,`[${Nc()}="${t}"]`);return Te(s,l=>!Kk(l,o))},Zk=(e,t)=>{let o=T.fromDom(e.getBody()),s=Jn(o,`[${al()}="${t}"]`),l={};return z(s,u=>{if(!Kk(u,o)){let d=jr(u,Nc()),p=Ft(l,d).getOr([]);l[d]=p.concat([u])}}),l},kW=(e,t)=>{let o=In({}),s=()=>({listeners:[],previous:gi()}),l=(C,E)=>{u(C,x=>(E(x),x))},u=(C,E)=>{let x=o.get(),I=Ft(x,C).getOrThunk(s),S=E(I);x[C]=S,o.set(x)},d=(C,E,x)=>{l(C,I=>{z(I.listeners,S=>S(!0,C,{uid:E,nodes:rt(x,A=>A.dom)}))})},p=C=>{l(C,E=>{z(E.listeners,x=>x(!1,C))})},m=(C,E)=>{z(Yk(e,C),x=>{E?On(x,rf(),"true"):Pn(x,rf())})},v=$0(()=>{let C=Ga(t.getNames());z(C,E=>{u(E,x=>{let I=x.previous.get();return Gk(e,D.some(E)).fold(()=>{I.each(S=>{p(E),x.previous.clear(),m(S,!1)})},({uid:S,name:A,elements:M})=>{Ec(I,S)||(I.each(R=>m(R,!1)),d(A,S,M),x.previous.set(S),m(S,!0))}),{previous:x.previous,listeners:x.listeners}})})},30);return e.on("remove",()=>{v.cancel()}),e.on("NodeChange",()=>{v.throttle()}),{addListener:(C,E)=>{u(C,x=>({previous:x.previous,listeners:x.listeners.concat([E])}))}}},TW=(e,t)=>{let o=al(),s=u=>D.from(u.attr(o)).bind(t.lookup),l=u=>{var d,p;u.attr(Nc(),null),u.attr(al(),null),u.attr(rf(),null);let m=D.from(u.attr(sf())).map(E=>E.split(",")).getOr([]),v=D.from(u.attr(of())).map(E=>E.split(",")).getOr([]);z(m,E=>u.attr(E,null));let b=(p=(d=u.attr("class"))===null||d===void 0?void 0:d.split(" "))!==null&&p!==void 0?p:[],C=Dh(b,[nf()].concat(v));u.attr("class",C.length>0?C.join(" "):null),u.attr(of(),null),u.attr(sf(),null)};e.serializer.addTempAttr(rf()),e.serializer.addAttributeFilter(o,u=>{for(let d of u)s(d).each(p=>{p.persistent===!1&&(d.name==="span"?d.unwrap():l(d))})})},MW=()=>{let e={};return{register:(l,u)=>{e[l]={name:l,settings:u}},lookup:l=>Ft(e,l).map(u=>u.settings),getNames:()=>_r(e)}},Qk=0,af=e=>{let o=new Date().getTime(),s=Math.floor(Math.random()*1e9);return Qk++,e+"_"+s+Qk+String(o)},NW=(e,t)=>{z(t,o=>{_c(e,o)})},RW=(e,t)=>{z(t,o=>{Ud(e,o)})},Xk=(e,t)=>T.fromDom(e.dom.cloneNode(t)),ll=e=>Xk(e,!1),Jk=e=>Xk(e,!0),OW=(e,t)=>{let o=T.fromTag(t),s=PA(e);return ci(o,s),o},PW=(e,t)=>{let o=OW(e,t);pi(e,o);let s=Xn(e);return Ja(o,s),Lt(e),o},eT=(e,t,o=wt)=>{let s=new xn(e,t),l=u=>{let d;do d=s[u]();while(d&&!Q(d)&&!o(d));return D.from(d).filter(Q)};return{current:()=>D.from(s.current()).filter(Q),next:()=>l("next"),prev:()=>l("prev"),prev2:()=>l("prev2")}},cl=(e,t)=>{let o=t||(d=>e.isBlock(d)||Gt(d)||Nt(d)),s=(d,p,m,v)=>{if(Q(d)){let b=v(d,p,d.data);if(b!==-1)return D.some({container:d,offset:b})}return m().bind(b=>s(b.container,b.offset,m,v))};return{backwards:(d,p,m,v)=>{let b=eT(d,v??e.getRoot(),o);return s(d,p,()=>b.prev().map(C=>({container:C,offset:C.length})),m).getOrNull()},forwards:(d,p,m,v)=>{let b=eT(d,v??e.getRoot(),o);return s(d,p,()=>b.next().map(C=>({container:C,offset:0})),m).getOrNull()}}},j0=((e,t)=>{let o=u=>{if(!e(u))throw new Error("Can only get "+t+" value of a "+t+" node");return s(u).getOr("")},s=u=>e(u)?D.from(u.dom.nodeValue):D.none();return{get:o,getOption:s,set:(u,d)=>{if(!e(u))throw new Error("Can only set raw "+t+" value of a "+t+" node");u.dom.nodeValue=d}}})(Xr,"text"),Kh=e=>j0.get(e),FW=e=>j0.getOption(e),LW=(e,t)=>j0.set(e,t),BW=["td","th"],VW=["thead","tbody","tfoot"],$W=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],jW=["li","dd","dt"],UW=["ul","ol","dl"],HW=["pre","script","textarea","style"],Rc=e=>{let t;return o=>(t=t||qb(e,Ut),Pe(t,st(o)))},zW=e=>st(e)==="table",ul=e=>$r(e)&&st(e)==="br",tT=Rc($W),U0=Rc(UW),Oc=Rc(jW),WW=Rc(VW),lf=Rc(BW),Yh=Rc(HW),qW=e=>{let t=[],o=e.dom;for(;o;)t.push(T.fromDom(o)),o=o.lastChild;return t},GW=e=>{let t=Jn(e,"br"),o=Te(qW(e).slice(-1),ul);t.length===o.length&&z(o,Lt)},Pc=()=>{let e=T.fromTag("br");return On(e,"data-mce-bogus","1"),e},aa=e=>{Ac(e),pn(e,Pc())},KW=(e,t)=>{a0(e).each(o=>{Za(o).each(s=>{t.isBlock(st(e))&&ul(o)&&t.isBlock(st(s))&&Lt(o)})})},yn=Kd,Zh=m0,Ur=t8,YW=e=>e.insertContent(yn,{preserve_zwsp:!0}),ZW=ge,Fc=Q,Lc=e=>(Fc(e)&&(e=e.parentNode),ZW(e)&&e.hasAttribute("data-mce-caret")),la=e=>Fc(e)&&Zh(e.data),Jr=e=>Lc(e)||la(e),nT=e=>e.firstChild!==e.lastChild||!Gt(e.firstChild),QW=(e,t)=>{var o;let l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(yn),u=e.parentNode;if(t){let d=e.previousSibling;if(Fc(d)){if(Jr(d))return d;if(Xh(d))return d.splitText(d.data.length-1)}u?.insertBefore(l,e)}else{let d=e.nextSibling;if(Fc(d)){if(Jr(d))return d;if(Qh(d))return d.splitText(1),d}e.nextSibling?u?.insertBefore(l,e.nextSibling):u?.appendChild(l)}return l},H0=e=>{let t=e.container();return Q(t)?t.data.charAt(e.offset())===yn||e.isAtStart()&&la(t.previousSibling):!1},z0=e=>{let t=e.container();return Q(t)?t.data.charAt(e.offset()-1)===yn||e.isAtEnd()&&la(t.nextSibling):!1},XW=(e,t,o)=>{var s;let u=((s=t.ownerDocument)!==null&&s!==void 0?s:document).createElement(e);u.setAttribute("data-mce-caret",o?"before":"after"),u.setAttribute("data-mce-bogus","all"),u.appendChild(Pc().dom);let d=t.parentNode;return o?d?.insertBefore(u,t):t.nextSibling?d?.insertBefore(u,t.nextSibling):d?.appendChild(u),u},Qh=e=>Fc(e)&&e.data[0]===yn,Xh=e=>Fc(e)&&e.data[e.data.length-1]===yn,JW=e=>{var t;let o=e.getElementsByTagName("br"),s=o[o.length-1];tl(s)&&((t=s.parentNode)===null||t===void 0||t.removeChild(s))},W0=e=>e&&e.hasAttribute("data-mce-caret")?(JW(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,rT=e=>Lc(e.startContainer),Bc=Math.round,dl=e=>e?{left:Bc(e.left),top:Bc(e.top),bottom:Bc(e.bottom),right:Bc(e.right),width:Bc(e.width),height:Bc(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},oT=(e,t)=>(e=dl(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),e6=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,sT=(e,t,o)=>e>=0&&e<=Math.min(t.height,o.height)/2,cf=(e,t)=>{let o=Math.min(t.height/2,e.height/2);return e.bottom-o<t.top?!0:e.top>t.bottom?!1:sT(t.top-e.bottom,e,t)},uf=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:sT(t.bottom-e.top,e,t),t6=(e,t,o)=>t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom,n6=e=>Rn(e,(t,o)=>t.fold(()=>D.some(o),s=>{let l=Math.min(o.left,s.left),u=Math.min(o.top,s.top),d=Math.max(o.right,s.right),p=Math.max(o.bottom,s.bottom);return D.some({top:u,right:d,bottom:p,left:l,width:d-l,height:p-u})}),D.none()),iT=(e,t,o)=>{let s=Math.max(Math.min(t,e.left+e.width),e.left),l=Math.max(Math.min(o,e.top+e.height),e.top);return Math.sqrt((t-s)*(t-s)+(o-l)*(o-l))},r6=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),o6=(e,t,o)=>Math.min(Math.max(e,t),o),Jh=e=>{let t=e.startContainer,o=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===o+1?t.childNodes[o]:null},ca=(e,t)=>{if(ge(e)&&e.hasChildNodes()){let o=e.childNodes,s=o6(t,0,o.length-1);return o[s]}else return e},s6=(e,t)=>{if(!(t<0&&ge(e)&&e.hasChildNodes()))return ca(e,t)},i6=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),aT=e=>te(e)&&e.charCodeAt(0)>=768&&i6.test(e),a6=(...e)=>t=>{for(let o=0;o<e.length;o++)if(e[o](t))return!0;return!1},l6=(...e)=>t=>{for(let o=0;o<e.length;o++)if(!e[o](t))return!1;return!0},lT=To,c6=Nt,u6=Gt,d6=Q,f6=ts(["script","style","textarea"]),cT=ts(["img","input","textarea","hr","iframe","video","audio","object","embed"]),p6=ts(["table"]),h6=Jr,os=e=>h6(e)?!1:d6(e)?!f6(e.parentNode):cT(e)||u6(e)||p6(e)||q0(e),m6=e=>ge(e)&&e.getAttribute("unselectable")==="true",q0=e=>!m6(e)&&c6(e),g6=(e,t)=>{for(let o=e.parentNode;o&&o!==t;o=o.parentNode){if(q0(o))return!1;if(lT(o))return!0}return!0},v6=e=>q0(e)?!Rn(Vr(e.getElementsByTagName("*")),(t,o)=>t||lT(o),!1):!1,y6=e=>cT(e)||v6(e),uT=(e,t)=>os(e)&&g6(e,t),dT=ge,b6=os,fT=Vh("display","block table"),C6=Vh("float","left right"),df=l6(dT,b6,ai(C6)),w6=ai(Vh("white-space","pre pre-line pre-wrap")),ff=Q,G0=Gt,pT=At.nodeIndex,em=s6,K0=e=>e?e.createRange():At.DOM.createRng(),Y0=e=>te(e)&&/[\r\n\t ]/.test(e),hT=e=>!!e.setStart&&!!e.setEnd,Z0=e=>{let t=e.startContainer,o=e.startOffset;if(Y0(e.toString())&&w6(t.parentNode)&&Q(t)){let s=t.data;if(Y0(s[o-1])||Y0(s[o+1]))return!0}return!1},E6=e=>{let t=e.ownerDocument,o=K0(t),s=t.createTextNode(Sn),l=e.parentNode;l.insertBefore(s,e),o.setStart(s,0),o.setEnd(s,1);let u=dl(o.getBoundingClientRect());return l.removeChild(s),u},D6=e=>{let t=e.startContainer,o=e.endContainer,s=e.startOffset,l=e.endOffset;if(t===o&&Q(o)&&s===0&&l===1){let u=e.cloneRange();return u.setEndAfter(o),ua(u)}else return null},mT=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,ua=e=>{var t;let o,s=e.getClientRects();return s.length>0?o=dl(s[0]):o=dl(e.getBoundingClientRect()),!hT(e)&&G0(e)&&mT(o)?E6(e):mT(o)&&hT(e)&&(t=D6(e))!==null&&t!==void 0?t:o},fl=(e,t)=>{let o=oT(e,t);return o.width=1,o.right=o.left+1,o},_6=e=>{let t=[],o=d=>{d.height!==0&&(t.length>0&&e6(d,t[t.length-1])||t.push(d))},s=(d,p)=>{let m=K0(d.ownerDocument);if(p<d.data.length){if(aT(d.data[p]))return;if(aT(d.data[p-1])&&(m.setStart(d,p),m.setEnd(d,p+1),!Z0(m))){o(fl(ua(m),!1));return}}p>0&&(m.setStart(d,p-1),m.setEnd(d,p),Z0(m)||o(fl(ua(m),!1))),p<d.data.length&&(m.setStart(d,p),m.setEnd(d,p+1),Z0(m)||o(fl(ua(m),!0)))},l=e.container(),u=e.offset();if(ff(l))return s(l,u),t;if(dT(l))if(e.isAtEnd()){let d=em(l,u);ff(d)&&s(d,d.data.length),df(d)&&!G0(d)&&o(fl(ua(d),!1))}else{let d=em(l,u);if(ff(d)&&s(d,0),df(d)&&e.isAtEnd())return o(fl(ua(d),!1)),t;let p=em(e.container(),e.offset()-1);df(p)&&!G0(p)&&(fT(p)||fT(d)||!df(d))&&o(fl(ua(p),!1)),df(d)&&o(fl(ua(d),!0))}return t},j=(e,t,o)=>{let s=()=>(ff(e),t===0),l=()=>ff(e)?t>=e.data.length:t>=e.childNodes.length,u=()=>{let b=K0(e.ownerDocument);return b.setStart(e,t),b.setEnd(e,t),b},d=()=>(o||(o=_6(j(e,t))),o),p=()=>d().length>0,m=b=>b&&e===b.container()&&t===b.offset(),v=b=>em(e,b?t-1:t);return{container:re(e),offset:re(t),toRange:u,getClientRects:d,isVisible:p,isAtStart:s,isAtEnd:l,isEqual:m,getNode:v}};j.fromRangeStart=e=>j(e.startContainer,e.startOffset),j.fromRangeEnd=e=>j(e.endContainer,e.endOffset),j.after=e=>j(e.parentNode,pT(e)+1),j.before=e=>j(e.parentNode,pT(e)),j.isAbove=(e,t)=>Qn(br(t.getClientRects()),na(e.getClientRects()),cf).getOr(!1),j.isBelow=(e,t)=>Qn(na(t.getClientRects()),br(e.getClientRects()),uf).getOr(!1),j.isAtStart=e=>e?e.isAtStart():!1,j.isAtEnd=e=>e?e.isAtEnd():!1,j.isTextPosition=e=>e?Q(e.container()):!1,j.isElementPosition=e=>!j.isTextPosition(e);let tm=(e,t)=>{Q(t)&&t.data.length===0&&e.remove(t)},x6=(e,t,o)=>{t.insertNode(o),tm(e,o.previousSibling),tm(e,o.nextSibling)},S6=(e,t,o)=>{let s=D.from(o.firstChild),l=D.from(o.lastChild);t.insertNode(o),s.each(u=>tm(e,u.previousSibling)),l.each(u=>tm(e,u.nextSibling))},Q0=(e,t,o)=>{v0(o)?S6(e,t,o):x6(e,t,o)},ss=Q,gT=tl,vT=At.nodeIndex,yT=e=>{let t=e.parentNode;return gT(t)?yT(t):t},X0=e=>e?Sh(e.childNodes,(t,o)=>(gT(o)&&o.nodeName!=="BR"?t=t.concat(X0(o)):t.push(o),t),[]):[],I6=(e,t)=>{let o=e;for(;(o=o.previousSibling)&&ss(o);)t+=o.data.length;return t},bT=e=>t=>e===t,A6=e=>{let t,o;t=X0(yT(e)),o=eA(t,bT(e),e),t=t.slice(0,o+1);let s=Sh(t,(l,u,d)=>(ss(u)&&ss(t[d-1])&&l++,l),0);return t=Fd(t,ts([e.nodeName])),o=eA(t,bT(e),e),o-s},CT=e=>(ss(e)?"text()":e.nodeName.toLowerCase())+"["+A6(e)+"]",k6=(e,t,o)=>{let s=[];for(let l=t.parentNode;l&&l!==e&&!(o&&o(l));l=l.parentNode)s.push(l);return s},wT=(e,t)=>{let o=[],s=t.container(),l=t.offset(),u;if(ss(s))u=I6(s,l);else{let p=s.childNodes;l>=p.length?(u="after",l=p.length-1):u="before",s=p[l]}o.push(CT(s));let d=k6(e,s);return d=Fd(d,ai(tl)),o=o.concat(Zb(d,p=>CT(p))),o.reverse().join("/")+","+u},T6=(e,t,o)=>{let s=X0(e);return s=Fd(s,(l,u)=>!ss(l)||!ss(s[u-1])),s=Fd(s,ts([t])),s[o]},M6=(e,t)=>{let o=e,s=0;for(;ss(o);){let l=o.data.length;if(t>=s&&t<=s+l){e=o,t=t-s;break}if(!ss(o.nextSibling)){e=o,t=l;break}s+=l,o=o.nextSibling}return ss(e)&&t>e.data.length&&(t=e.data.length),j(e,t)},ET=(e,t)=>{if(!t)return null;let o=t.split(","),s=o[0].split("/"),l=o.length>1?o[1]:"before",u=Sh(s,(d,p)=>{let m=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(p);return m?(m[1]==="text()"&&(m[1]="#text"),T6(d,m[1],parseInt(m[2],10))):null},e);if(!u)return null;if(!ss(u)&&u.parentNode){let d;return l==="after"?d=vT(u)+1:d=vT(u),j(u.parentNode,d)}return M6(u,parseInt(l,10))},nm=Nt,N6=(e,t,o)=>{let s=e(t.data.slice(0,o)).length;for(let l=t.previousSibling;l&&Q(l);l=l.previousSibling)s+=e(l.data).length;return s},DT=(e,t,o,s,l)=>{let u=l?s.startContainer:s.endContainer,d=l?s.startOffset:s.endOffset,p=[],m=e.getRoot();if(Q(u))p.push(o?N6(t,u,d):d);else{let v=0,b=u.childNodes;d>=b.length&&b.length&&(v=1,d=Math.max(0,b.length-1)),p.push(e.nodeIndex(b[d],o)+v)}for(let v=u;v&&v!==m;v=v.parentNode)p.push(e.nodeIndex(v,o));return p},R6=(e,t,o,s)=>{let l=t.dom,u=DT(l,e,o,s,!0),d=t.isForward(),p=rT(s)?{isFakeCaret:!0}:{};if(t.isCollapsed())return W({start:u,forward:d},p);{let m=DT(l,e,o,s,!1);return W({start:u,end:m,forward:d},p)}},J0=(e,t,o)=>{let s=0;return ee.each(e.select(t),l=>{if(l.getAttribute("data-mce-bogus")!=="all"){if(l===o)return!1;s++;return}}),s},_T=(e,t)=>{let o=t?e.startContainer:e.endContainer,s=t?e.startOffset:e.endOffset;if(ge(o)&&o.nodeName==="TR"){let l=o.childNodes;o=l[Math.min(t?s:s-1,l.length-1)],o&&(s=t?0:o.childNodes.length,t?e.setStart(o,s):e.setEnd(o,s))}},xT=e=>(_T(e,!0),_T(e,!1),e),ST=(e,t)=>{if(ge(e)&&(e=ca(e,t),nm(e)))return e;if(Jr(e)){Q(e)&&Lc(e)&&(e=e.parentNode);let o=e.previousSibling;if(nm(o)||(o=e.nextSibling,nm(o)))return o}},O6=e=>ST(e.startContainer,e.startOffset)||ST(e.endContainer,e.endOffset),IT=(e,t,o)=>{let s=o.getNode(),l=o.getRng();if(s.nodeName==="IMG"||nm(s)){let d=s.nodeName;return{name:d,index:J0(o.dom,d,s)}}let u=O6(l);if(u){let d=u.tagName;return{name:d,index:J0(o.dom,d,u)}}return R6(e,o,t,l)},P6=e=>{let t=e.getRng();return{start:wT(e.dom.getRoot(),j.fromRangeStart(t)),end:wT(e.dom.getRoot(),j.fromRangeEnd(t)),forward:e.isForward()}},F6=e=>({rng:e.getRng(),forward:e.isForward()}),AT=(e,t,o)=>{let s={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return o?e.create("span",s,"&#xFEFF;"):e.create("span",s)},kT=(e,t)=>{let o=e.dom,s=e.getRng(),l=o.uniqueId(),u=e.isCollapsed(),d=e.getNode(),p=d.nodeName,m=e.isForward();if(p==="IMG")return{name:p,index:J0(o,p,d)};let v=xT(s.cloneRange());if(!u){v.collapse(!1);let C=AT(o,l+"_end",t);Q0(o,v,C)}s=xT(s),s.collapse(!0);let b=AT(o,l+"_start",t);return Q0(o,s,b),e.moveToBookmark({id:l,keep:!0,forward:m}),{id:l,forward:m}},L6=(e,t,o=!1)=>t===2?IT(Ur,o,e):t===3?P6(e):t?F6(e):kT(e,!1),eC=pe(IT,_n,!0),TT=e=>{let t=u=>u(e),o=re(e),s=()=>l,l={tag:!0,inner:e,fold:(u,d)=>d(e),isValue:Ut,isError:wt,map:u=>wr.value(u(e)),mapError:s,bind:t,exists:t,forall:t,getOr:o,or:s,getOrThunk:o,orThunk:s,getOrDie:o,each:u=>{u(e)},toOptional:()=>D.some(e)};return l},MT=e=>{let t=()=>o,o={tag:!1,inner:e,fold:(s,l)=>s(e),isValue:wt,isError:Ut,map:t,mapError:s=>wr.error(s(e)),bind:t,exists:wt,forall:Ut,getOr:_n,or:_n,getOrThunk:Ji,orThunk:Ji,getOrDie:Xi(String(e)),each:Ne,toOptional:D.none};return o},wr={value:TT,error:MT,fromOption:(e,t)=>e.fold(()=>MT(t),TT)},Ls={generate:e=>{if(!Ie(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");let t=[],o={};return z(e,(s,l)=>{let u=_r(s);if(u.length!==1)throw new Error("one and only one name per case");let d=u[0],p=s[d];if(o[d]!==void 0)throw new Error("duplicate key detected:"+d);if(d==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ie(p))throw new Error("case arguments must be an array");t.push(d),o[d]=(...m)=>{let v=m.length;if(v!==p.length)throw new Error("Wrong number of arguments to case "+d+". Expected "+p.length+" ("+p+"), got "+v);return{fold:(...C)=>{if(C.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+C.length);return C[l].apply(null,m)},match:C=>{let E=_r(C);if(t.length!==E.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+E.join(","));if(!ko(t,I=>ft(E,I)))throw new Error("Not all branches were specified when using match. Specified: "+E.join(", ")+`
Required: `+t.join(", "));return C[d].apply(null,m)},log:C=>{console.log(C,{constructors:t,constructor:d,params:m})}}}}),o}};Ls.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);let B6=e=>{let t=[],o=[];return z(e,s=>{s.fold(l=>{t.push(l)},l=>{o.push(l)})}),{errors:t,values:o}},V6=e=>e.type==="inline-command"||e.type==="inline-format",$6=e=>e.type==="block-command"||e.type==="block-format",j6=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,U6=e=>{var t;let o=l=>wr.error({message:l,pattern:e}),s=(l,u,d)=>{if(e.format!==void 0){let p;if(Ie(e.format)){if(!ko(e.format,te))return o(l+" pattern has non-string items in the `format` array");p=e.format}else if(te(e.format))p=[e.format];else return o(l+" pattern has non-string `format` parameter");return wr.value(u(p))}else return e.cmd!==void 0?te(e.cmd)?wr.value(d(e.cmd,e.value)):o(l+" pattern has non-string `cmd` parameter"):o(l+" pattern is missing both `format` and `cmd` parameters")};if(!Fe(e))return o("Raw pattern is not an object");if(!te(e.start))return o("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!te(e.end))return o("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return o("Inline pattern has empty `start` and `end` parameters");let l=e.start,u=e.end;return u.length===0&&(u=l,l=""),s("Inline",d=>({type:"inline-format",start:l,end:u,format:d}),(d,p)=>({type:"inline-command",start:l,end:u,cmd:d,value:p}))}else{if(e.replacement!==void 0)return te(e.replacement)?e.start.length===0?o("Replacement pattern has empty `start` parameter"):wr.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):o("Replacement pattern has non-string `replacement` parameter");{let l=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?o("Block pattern has empty `start` parameter"):s("Block",u=>({type:"block-format",start:e.start,format:u[0],trigger:l}),(u,d)=>({type:"block-command",start:e.start,cmd:u,value:d,trigger:l}))}}},NT=e=>Te(e,$6),RT=e=>Te(e,V6),H6=(e,t)=>({inlinePatterns:RT(e),blockPatterns:NT(e),dynamicPatternsLookup:t}),tC=(e,t)=>Me(W({},e),{blockPatterns:Te(e.blockPatterns,o=>j6(o,t))}),OT=e=>{let t=B6(rt(e,U6));return z(t.errors,o=>console.error(o.message,o.pattern)),t.values},z6=e=>t=>{let o=e(t);return OT(o)},nC=Ms().deviceType,W6=nC.isTouch(),q6=At.DOM,G6=e=>{let t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Rn(t,(o,s)=>{let l=s.split("="),u=l[0],d=l.length>1?l[1]:u;return o[wc(u)]=wc(d),o},{})},PT=e=>_e(e,RegExp),de=e=>t=>t.options.get(e),rm=e=>te(e)||Fe(e),FT=(e,t="")=>o=>{let s=te(o);if(s)if(o.indexOf("=")!==-1){let l=G6(o);return{value:Ft(l,e.id).getOr(t),valid:s}}else return{value:o,valid:s};else return{valid:!1,message:"Must be a string."}},K6=e=>{let t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:FT(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:FT(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:o=>{let s=te(o)&&Ts(o);return s?{value:o,valid:s}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:o=>{let s=ft(["block","linebreak","invert","default"],o);return s?{value:o,valid:s}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:o=>et(o)?{valid:!0,value:o}:te(o)?{valid:!0,value:o}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:o=>{let s=o===!1||te(o)||on(o,te);return s?te(o)?{value:rt(o.split(","),wc),valid:s}:Ie(o)?{value:o,valid:s}:o===!1?{value:[],valid:s}:{value:o,valid:s}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:sC(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:o=>{let s=te(o)||on(o,te);return s?{value:Ie(o)?o:rt(o.split(","),wc),valid:s}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:o=>{let s=et(o)||te(o);return s?o===!1||nC.isiPhone()||nC.isiPad()?{value:"",valid:s}:{value:o===!0?"table,img,figure.image,div,video,iframe":o,valid:s}:{valid:!1,message:"Must be boolean or a string"}},default:!W6}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("theme",{processor:o=>o===!1||te(o)||Oe(o),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:o=>{let s=o===!1||te(o);return s?{value:o===!1?"":o,valid:s}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:rm}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:rm}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:rm}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:rm}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:o=>te(o)||o===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:o=>on(o,Fe)||o===!1?{value:OT(o===!1?[]:o),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:o=>Oe(o)?{value:z6(o),valid:!0}:{valid:!1,message:"Must be a single function"},default:o=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:o=>on(o,PT)?{value:o,valid:!0}:PT(o)?{value:[o],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:o=>{let s=ft(["inherited","collapsed","expanded"],o);return s?{value:o,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:o=>{let s=ft(["inherited","collapsed","expanded"],o);return s?{value:o,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:rs.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:q6.getAttrib(e.getElement(),"placeholder")})})},Y6=de("iframe_attrs"),Z6=de("doctype"),LT=de("document_base_url"),Q6=de("body_id"),X6=de("body_class"),BT=de("content_security_policy"),J6=de("br_in_pre"),tr=de("forced_root_block"),pf=de("forced_root_block_attrs"),e5=de("newline_behavior"),t5=de("br_newline_selector"),n5=de("no_newline_selector"),r5=de("keep_styles"),o5=de("end_container_on_empty_block"),VT=de("automatic_uploads"),$T=de("images_reuse_filename"),s5=de("images_replace_blob_uris"),jT=de("icons"),i5=de("icons_url"),a5=de("images_upload_url"),l5=de("images_upload_base_path"),c5=de("images_upload_credentials"),u5=de("images_upload_handler"),d5=de("content_css_cors"),rC=de("referrer_policy"),UT=de("language"),f5=de("language_url"),HT=de("indent_use_margin"),p5=de("indentation"),h5=de("content_css"),m5=de("content_style"),zT=de("font_css"),g5=de("directionality"),v5=de("inline_boundaries_selector"),WT=de("object_resizing"),y5=de("resize_img_proportional"),b5=de("placeholder"),qT=de("event_root"),C5=de("service_message"),Vc=de("theme"),w5=de("theme_url"),oC=de("model"),E5=de("model_url"),hf=de("inline_boundaries"),D5=de("formats"),_5=de("preview_styles"),x5=de("format_empty_lines"),S5=de("format_noneditable_selector"),I5=de("custom_ui_selector"),sC=de("inline"),A5=de("hidden_input"),k5=de("submit_patch"),T5=de("add_form_submit_trigger"),M5=de("add_unload_trigger"),N5=de("custom_undo_redo_levels"),R5=de("disable_nodechange"),GT=de("readonly"),O5=de("editable_root"),KT=de("content_css_cors"),om=de("plugins"),P5=de("external_plugins"),F5=de("block_unsupported_drop"),L5=de("visual"),B5=de("visual_table_class"),YT=de("visual_anchor_class"),ZT=de("iframe_aria_text"),V5=de("setup"),$5=de("init_instance_callback"),j5=de("urlconverter_callback"),U5=de("auto_focus"),H5=de("browser_spellcheck"),z5=de("protect"),W5=de("paste_block_drop"),sm=de("paste_data_images"),q5=de("paste_preprocess"),G5=de("paste_postprocess"),K5=de("newdocument_content"),Y5=de("paste_webkit_styles"),Z5=de("paste_remove_styles_if_webkit"),Q5=de("paste_merge_formats"),X5=de("smart_paste"),J5=de("paste_as_text"),eq=de("paste_tab_spaces"),tq=de("allow_html_data_urls"),nq=de("text_patterns"),rq=de("text_patterns_lookup"),QT=de("noneditable_class"),oq=de("editable_class"),sq=de("noneditable_regexp"),iq=de("preserve_cdata"),aq=de("highlight_on_focus"),XT=de("xss_sanitization"),lq=de("init_content_sync"),cq=e=>e.options.isSet("text_patterns_lookup"),uq=e=>ee.explode(e.options.get("font_size_style_values")),dq=e=>ee.explode(e.options.get("font_size_classes")),fq=e=>e.options.get("encoding")==="xml",JT=e=>ee.explode(e.options.get("images_file_types")),pq=de("table_tab_navigation"),hq=de("details_initial_state"),mq=de("details_serialized_state"),eM=de("sandbox_iframes"),iC=e=>e.options.get("sandbox_iframes_exclusions"),gq=de("convert_unsafe_embeds"),vq=de("license_key"),yq=de("api_key"),bq=ge,tM=Q,nM=e=>{let t=e.parentNode;t&&t.removeChild(e)},rM=e=>{let t=Ur(e);return{count:e.length-t.length,text:t}},oM=e=>{let t;for(;(t=e.data.lastIndexOf(yn))!==-1;)e.deleteData(t,1)},sM=(e,t)=>(pl(e),t),Cq=(e,t)=>{let o=rM(e.data.substr(0,t.offset())),s=rM(e.data.substr(t.offset()));return(o.text+s.text).length>0?(oM(e),j(e,t.offset()-o.count)):t},wq=(e,t)=>{let o=t.container(),s=Wb(Vr(o.childNodes),e).map(l=>l<t.offset()?j(o,t.offset()-1):t).getOr(t);return pl(e),s},Eq=(e,t)=>tM(e)&&t.container()===e?Cq(e,t):sM(e,t),Dq=(e,t)=>t.container()===e.parentNode?wq(e,t):sM(e,t),_q=(e,t)=>j.isTextPosition(t)?Eq(e,t):Dq(e,t),pl=e=>{bq(e)&&Jr(e)&&(nT(e)?e.removeAttribute("data-mce-caret"):nM(e)),tM(e)&&(oM(e),e.data.length===0&&nM(e))},xq=Nt,Sq=Fs,Iq=$h,Aq="*[contentEditable=false],video,audio,embed,object",iM=(e,t,o)=>{let s=oT(t.getBoundingClientRect(),o),l,u;if(e.tagName==="BODY"){let p=e.ownerDocument.documentElement;l=e.scrollLeft||p.scrollLeft,u=e.scrollTop||p.scrollTop}else{let p=e.getBoundingClientRect();l=e.scrollLeft-p.left,u=e.scrollTop-p.top}s.left+=l,s.right+=l,s.top+=u,s.bottom+=u,s.width=1;let d=t.offsetWidth-t.clientWidth;return d>0&&(o&&(d*=-1),s.left+=d,s.right+=d),s},kq=e=>{var t,o;let s=Jn(T.fromDom(e),Aq);for(let l=0;l<s.length;l++){let u=s[l].dom,d=u.previousSibling;if(Xh(d)){let p=d.data;p.length===1?(t=d.parentNode)===null||t===void 0||t.removeChild(d):d.deleteData(p.length-1,1)}d=u.nextSibling,Qh(d)&&(d.data.length===1?(o=d.parentNode)===null||o===void 0||o.removeChild(d):d.deleteData(0,1))}},Tq=(e,t,o,s)=>{let l=gi(),u,d,p=tr(e),m=e.dom,v=(S,A)=>{let M;if(b(),Iq(A))return null;if(o(A)){let R=XW(p,A,S),N=iM(t,A,S);m.setStyle(R,"top",N.top),m.setStyle(R,"caret-color","transparent"),d=R;let O=m.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});m.setStyles(O,W({},N)),m.add(t,O),l.set({caret:O,element:A,before:S}),S&&m.addClass(O,"mce-visual-caret-before"),C(),M=A.ownerDocument.createRange(),M.setStart(R,0),M.setEnd(R,0)}else return d=QW(A,S),M=A.ownerDocument.createRange(),mf(d.nextSibling)?(M.setStart(d,0),M.setEnd(d,0)):(M.setStart(d,1),M.setEnd(d,1)),M;return M},b=()=>{kq(t),d&&(pl(d),d=null),l.on(S=>{m.remove(S.caret),l.clear()}),u&&(clearInterval(u),u=void 0)},C=()=>{u=setInterval(()=>{l.on(S=>{s()?m.toggleClass(S.caret,"mce-visual-caret-hidden"):m.addClass(S.caret,"mce-visual-caret-hidden")})},500)};return{show:v,hide:b,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{l.on(S=>{let A=iM(t,S.element,S.before);m.setStyles(S.caret,W({},A))})},destroy:()=>clearInterval(u)}},aM=()=>ct.browser.isFirefox(),mf=e=>xq(e)||Sq(e),gf=e=>(mf(e)||Ps(e)&&aM())&&Mh(T.fromDom(e)).exists(Xa),Mq=To,aC=Nt,Nq=Fs,lM=Vh("display","block table table-cell table-caption list-item"),cM=Jr,uM=Lc,Rq=ge,Oq=Q,Pq=os,$c=e=>e>0,hl=e=>e<0,im=(e,t)=>{let o;for(;o=e(t);)if(!uM(o))return o;return null},vf=(e,t,o,s,l)=>{let u=new xn(e,s),d=aC(e)||uM(e),p;if(hl(t)){if(d&&(p=im(u.prev.bind(u),!0),o(p)))return p;for(;p=im(u.prev.bind(u),l);)if(o(p))return p}if($c(t)){if(d&&(p=im(u.next.bind(u),!0),o(p)))return p;for(;p=im(u.next.bind(u),l);)if(o(p))return p}return null},Fq=(e,t)=>{let o=l=>Mq(l.dom),s=l=>l.dom===t;return fi(T.fromDom(e),o,s).map(l=>l.dom).getOr(t)},da=(e,t)=>{for(;e&&e!==t;){if(lM(e))return e;e=e.parentNode}return null},Bs=(e,t,o)=>da(e.container(),o)===da(t.container(),o),lC=(e,t)=>{if(!t)return D.none();let o=t.container(),s=t.offset();return Rq(o)?D.from(o.childNodes[s+e]):D.none()},dM=(e,t)=>{var o;let l=((o=t.ownerDocument)!==null&&o!==void 0?o:document).createRange();return e?(l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)),l},Lq=(e,t,o)=>da(t,e)===da(o,e),fM=(e,t,o)=>{let s=e?"previousSibling":"nextSibling",l=o;for(;l&&l!==t;){let u=l[s];if(u&&cM(u)&&(u=u[s]),aC(u)||Nq(u)){if(Lq(t,u,l))return u;break}if(Pq(u))break;l=l.parentNode}return null},yf=pe(dM,!0),bf=pe(dM,!1),cC=(e,t,o)=>{let s,l=pe(fM,!0,t),u=pe(fM,!1,t),d=o.startContainer,p=o.startOffset;if(Lc(d)){let m=Oq(d)?d.parentNode:d,v=m.getAttribute("data-mce-caret");if(v==="before"&&(s=m.nextSibling,gf(s)))return yf(s);if(v==="after"&&(s=m.previousSibling,gf(s)))return bf(s)}if(!o.collapsed)return o;if(Q(d)){if(cM(d)){if(e===1){if(s=u(d),s)return yf(s);if(s=l(d),s)return bf(s)}if(e===-1){if(s=l(d),s)return bf(s);if(s=u(d),s)return yf(s)}return o}if(Xh(d)&&p>=d.data.length-1)return e===1&&(s=u(d),s)?yf(s):o;if(Qh(d)&&p<=1)return e===-1&&(s=l(d),s)?bf(s):o;if(p===d.data.length)return s=u(d),s?yf(s):o;if(p===0)return s=l(d),s?bf(s):o}return o},pM=(e,t)=>lC(e?0:-1,t).filter(aC),Cf=(e,t,o)=>{let s=cC(e,t,o);return e===-1?j.fromRangeStart(s):j.fromRangeEnd(s)},am=e=>D.from(e.getNode()).map(T.fromDom),Bq=e=>D.from(e.getNode(!0)).map(T.fromDom),uC=(e,t)=>{let o=t;for(;o=e(o);)if(o.isVisible())return o;return o},lm=(e,t)=>{let o=Bs(e,t);return!o&&Gt(e.getNode())?!0:o};var Fn=function(e){return e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards",e}(Fn||{});let Vq=Nt,Vs=Q,hM=ge,dC=Gt,jc=os,mM=y6,cm=uT,$q=(e,t)=>{let o=[],s=e;for(;s&&s!==t;)o.push(s),s=s.parentNode;return o},gM=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,vM=(e,t)=>{if($c(e)){if(jc(t.previousSibling)&&!Vs(t.previousSibling))return j.before(t);if(Vs(t))return j(t,0)}if(hl(e)){if(jc(t.nextSibling)&&!Vs(t.nextSibling))return j.after(t);if(Vs(t))return j(t,t.data.length)}return hl(e)?dC(t)?j.before(t):j.after(t):j.before(t)},jq=(e,t)=>{let o=t.nextSibling;return o&&jc(o)?Vs(o)?j(o,0):j.before(o):fC(Fn.Forwards,j.after(t),e)},fC=(e,t,o)=>{let s,l,u,d;if(!hM(o)||!t)return null;if(t.isEqual(j.after(o))&&o.lastChild){if(d=j.after(o.lastChild),hl(e)&&jc(o.lastChild)&&hM(o.lastChild))return dC(o.lastChild)?j.before(o.lastChild):d}else d=t;let p=d.container(),m=d.offset();if(Vs(p)){if(hl(e)&&m>0)return j(p,--m);if($c(e)&&m<p.length)return j(p,++m);s=p}else{if(hl(e)&&m>0&&(l=gM(p,m-1),jc(l)))return!mM(l)&&(u=vf(l,e,cm,l),u)?Vs(u)?j(u,u.data.length):j.after(u):Vs(l)?j(l,l.data.length):j.before(l);if($c(e)&&m<p.childNodes.length&&(l=gM(p,m),jc(l)))return dC(l)?jq(o,l):!mM(l)&&(u=vf(l,e,cm,l),u)?Vs(u)?j(u,0):j.before(u):Vs(l)?j(l,0):j.after(l);s=l||d.getNode()}if(s&&($c(e)&&d.isAtEnd()||hl(e)&&d.isAtStart())&&(s=vf(s,e,Ut,o,!0),cm(s,o)))return vM(e,s);l=s&&vf(s,e,cm,o);let v=Ka(Te($q(p,o),Vq));return v&&(!l||!v.contains(l))?($c(e)?d=j.after(v):d=j.before(v),d):l?vM(e,l):null},$s=e=>({next:t=>fC(Fn.Forwards,t,e),prev:t=>fC(Fn.Backwards,t,e)}),Uq=(e,t,o)=>{let s=e?j.before(o):j.after(o);return eo(e,t,s)},Hq=e=>Gt(e)?j.before(e):j.after(e),yM=e=>j.isTextPosition(e)?e.offset()===0:os(e.getNode()),bM=e=>{if(j.isTextPosition(e)){let t=e.container();return e.offset()===t.data.length}else return os(e.getNode(!0))},CM=(e,t)=>!j.isTextPosition(e)&&!j.isTextPosition(t)&&e.getNode()===t.getNode(!0),zq=e=>!j.isTextPosition(e)&&Gt(e.getNode()),Wq=(e,t,o)=>e?!CM(t,o)&&!zq(t)&&bM(t)&&yM(o):!CM(o,t)&&yM(t)&&bM(o),eo=(e,t,o)=>{let s=$s(t);return D.from(e?s.next(o):s.prev(o))},Uc=(e,t,o)=>eo(e,t,o).bind(s=>Bs(o,s,t)&&Wq(e,o,s)?eo(e,t,s):D.some(s)),wM=(e,t,o,s)=>Uc(e,t,o).bind(l=>s(l)?wM(e,t,l,s):D.some(l)),Hc=(e,t)=>{let o=e?t.firstChild:t.lastChild;return Q(o)?D.some(j(o,e?0:o.data.length)):o?os(o)?D.some(e?j.before(o):Hq(o)):Uq(e,t,o):D.none()},Er=pe(eo,!0),Sr=pe(eo,!1),nr=pe(Hc,!0),Mo=pe(Hc,!1),pC="_mce_caret",to=e=>ge(e)&&e.id===pC,ml=(e,t)=>{let o=t;for(;o&&o!==e;){if(to(o))return o;o=o.parentNode}return null},qq=e=>te(e.start),Gq=e=>Pe(e,"rng"),Kq=e=>Pe(e,"id"),EM=e=>Pe(e,"name"),DM=e=>ee.isArray(e.start),um=e=>!EM(e)&&et(e.forward)?e.forward:!0,_M=(e,t)=>(ge(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),Yq=(e,t)=>{let o=D.from(ET(e.getRoot(),t.start)),s=D.from(ET(e.getRoot(),t.end));return Qn(o,s,(l,u)=>{let d=e.createRng();return d.setStart(l.container(),l.offset()),d.setEnd(u.container(),u.offset()),{range:d,forward:um(t)}})},Zq=(e,t)=>{var o;let l=((o=e.ownerDocument)!==null&&o!==void 0?o:document).createTextNode(yn);e.appendChild(l),t.setStart(l,0),t.setEnd(l,0)},Qq=e=>!e.hasChildNodes(),Xq=(e,t)=>Mo(e).fold(wt,o=>(t.setStart(o.container(),o.offset()),t.setEnd(o.container(),o.offset()),!0)),xM=(e,t,o)=>Qq(t)&&ml(e,t)?(Zq(t,o),!0):!1,SM=(e,t,o,s)=>{let l=o[t?"start":"end"],u=e.getRoot();if(l){let d=u,p=l[0];for(let m=l.length-1;d&&m>=1;m--){let v=d.childNodes;if(xM(u,d,s))return!0;if(l[m]>v.length-1)return xM(u,d,s)?!0:Xq(d,s);d=v[l[m]]}Q(d)&&(p=Math.min(l[0],d.data.length)),ge(d)&&(p=Math.min(l[0],d.childNodes.length)),t?s.setStart(d,p):s.setEnd(d,p)}return!0},hC=e=>Q(e)&&e.data.length>0,IM=(e,t,o)=>{let s=e.get(o.id+"_"+t),l=s?.parentNode,u=o.keep;if(s&&l){let d,p;if(t==="start"?u?s.hasChildNodes()?(d=s.firstChild,p=1):hC(s.nextSibling)?(d=s.nextSibling,p=0):hC(s.previousSibling)?(d=s.previousSibling,p=s.previousSibling.data.length):(d=l,p=e.nodeIndex(s)+1):(d=l,p=e.nodeIndex(s)):u?s.hasChildNodes()?(d=s.firstChild,p=1):hC(s.previousSibling)?(d=s.previousSibling,p=s.previousSibling.data.length):(d=l,p=e.nodeIndex(s)):(d=l,p=e.nodeIndex(s)),!u){let m=s.previousSibling,v=s.nextSibling;ee.each(ee.grep(s.childNodes),C=>{Q(C)&&(C.data=C.data.replace(/\uFEFF/g,""))});let b;for(;b=e.get(o.id+"_"+t);)e.remove(b,!0);if(Q(v)&&Q(m)&&!ct.browser.isOpera()){let C=m.data.length;m.appendData(v.data),e.remove(v),d=m,p=C}}return D.some(j(d,p))}else return D.none()},Jq=(e,t)=>{let o=e.createRng();return SM(e,!0,t,o)&&SM(e,!1,t,o)?D.some({range:o,forward:um(t)}):D.none()},e9=(e,t)=>{let o=IM(e,"start",t),s=IM(e,"end",t);return Qn(o,s.or(o),(l,u)=>{let d=e.createRng();return d.setStart(_M(e,l.container()),l.offset()),d.setEnd(_M(e,u.container()),u.offset()),{range:d,forward:um(t)}})},t9=(e,t)=>D.from(e.select(t.name)[t.index]).map(o=>{let s=e.createRng();return s.selectNode(o),{range:s,forward:!0}}),n9=(e,t)=>{let o=e.dom;if(t){if(DM(t))return Jq(o,t);if(qq(t))return Yq(o,t);if(Kq(t))return e9(o,t);if(EM(t))return t9(o,t);if(Gq(t))return D.some({range:t.rng,forward:um(t)})}return D.none()},r9=(e,t,o)=>L6(e,t,o),o9=(e,t)=>{n9(e,t).each(({range:o,forward:s})=>{e.setRng(o,s)})},no=e=>ge(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",dm=(e=>t=>e===t)(Sn),zc=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,mC=e=>!zc(e)&&!dm(e)&&!m0(e),gC=e=>{let t=[];if(e)for(let o=0;o<e.rangeCount;o++)t.push(e.getRangeAt(o));return t},s9=e=>yr(e,t=>{let o=Jh(t);return o?[T.fromDom(o)]:[]}),i9=e=>gC(e).length>1,a9=e=>Te(s9(e),lf),l9=e=>Jn(e,"td[data-mce-selected],th[data-mce-selected]"),AM=(e,t)=>{let o=l9(t);return o.length>0?o:a9(e)},Wc=e=>AM(gC(e.selection.getSel()),T.fromDom(e.getBody())),wf=(e,t)=>qd(e,"table",t),c9=e=>{let t=e.startContainer,o=e.startOffset;return Q(t)?o===0?D.some(T.fromDom(t)):D.none():D.from(t.childNodes[o]).map(T.fromDom)},u9=e=>{let t=e.endContainer,o=e.endOffset;return Q(t)?o===t.data.length?D.some(T.fromDom(t)):D.none():D.from(t.childNodes[o-1]).map(T.fromDom)},kM=e=>i0(e).fold(re([e]),t=>[e].concat(kM(t))),vC=e=>a0(e).fold(re([e]),t=>st(t)==="br"?Za(t).map(o=>[e].concat(vC(o))).getOr([]):[e].concat(vC(t))),yC=(e,t)=>Qn(c9(t),u9(t),(o,s)=>{let l=sn(kM(e),pe(mt,o)),u=sn(vC(e),pe(mt,s));return l.isSome()&&u.isSome()}).getOr(!1),bC=(e,t,o,s)=>{let l=o,u=new xn(o,l),d=Pd(e.schema.getMoveCaretBeforeOnEnterElements(),(m,v)=>!ft(["td","th","table"],v.toLowerCase())),p=o;do{if(Q(p)&&ee.trim(p.data).length!==0){s?t.setStart(p,0):t.setEnd(p,p.data.length);return}if(d[p.nodeName]){s?t.setStartBefore(p):p.nodeName==="BR"?t.setEndBefore(p):t.setEndAfter(p);return}}while(p=s?u.next():u.prev());l.nodeName==="BODY"&&(s?t.setStart(l,0):t.setEnd(l,l.childNodes.length))},fm=e=>{let t=e.selection.getSel();return G(t)&&t.rangeCount>0},CC=(e,t)=>{let o=Wc(e);o.length>0?z(o,s=>{let l=s.dom,u=e.dom.createRng();u.setStartBefore(l),u.setEndAfter(l),t(u,!0)}):t(e.selection.getRng(),!1)},TM=(e,t,o)=>{let s=kT(e,t);o(s),e.moveToBookmark(s)},Ef=e=>Zt(e?.nodeType),wC=e=>ge(e)&&!no(e)&&!to(e)&&!tl(e),d9=(e,t)=>{if(wC(t)&&!/^(TD|TH)$/.test(t.nodeName)){let o=e.getAttrib(t,"data-mce-selected"),s=parseInt(o,10);return!isNaN(s)&&s>0}else return!1},MM=(e,t,o)=>{let{selection:s,dom:l}=e,u=s.getNode(),d=Nt(u);TM(s,!0,()=>{t()}),d&&Nt(u)&&l.isChildOf(u,e.getBody())?e.selection.select(u):o(s.getStart())&&f9(l,s)},f9=(e,t)=>{var o,s;let l=t.getRng(),{startContainer:u,startOffset:d}=l,p=t.getNode();if(!d9(e,p)&&ge(u)){let m=u.childNodes,v=e.getRoot(),b;if(d<m.length){let C=m[d];b=new xn(C,(o=e.getParent(C,e.isBlock))!==null&&o!==void 0?o:v)}else{let C=m[m.length-1];b=new xn(C,(s=e.getParent(C,e.isBlock))!==null&&s!==void 0?s:v),b.next(!0)}for(let C=b.current();C;C=b.next()){if(e.getContentEditable(C)==="false")return;if(Q(C)&&!DC(C)){l.setStart(C,0),t.setRng(l);return}}}},NM=(e,t,o)=>{if(e){let s=t?"nextSibling":"previousSibling";for(e=o?e:e[s];e;e=e[s])if(ge(e)||!DC(e))return e}},EC=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||rl(e,t),qc=(e,t,o)=>e.schema.isValidChild(t,o),DC=(e,t=!1)=>{if(G(e)&&Q(e)){let o=t?e.data.replace(/ /g,"\xA0"):e.data;return Tc(o)}else return!1},p9=e=>G(e)&&Q(e)&&e.length===0,h9=(e,t)=>{let o="[data-mce-cef-wrappable]",s=S5(e),l=Bd(s)?o:`${o},${s}`;return Jo(T.fromDom(t),l)},RM=(e,t)=>{let o=e.dom;return wC(t)&&o.getContentEditable(t)==="false"&&h9(e,t)&&o.select('[contenteditable="true"]',t).length===0},fa=(e,t)=>Oe(e)?e(t):(G(t)&&(e=e.replace(/%(\w+)/g,(o,s)=>t[s]||o)),e),_C=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),xC=(e,t)=>{if($e(e))return null;{let o=String(e);return(t==="color"||t==="backgroundColor")&&(o=Xd(o)),t==="fontWeight"&&e===700&&(o="bold"),t==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},pm=(e,t,o)=>{let s=e.getStyle(t,o);return xC(s,o)},OM=(e,t)=>{let o;return e.getParent(t,s=>ge(s)?(o=e.getStyle(s,"text-decoration"),!!o&&o!=="none"):!1),o},hm=(e,t,o)=>e.getParents(t,o,e.getRoot()),SC=(e,t,o)=>{let s=e.formatter.get(t);return G(s)&&Ht(s,o)},m9=(e,t)=>SC(e,t,s=>{let l=u=>Oe(u)||u.length>1&&u.charAt(0)==="%";return Ht(["styles","attributes"],u=>Ft(s,u).exists(d=>{let p=Ie(d)?d:Kb(d);return Ht(p,l)}))}),g9=(e,t,o)=>{let s=["inline","block","selector","attributes","styles","classes"],l=u=>Pd(u,(d,p)=>Ht(s,m=>m===p));return SC(e,t,u=>{let d=l(u);return SC(e,o,p=>{let m=l(p);return Nz(d,m)})})},js=e=>Cc(e,"block"),v9=e=>js(e)&&e.wrapper===!0,y9=e=>js(e)&&e.wrapper!==!0,ro=e=>Cc(e,"selector"),bn=e=>Cc(e,"inline"),b9=e=>ro(e)&&bn(e)&&Ec(Ft(e,"mixed"),!0),IC=e=>ro(e)&&e.expand!==!1&&!bn(e),C9=e=>{let t=[],o=e;for(;o;){if(Q(o)&&o.data!==yn||o.childNodes.length>1)return[];ge(o)&&t.push(o),o=o.firstChild}return t},PM=e=>C9(e).length>0,AC=e=>to(e.dom)&&PM(e.dom),Gc=no,FM=hm,LM=DC,w9=EC,E9=e=>Gt(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,BM=(e,t)=>{let o=t;for(;o;){if(ge(o)&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:t;o=o.parentNode}return t},VM=(e,t,o,s)=>{let l=t.data;if(e){for(let u=o;u>0;u--)if(s(l.charAt(u-1)))return u}else for(let u=o;u<l.length;u++)if(s(l.charAt(u)))return u;return-1},D9=(e,t,o)=>VM(e,t,o,s=>dm(s)||zc(s)),_9=(e,t,o)=>VM(e,t,o,mC),$M=(e,t,o,s,l,u)=>{let d,p=e.getParent(o,e.isBlock)||t,m=(b,C,E)=>{let x=cl(e),I=l?x.backwards:x.forwards;return D.from(I(b,C,(S,A)=>Gc(S.parentNode)?-1:(d=S,E(l,S,A)),p))};return m(o,s,D9).bind(b=>u?m(b.container,b.offset+(l?-1:0),_9):D.some(b)).orThunk(()=>d?D.some({container:d,offset:l?0:d.length}):D.none())},jM=(e,t,o,s,l)=>{let u=s[l];Q(s)&&Bd(s.data)&&u&&(s=u);let d=FM(e,s);for(let p=0;p<d.length;p++)for(let m=0;m<t.length;m++){let v=t[m];if(!(G(v.collapsed)&&v.collapsed!==o.collapsed)&&ro(v)&&e.is(d[p],v.selector))return d[p]}return s},UM=(e,t,o,s)=>{var l;let u=o,d=e.getRoot(),p=t[0];if(js(p)&&(u=p.wrapper?null:e.getParent(o,p.block,d)),!u){let m=(l=e.getParent(o,"LI,TD,TH,SUMMARY"))!==null&&l!==void 0?l:d;u=e.getParent(Q(o)?o.parentNode:o,v=>v!==d&&w9(e.schema,v),m)}if(u&&js(p)&&p.wrapper&&(u=FM(e,u,"ul,ol").reverse()[0]||u),!u)for(u=o;u&&u[s]&&!e.isBlock(u[s])&&(u=u[s],!_C(u,"br")););return u||o},HM=(e,t,o,s)=>{let l=o.parentNode;return G(o[s])?!1:l===t||$e(l)||e.isBlock(l)?!0:HM(e,t,l,s)},mm=(e,t,o,s,l)=>{let u=o,d=l?"previousSibling":"nextSibling",p=e.getRoot();if(Q(o)&&!LM(o)&&(l?s>0:s<o.data.length))return o;for(;u;){if(!t[0].block_expand&&e.isBlock(u))return u;for(let m=u[d];m;m=m[d]){let v=Q(m)&&!HM(e,p,m,d);if(!Gc(m)&&!E9(m)&&!LM(m,v))return u}if(u===p||u.parentNode===p){o=u;break}u=u.parentNode}return o},zM=e=>Gc(e.parentNode)||Gc(e),gl=(e,t,o,s=!1)=>{let{startContainer:l,startOffset:u,endContainer:d,endOffset:p}=t,m=o[0];return ge(l)&&l.hasChildNodes()&&(l=ca(l,u),Q(l)&&(u=0)),ge(d)&&d.hasChildNodes()&&(d=ca(d,t.collapsed?p:p-1),Q(d)&&(p=d.data.length)),l=BM(e,l),d=BM(e,d),zM(l)&&(l=Gc(l)?l:l.parentNode,t.collapsed?l=l.previousSibling||l:l=l.nextSibling||l,Q(l)&&(u=t.collapsed?l.length:0)),zM(d)&&(d=Gc(d)?d:d.parentNode,t.collapsed?d=d.nextSibling||d:d=d.previousSibling||d,Q(d)&&(p=t.collapsed?0:d.length)),t.collapsed&&($M(e,e.getRoot(),l,u,!0,s).each(({container:C,offset:E})=>{l=C,u=E}),$M(e,e.getRoot(),d,p,!1,s).each(({container:C,offset:E})=>{d=C,p=E})),(bn(m)||m.block_expand)&&((!bn(m)||!Q(l)||u===0)&&(l=mm(e,o,l,u,!0)),(!bn(m)||!Q(d)||p===d.data.length)&&(d=mm(e,o,d,p,!1))),IC(m)&&(l=jM(e,o,t,l,"previousSibling"),d=jM(e,o,t,d,"nextSibling")),(js(m)||ro(m))&&(l=UM(e,o,l,"previousSibling"),d=UM(e,o,d,"nextSibling"),js(m)&&(e.isBlock(l)||(l=mm(e,o,l,u,!0),Q(l)&&(u=0)),e.isBlock(d)||(d=mm(e,o,d,p,!1),Q(d)&&(p=d.data.length)))),ge(l)&&l.parentNode&&(u=e.nodeIndex(l),l=l.parentNode),ge(d)&&d.parentNode&&(p=e.nodeIndex(d)+1,d=d.parentNode),{startContainer:l,startOffset:u,endContainer:d,endOffset:p}},Df=(e,t,o)=>{var s;let l=t.startOffset,u=ca(t.startContainer,l),d=t.endOffset,p=ca(t.endContainer,d-1),m=A=>{let M=A[0];Q(M)&&M===u&&l>=M.data.length&&A.splice(0,1);let R=A[A.length-1];return d===0&&A.length>0&&R===p&&Q(R)&&A.splice(A.length-1,1),A},v=(A,M,R)=>{let N=[];for(;A&&A!==R;A=A[M])N.push(A);return N},b=(A,M)=>e.getParent(A,R=>R.parentNode===M,M),C=(A,M,R)=>{let N=R?"nextSibling":"previousSibling";for(let O=A,q=O.parentNode;O&&O!==M;O=q){q=O.parentNode;let X=v(O===A?O:O[N],N);X.length&&(R||X.reverse(),o(m(X)))}};if(u===p)return o(m([u]));let E=(s=e.findCommonAncestor(u,p))!==null&&s!==void 0?s:e.getRoot();if(e.isChildOf(u,p))return C(u,E,!0);if(e.isChildOf(p,u))return C(p,E);let x=b(u,E)||u,I=b(p,E)||p;C(u,x,!0);let S=v(x===u?x:x.nextSibling,"nextSibling",I===p?I.nextSibling:I);S.length&&o(m(S)),C(p,I)},x9=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],S9=e=>Xr(e)&&Kh(e)===yn,I9=(e,t,o,s)=>es(t).fold(()=>"skipping",l=>s==="br"||S9(t)?"valid":AW(t)?"existing":to(t.dom)?"caret":Ht(x9,u=>Jo(t,u))?"valid-block":!qc(e,o,s)||!qc(e,st(l),o)?"invalid-child":"valid"),A9=(e,t)=>{let o=gl(e.dom,t,[{inline:"span"}]);t.setStart(o.startContainer,o.startOffset),t.setEnd(o.endContainer,o.endOffset),e.selection.setRng(t)},WM=(e,t,o,s,l,u)=>{let b=o,{uid:d=t}=b,p=CV(b,["uid"]);_c(e,nf()),On(e,`${Nc()}`,d),On(e,`${al()}`,s);let{attributes:m={},classes:v=[]}=l(d,p);if(ci(e,m),NW(e,v),u){v.length>0&&On(e,`${of()}`,v.join(","));let C=_r(m);C.length>0&&On(e,`${sf()}`,C.join(","))}},k9=e=>{Ud(e,nf()),Pn(e,`${Nc()}`),Pn(e,`${al()}`),Pn(e,`${rf()}`);let t=ui(e,`${sf()}`).map(s=>s.split(",")).getOr([]),o=ui(e,`${of()}`).map(s=>s.split(",")).getOr([]);z(t,s=>Pn(e,s)),RW(e,o),Pn(e,`${of()}`),Pn(e,`${sf()}`)},qM=(e,t,o,s,l)=>{let u=T.fromTag("span",e);return WM(u,t,o,s,l,!1),u},T9=(e,t,o,s,l,u)=>{let d=[],p=qM(e.getDoc(),o,u,s,l),m=gi(),v=()=>{m.clear()},b=()=>m.get().getOrThunk(()=>{let I=ll(p);return d.push(I),m.set(I),I}),C=I=>{z(I,E)},E=I=>{switch(I9(e,I,"span",st(I))){case"invalid-child":{v();let A=Xn(I);C(A),v();break}case"valid-block":{v(),WM(I,o,u,s,l,!0);break}case"valid":{let A=b();XA(I,A);break}}},x=I=>{let S=rt(I,T.fromDom);C(S)};return Df(e.dom,t,I=>{v(),x(I)}),d},M9=(e,t,o,s)=>{e.undoManager.transact(()=>{let l=e.selection,u=l.getRng(),d=Wc(e).length>0,p=af("mce-annotation");if(u.collapsed&&!d&&A9(e,u),l.getRng().collapsed&&!d){let m=qM(e.getDoc(),p,s,t,o.decorate);Fh(m,Sn),l.getRng().insertNode(m.dom),l.select(m.dom)}else TM(l,!1,()=>{CC(e,m=>{T9(e,m,p,t,o.decorate,s)})})})},GM=e=>{let t=MW();TW(e,t);let o=kW(e,t),s=Th("span"),l=u=>{z(u,d=>{s(d)?oa(d):k9(d)})};return{register:(u,d)=>{t.register(u,d)},annotate:(u,d)=>{t.lookup(u).each(p=>{M9(e,u,p,d)})},annotationChanged:(u,d)=>{o.addListener(u,d)},remove:u=>{Gk(e,D.some(u)).each(({elements:d})=>{let p=e.selection.getBookmark();l(d),e.selection.moveToBookmark(p)})},removeAll:u=>{let d=e.selection.getBookmark();kt(Zk(e,u),(p,m)=>{l(p)}),e.selection.moveToBookmark(d)},getAll:u=>{let d=Zk(e,u);return Od(d,p=>rt(p,m=>m.dom))}}},_f=e=>({getBookmark:pe(r9,e),moveToBookmark:pe(o9,e)});_f.isBookmarkNode=no;let KM=(e,t,o)=>o.collapsed?!1:Ht(o.getClientRects(),s=>t6(s,e,t)),N9=(e,t)=>e.dispatch("PreProcess",t),R9=(e,t)=>e.dispatch("PostProcess",t),O9=e=>{e.dispatch("remove")},P9=e=>{e.dispatch("detach")},F9=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},L9=(e,t,o,s,l)=>{e.dispatch("ObjectResizeStart",{target:t,width:o,height:s,origin:l})},B9=(e,t,o,s,l)=>{e.dispatch("ObjectResized",{target:t,width:o,height:s,origin:l})},V9=e=>{e.dispatch("PreInit")},$9=e=>{e.dispatch("PostRender")},j9=e=>{e.dispatch("Init")},U9=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},YM=(e,t,o)=>{e.dispatch(t,o)},ZM=(e,t,o,s)=>{e.dispatch("FormatApply",{format:t,node:o,vars:s})},QM=(e,t,o,s)=>{e.dispatch("FormatRemove",{format:t,node:o,vars:s})},H9=(e,t)=>e.dispatch("BeforeSetContent",t),XM=(e,t)=>e.dispatch("SetContent",t),z9=(e,t)=>e.dispatch("BeforeGetContent",t),JM=(e,t)=>e.dispatch("GetContent",t),W9=(e,t)=>{e.dispatch("AutocompleterStart",t)},q9=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},kC=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},G9=e=>{e.dispatch("AutocompleterEnd")},K9=(e,t,o)=>e.dispatch("PastePreProcess",{content:t,internal:o}),Y9=(e,t,o)=>e.dispatch("PastePostProcess",{node:t,internal:o}),eN=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),Z9=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),ce={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||ce.metaKeyPressed(e),metaKeyPressed:e=>ct.os.isMacOS()||ct.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},vl="data-mce-selected",Q9="table,img,figure.image,hr,video,span.mce-preview-object,details",tN=Math.abs,gm=Math.round,TC={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},X9=e=>e.type==="longpress"||e.type.indexOf("touch")===0,nN=(e,t)=>{let o=t.dom,s=t.getDoc(),l=document,u=t.getBody(),d,p,m,v,b,C,E,x,I,S,A,M,R,N,O,q,X,ae=ie=>G(ie)&&(dk(ie)||o.is(ie,"figure.image")),U=ie=>Fs(ie)||o.hasClass(ie,"mce-preview-object"),F=(ie,Ve)=>{if(X9(ie)){let ze=ie.touches[0];return ae(ie.target)&&!KM(ze.clientX,ze.clientY,Ve)}else return ae(ie.target)&&!KM(ie.clientX,ie.clientY,Ve)},H=ie=>{let Ve=ie.target;F(ie,t.selection.getRng())&&!ie.isDefaultPrevented()&&t.selection.select(Ve)},fe=ie=>o.hasClass(ie,"mce-preview-object")&&G(ie.firstElementChild)?[ie,ie.firstElementChild]:o.is(ie,"figure.image")?[ie.querySelector("img")]:[ie],ye=ie=>{let Ve=WT(t);return!Ve||ie.getAttribute("data-mce-resize")==="false"||ie===t.getBody()?!1:o.hasClass(ie,"mce-preview-object")&&G(ie.firstElementChild)?Jo(T.fromDom(ie.firstElementChild),Ve):Jo(T.fromDom(ie),Ve)},Be=(ie,Ve)=>{if(U(Ve))return ie.create("img",{src:ct.transparentSrc});if(Ps(Ve)){let un=vn(v.name,"n")?br:na,ut=Ve.cloneNode(!0);return un(ie.select("tr",ut)).each(an=>{let co=ie.select("td,th",an);ie.setStyle(an,"height",null),z(co,cs=>ie.setStyle(cs,"height",null))}),ut}else return Ve.cloneNode(!0)},Ue=(ie,Ve,ze)=>{if(G(ze)){let un=fe(ie);z(un,ut=>{ut.style[Ve]||!t.schema.isValid(ut.nodeName.toLowerCase(),Ve)?o.setStyle(ut,Ve,ze):o.setAttrib(ut,Ve,""+ze)})}},lt=(ie,Ve,ze)=>{Ue(ie,"width",Ve),Ue(ie,"height",ze)},dt=ie=>{let Ve,ze,un,ut,an;Ve=ie.screenX-C,ze=ie.screenY-E,N=Ve*v[2]+S,O=ze*v[3]+A,N=N<5?5:N,O=O<5?5:O,(ae(d)||U(d))&&y5(t)!==!1?un=!ce.modifierPressed(ie):un=ce.modifierPressed(ie),un&&(tN(Ve)>tN(ze)?(O=gm(N*M),N=gm(O/M)):(N=gm(O/M),O=gm(N*M))),lt(p,N,O),ut=v.startPos.x+Ve,an=v.startPos.y+ze,ut=ut>0?ut:0,an=an>0?an:0,o.setStyles(m,{left:ut,top:an,display:"block"}),m.innerHTML=N+" &times; "+O,v[2]<0&&p.clientWidth<=N&&o.setStyle(p,"left",x+(S-N)),v[3]<0&&p.clientHeight<=O&&o.setStyle(p,"top",I+(A-O)),Ve=u.scrollWidth-q,ze=u.scrollHeight-X,Ve+ze!==0&&o.setStyles(m,{left:ut-Ve,top:an-ze}),R||(L9(t,d,S,A,"corner-"+v.name),R=!0)},zt=()=>{let ie=R;R=!1,ie&&(Ue(d,"width",N),Ue(d,"height",O)),o.unbind(s,"mousemove",dt),o.unbind(s,"mouseup",zt),l!==s&&(o.unbind(l,"mousemove",dt),o.unbind(l,"mouseup",zt)),o.remove(p),o.remove(m),o.remove(b),An(d),ie&&(B9(t,d,N,O,"corner-"+v.name),o.setAttrib(d,"style",o.getAttrib(d,"style"))),t.nodeChanged()},An=ie=>{se();let Ve=o.getPos(ie,u),ze=Ve.x,un=Ve.y,ut=ie.getBoundingClientRect(),an=ut.width||ut.right-ut.left,co=ut.height||ut.bottom-ut.top;d!==ie&&(ne(),d=ie,N=O=0);let cs=t.dispatch("ObjectSelected",{target:ie});ye(ie)&&!cs.isDefaultPrevented()?kt(TC,(rr,Ar)=>{let uo=fo=>{let be=fe(d)[0];C=fo.screenX,E=fo.screenY,S=be.clientWidth,A=be.clientHeight,M=A/S,v=rr,v.name=Ar,v.startPos={x:an*rr[0]+ze,y:co*rr[1]+un},q=u.scrollWidth,X=u.scrollHeight,b=o.add(u,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(b,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),p=Be(o,d),o.addClass(p,"mce-clonedresizable"),o.setAttrib(p,"data-mce-bogus","all"),p.contentEditable="false",o.setStyles(p,{left:ze,top:un,margin:0}),lt(p,an,co),p.removeAttribute(vl),u.appendChild(p),o.bind(s,"mousemove",dt),o.bind(s,"mouseup",zt),l!==s&&(o.bind(l,"mousemove",dt),o.bind(l,"mouseup",zt)),m=o.add(u,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},S+" &times; "+A)},kr=o.get("mceResizeHandle"+Ar);kr&&o.remove(kr),kr=o.add(u,"div",{id:"mceResizeHandle"+Ar,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Ar+"-resize; margin:0; padding:0"}),o.bind(kr,"mousedown",fo=>{fo.stopImmediatePropagation(),fo.preventDefault(),uo(fo)}),rr.elm=kr,o.setStyles(kr,{left:an*rr[0]+ze-kr.offsetWidth/2,top:co*rr[1]+un-kr.offsetHeight/2})}):ne(!1)},vt=Gh(An,0),ne=(ie=!0)=>{vt.cancel(),se(),d&&ie&&d.removeAttribute(vl),kt(TC,(Ve,ze)=>{let un=o.get("mceResizeHandle"+ze);un&&(o.unbind(un),o.remove(un))})},me=(ie,Ve)=>o.isChildOf(ie,Ve),Je=ie=>{if(R||t.removed||t.composing)return;let Ve=ie.type==="mousedown"?ie.target:e.getNode(),ze=Ic(T.fromDom(Ve),Q9).map(ut=>ut.dom).filter(ut=>o.isEditable(ut.parentElement)||ut.nodeName==="IMG"&&o.isEditable(ut)).getOrUndefined(),un=G(ze)?o.getAttrib(ze,vl,"1"):"1";if(z(o.select(`img[${vl}],hr[${vl}]`),ut=>{ut.removeAttribute(vl)}),G(ze)&&me(ze,u)&&t.hasFocus()){we();let ut=e.getStart(!0);if(me(ut,ze)&&me(e.getEnd(!0),ze)){o.setAttrib(ze,vl,un),vt.throttle(ze);return}}ne()},se=()=>{kt(TC,ie=>{ie.elm&&(o.unbind(ie.elm),delete ie.elm)})},we=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{we(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Je),t.on("keyup compositionend",ie=>{d&&d.nodeName==="TABLE"&&Je(ie)}),t.on("hide blur",ne),t.on("contextmenu longpress",H,!0)}),t.on("remove",se),{isResizable:ye,showResizeRect:An,hideResizeRect:ne,updateResizeRect:Je,destroy:()=>{vt.cancel(),d=p=b=null}}},J9=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,s)=>{e.setStart(o.dom,s)},o=>{e.setStartAfter(o.dom)})},eG=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,s)=>{e.setEnd(o.dom,s)},o=>{e.setEndAfter(o.dom)})},rN=(e,t,o)=>{let s=e.document.createRange();return J9(s,t),eG(s,o),s},MC=(e,t,o,s,l)=>{let u=e.document.createRange();return u.setStart(t.dom,o),u.setEnd(s.dom,l),u},xf=Ls.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),oN=(e,t,o)=>t(T.fromDom(o.startContainer),o.startOffset,T.fromDom(o.endContainer),o.endOffset),tG=(e,t)=>t.match({domRange:o=>({ltr:re(o),rtl:D.none}),relative:(o,s)=>({ltr:ks(()=>rN(e,o,s)),rtl:ks(()=>D.some(rN(e,s,o)))}),exact:(o,s,l,u)=>({ltr:ks(()=>MC(e,o,s,l,u)),rtl:ks(()=>D.some(MC(e,l,u,o,s)))})}),nG=(e,t)=>{let o=t.ltr();return o.collapsed?t.rtl().filter(l=>l.collapsed===!1).map(l=>xf.rtl(T.fromDom(l.endContainer),l.endOffset,T.fromDom(l.startContainer),l.startOffset)).getOrThunk(()=>oN(e,xf.ltr,o)):oN(e,xf.ltr,o)},rG=(e,t)=>{let o=tG(e,t);return nG(e,o)};xf.ltr,xf.rtl;let sN={create:(e,t,o,s)=>({start:e,soffset:t,finish:o,foffset:s})},oG=(e,t,o)=>{var s,l;return D.from((l=(s=e.dom).caretPositionFromPoint)===null||l===void 0?void 0:l.call(s,t,o)).bind(u=>{if(u.offsetNode===null)return D.none();let d=e.dom.createRange();return d.setStart(u.offsetNode,u.offset),d.collapse(),D.some(d)})},sG=(e,t,o)=>{var s,l;return D.from((l=(s=e.dom).caretRangeFromPoint)===null||l===void 0?void 0:l.call(s,t,o))},iG=document.caretPositionFromPoint?oG:document.caretRangeFromPoint?sG:D.none,aG=(e,t,o)=>{let s=T.fromDom(e.document);return iG(s,t,o).map(l=>sN.create(T.fromDom(l.startContainer),l.startOffset,T.fromDom(l.endContainer),l.endOffset))},NC=Ls.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),lG=(e,t,o,s)=>e.fold(t,o,s),cG=e=>e.fold(_n,_n,_n),uG=NC.before,dG=NC.on,fG=NC.after,yi={before:uG,on:dG,after:fG,cata:lG,getStart:cG},vm=Ls.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),pG=e=>vm.exact(e.start,e.soffset,e.finish,e.foffset),hG=e=>e.match({domRange:t=>T.fromDom(t.startContainer),relative:(t,o)=>yi.getStart(t),exact:(t,o,s,l)=>t}),mG=vm.domRange,gG=vm.relative,vG=vm.exact,yG=e=>{let t=hG(e);return zd(t)},bG=sN.create,Kc={domRange:mG,relative:gG,exact:vG,exactFromRange:pG,getWin:yG,range:bG},ym=(e,t)=>{let o=st(e);return o==="input"?yi.after(e):ft(["br","img"],o)?t===0?yi.before(e):yi.after(e):yi.on(e,t)},CG=(e,t)=>{let o=e.fold(yi.before,ym,yi.after),s=t.fold(yi.before,ym,yi.after);return Kc.relative(o,s)},iN=(e,t,o,s)=>{let l=ym(e,t),u=ym(o,s);return Kc.relative(l,u)},wG=e=>e.match({domRange:t=>{let o=T.fromDom(t.startContainer),s=T.fromDom(t.endContainer);return iN(o,t.startOffset,s,t.endOffset)},relative:CG,exact:iN}),RC=(e,t)=>{let s=(t||document).createDocumentFragment();return z(e,l=>{s.appendChild(l.dom)}),T.fromDom(s)},EG=e=>{let t=Kc.getWin(e).dom,o=(l,u,d,p)=>MC(t,l,u,d,p),s=wG(e);return rG(t,s).match({ltr:o,rtl:o})},DG=(e,t,o)=>aG(e,t,o),aN=(e,t,o)=>{let s=zd(T.fromDom(o));return DG(s.dom,e,t).map(l=>{let u=o.createRange();return u.setStart(l.start.dom,l.soffset),u.setEnd(l.finish.dom,l.foffset),u}).getOrUndefined()},OC=(e,t)=>G(e)&&G(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,_G=(e,t,o)=>{let s=e;for(;s&&s!==t;){if(o(s))return s;s=s.parentNode}return null},lN=(e,t,o)=>_G(e,t,o)!==null,xG=(e,t,o)=>lN(e,t,s=>s.nodeName===o),SG=(e,t)=>Jr(e)&&!lN(e,t,to),cN=(e,t,o)=>{let s=t.parentNode;if(s){let l=new xn(t,e.getParent(s,e.isBlock)||e.getRoot()),u;for(;u=l[o?"prev":"next"]();)if(Gt(u))return!0}return!1},IG=(e,t)=>{var o;return((o=e.previousSibling)===null||o===void 0?void 0:o.nodeName)===t},AG=(e,t)=>{let o=t;for(;o&&o!==e;){if(Nt(o))return!0;o=o.parentNode}return!1},PC=(e,t,o,s,l)=>{let u=e.getRoot(),d=e.schema.getNonEmptyElements(),p=l.parentNode,m,v;if(!p)return D.none();let b=e.getParent(p,e.isBlock)||u;if(s&&Gt(l)&&t&&e.isEmpty(b))return D.some(j(p,e.nodeIndex(l)));let C=new xn(l,b);for(;v=C[s?"prev":"next"]();){if(e.getContentEditableParent(v)==="false"||SG(v,u))return D.none();if(Q(v)&&v.data.length>0)return xG(v,u,"A")?D.none():D.some(j(v,s?v.data.length:0));if(e.isBlock(v)||d[v.nodeName.toLowerCase()])return D.none();m=v}return sa(m)?D.none():o&&m?D.some(j(m,0)):D.none()},uN=(e,t,o,s)=>{let l=e.getRoot(),u,d=!1,p=o?s.startContainer:s.endContainer,m=o?s.startOffset:s.endOffset,v=ge(p)&&m===p.childNodes.length,b=e.schema.getNonEmptyElements(),C=o;if(Jr(p))return D.none();if(ge(p)&&m>p.childNodes.length-1&&(C=!1),Zd(p)&&(p=l,m=0),p===l){if(C&&(u=p.childNodes[m>0?m-1:0],u&&(Jr(u)||b[u.nodeName]||Ps(u))))return D.none();if(p.hasChildNodes()){if(m=Math.min(!C&&m>0?m-1:m,p.childNodes.length-1),p=p.childNodes[m],m=Q(p)&&v?p.data.length:0,!t&&p===l.lastChild&&Ps(p)||AG(l,p)||Jr(p)||y0(p))return D.none();if(p.hasChildNodes()&&!Ps(p)){u=p;let E=new xn(p,l);do{if(Nt(u)||Jr(u)){d=!1;break}if(Q(u)&&u.data.length>0){m=C?0:u.data.length,p=u,d=!0;break}if(b[u.nodeName.toLowerCase()]&&!d8(u)){m=e.nodeIndex(u),p=u.parentNode,C||m++,d=!0;break}}while(u=C?E.next():E.prev())}}}return t&&(Q(p)&&m===0&&PC(e,v,t,!0,p).each(E=>{p=E.container(),m=E.offset(),d=!0}),ge(p)&&(u=p.childNodes[m],u||(u=p.childNodes[m-1]),u&&Gt(u)&&!IG(u,"A")&&!cN(e,u,!1)&&!cN(e,u,!0)&&PC(e,v,t,!0,u).each(E=>{p=E.container(),m=E.offset(),d=!0}))),C&&!t&&Q(p)&&m===p.data.length&&PC(e,v,t,!1,p).each(E=>{p=E.container(),m=E.offset(),d=!0}),d&&p?D.some(j(p,m)):D.none()},bm=(e,t)=>{let o=t.collapsed,s=t.cloneRange(),l=j.fromRangeStart(t);return uN(e,o,!0,s).each(u=>{(!o||!j.isAbove(l,u))&&s.setStart(u.container(),u.offset())}),o||uN(e,o,!1,s).each(u=>{s.setEnd(u.container(),u.offset())}),o&&s.collapse(!0),OC(t,s)?D.none():D.some(s)},Cm=(e,t)=>e.splitText(t),wm=e=>{let t=e.startContainer,o=e.startOffset,s=e.endContainer,l=e.endOffset;if(t===s&&Q(t)){if(o>0&&o<t.data.length)if(s=Cm(t,o),t=s.previousSibling,l>o){l=l-o;let u=Cm(s,l).previousSibling;t=s=u,l=u.data.length,o=0}else l=0}else if(Q(t)&&o>0&&o<t.data.length&&(t=Cm(t,o),o=0),Q(s)&&l>0&&l<s.data.length){let u=Cm(s,l).previousSibling;s=u,l=u.data.length}return{startContainer:t,startOffset:o,endContainer:s,endOffset:l}},yl=e=>({walk:(u,d)=>Df(e,u,d),split:wm,expand:(u,d={type:"word"})=>{if(d.type==="word"){let p=gl(e,u,[{inline:"span"}]),m=e.createRng();return m.setStart(p.startContainer,p.startOffset),m.setEnd(p.endContainer,p.endOffset),m}return u},normalize:u=>bm(e,u).fold(wt,d=>(u.setStart(d.startContainer,d.startOffset),u.setEnd(d.endContainer,d.endOffset),!0))});yl.compareRanges=OC,yl.getCaretRangeFromPoint=aN,yl.getSelectedNode=Jh,yl.getNode=ca;let kG=((e,t)=>{let o=(p,m)=>{if(!Zt(m)&&!m.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+m);let v=p.dom;Gd(v)&&(v.style[e]=m+"px")},s=p=>{let m=t(p);if(m<=0||m===null){let v=Os(p,e);return parseFloat(v)||0}return m},l=s,u=(p,m)=>Rn(m,(v,b)=>{let C=Os(p,b),E=C===void 0?0:parseInt(C,10);return isNaN(E)?v:v+E},0);return{set:o,get:s,getOuter:l,aggregate:u,max:(p,m,v)=>{let b=u(p,v);return m>b?m-b:0}}})("height",e=>{let t=e.dom;return Sc(e)?t.getBoundingClientRect().height:t.offsetHeight}),TG=e=>kG.get(e),dN=()=>T.fromDom(document),fN=(e,t)=>e.view(t).fold(re([]),s=>{let l=e.owner(s),u=fN(e,l);return[s].concat(u)}),MG=(e,t)=>{let o=t.owner(e);return fN(t,o)};var NG=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?D.none():D.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(T.fromDom)},owner:e=>di(e)});let RG=e=>{let t=dN(),o=h0(t),s=MG(e,NG),l=p0(e),u=Qr(s,(d,p)=>{let m=p0(p);return{left:d.left+m.left,top:d.top+m.top}},{left:0,top:0});return kc(u.left+l.left+o.left,u.top+l.top+o.top)},FC=e=>st(e)==="textarea",OG=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),PG=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},FG=(e,t)=>{let o=Xn(e);if(o.length===0||FC(e))return{element:e,offset:t};if(t<o.length&&!FC(o[t]))return{element:o[t],offset:0};{let s=o[o.length-1];return FC(s)?{element:e,offset:t}:st(s)==="img"?{element:s,offset:1}:Xr(s)?{element:s,offset:Kh(s).length}:{element:s,offset:Xn(s).length}}},pN=(e,t)=>{let o=Q4(e),s=TG(e);return{element:e,bottom:o.top+s,height:s,pos:o,cleanup:t}},LG=(e,t)=>{let o=FG(e,t),s=T.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+yn+"</span>");return xr(o.element,s),pN(s,()=>Lt(s))},BG=e=>pN(T.fromDom(e),Ne),hN=(e,t,o,s)=>{$G(e,(l,u)=>VG(e,t,o,s),o)},mN=(e,t,o,s,l)=>{let u={elm:s.element.dom,alignToTop:l};if(OG(e,u))return;let d=h0(t).top;o(e,t,d,s,l),PG(e,u)},VG=(e,t,o,s)=>{let l=T.fromDom(e.getBody()),u=T.fromDom(e.getDoc());$4(l);let d=LG(T.fromDom(o.startContainer),o.startOffset);mN(e,u,t,d,s),d.cleanup()},gN=(e,t,o,s)=>{let l=T.fromDom(e.getDoc());mN(e,l,o,BG(t),s)},$G=(e,t,o)=>{let s=o.startContainer,l=o.startOffset,u=o.endContainer,d=o.endOffset;t(T.fromDom(s),T.fromDom(u));let p=e.dom.createRng();p.setStart(s,l),p.setEnd(u,d),e.selection.setRng(o)},LC=(e,t,o,s,l)=>{let u=t.pos;if(s)tk(u.left,u.top,l);else{let d=u.top-o+t.height;tk(-e.getBody().getBoundingClientRect().left,d,l)}},vN=(e,t,o,s,l,u)=>{let d=s+o,p=l.pos.top,m=l.bottom,v=m-p>=s;p<o?LC(e,l,s,u!==!1,t):p>d?LC(e,l,s,v?u!==!1:u===!0,t):m>d&&!v&&LC(e,l,s,u===!0,t)},yN=(e,t,o,s,l)=>{let u=zd(t).dom.innerHeight;vN(e,t,o,u,s,l)},bN=(e,t,o,s,l)=>{let u=zd(t).dom.innerHeight;vN(e,t,o,u,s,l);let d=RG(s.element),p=ok(window);d.top<p.y?nk(s.element,l!==!1):d.top>p.bottom&&nk(s.element,l===!0)},jG=(e,t,o)=>hN(e,yN,t,o),UG=(e,t,o)=>gN(e,t,yN,o),HG=(e,t,o)=>hN(e,bN,t,o),zG=(e,t,o)=>gN(e,t,bN,o),WG=(e,t,o)=>{(e.inline?UG:zG)(e,t,o)},Sf=(e,t,o)=>{(e.inline?jG:HG)(e,t,o)},CN=(e,t=!1)=>e.dom.focus({preventScroll:t}),wN=e=>{let t=ra(e).dom;return e.dom===t.activeElement},BC=(e=dN())=>D.from(e.dom.activeElement).map(T.fromDom),qG=e=>BC(ra(e)).filter(t=>e.dom.contains(t.dom)),EN=(e,t)=>{let o=Xr(t)?Kh(t).length:Xn(t).length+1;return e>o?o:e<0?0:e},GG=e=>Kc.range(e.start,EN(e.soffset,e.start),e.finish,EN(e.foffset,e.finish)),DN=(e,t)=>!Bh(t.dom)&&(Cr(e,t)||mt(e,t)),_N=e=>t=>DN(e,t.start)&&DN(e,t.finish),KG=e=>e.inline||ct.browser.isFirefox(),YG=e=>Kc.range(T.fromDom(e.startContainer),e.startOffset,T.fromDom(e.endContainer),e.endOffset),ZG=e=>{let t=e.getSelection();return(!t||t.rangeCount===0?D.none():D.from(t.getRangeAt(0))).map(YG)},QG=e=>{let t=zd(e);return ZG(t.dom).filter(_N(e))},XG=(e,t)=>D.from(t).filter(_N(e)).map(GG),JG=e=>{let t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),D.some(t)}catch{return D.none()}},Em=e=>{let t=KG(e)?QG(T.fromDom(e.getBody())):D.none();e.bookmark=t.isSome()?t:e.bookmark},VC=e=>(e.bookmark?e.bookmark:D.none()).bind(o=>XG(T.fromDom(e.getBody()),o)).bind(JG),e7=e=>{VC(e).each(t=>e.selection.setRng(t))},xN={isEditorUIElement:e=>{let t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},t7=(e,t)=>(Zt(t)||(t=0),setTimeout(e,t)),n7=(e,t)=>(Zt(t)||(t=0),setInterval(e,t)),oo={setEditorTimeout:(e,t,o)=>t7(()=>{e.removed||t()},o),setEditorInterval:(e,t,o)=>{let s=n7(()=>{e.removed?clearInterval(s):t()},o);return s}},r7=e=>e.type==="nodechange"&&e.selectionChange,o7=(e,t)=>{let o=()=>{t.throttle()};At.DOM.bind(document,"mouseup",o),e.on("remove",()=>{At.DOM.unbind(document,"mouseup",o)})},s7=(e,t)=>{e.on("mouseup touchend",o=>{t.throttle()})},i7=(e,t)=>{s7(e,t),e.on("keyup NodeChange AfterSetSelectionRange",o=>{r7(o)||Em(e)})},a7=e=>{let t=Gh(()=>{Em(e)},0);e.on("init",()=>{e.inline&&o7(e,t),i7(e,t)}),e.on("remove",()=>{t.cancel()})},Yc,$C=At.DOM,l7=e=>ge(e)&&xN.isEditorUIElement(e),jC=e=>{let t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},Dm=(e,t)=>{let o=I5(e);return $C.getParent(t,l=>l7(l)||(o?e.dom.is(l,o):!1))!==null},UC=e=>{try{let t=ra(T.fromDom(e.getElement()));return BC(t).fold(()=>document.body,o=>o.dom)}catch{return document.body}},c7=(e,t)=>{let o=t.editor;a7(o);let s=(l,u)=>{if(aq(l)&&l.inline!==!0){let d=T.fromDom(l.getContainer());u(d,"tox-edit-focus")}};o.on("focusin",()=>{let l=e.focusedEditor;jC(UC(o))&&s(o,_c),l!==o&&(l&&l.dispatch("blur",{focusedEditor:o}),e.setActive(o),e.focusedEditor=o,o.dispatch("focus",{blurredEditor:l}),o.focus(!0))}),o.on("focusout",()=>{oo.setEditorTimeout(o,()=>{let l=e.focusedEditor;(!jC(UC(o))||l!==o)&&s(o,Ud),!Dm(o,UC(o))&&l===o&&(o.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Yc||(Yc=l=>{let u=e.activeEditor;u&&WA(l).each(d=>{let p=d;p.ownerDocument===document&&p!==document.body&&!Dm(u,p)&&e.focusedEditor===u&&(u.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},$C.bind(document,"focusin",Yc))},u7=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Yc&&($C.unbind(document,"focusin",Yc),Yc=null)},d7=e=>{e.on("AddEditor",pe(c7,e)),e.on("RemoveEditor",pe(u7,e))},f7=(e,t)=>e.dom.getParent(t,o=>e.dom.getContentEditable(o)==="true"),p7=e=>e.collapsed?D.from(ca(e.startContainer,e.startOffset)).map(T.fromDom):D.none(),h7=(e,t)=>p7(t).bind(o=>WW(o)?D.some(o):Cr(e,o)?D.none():D.some(e)),SN=(e,t)=>{h7(T.fromDom(e.getBody()),t).bind(o=>nr(o.dom)).fold(()=>{e.selection.normalize()},o=>e.selection.setRng(o.toRange()))},HC=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},m7=e=>wN(e)||qG(e).isSome(),g7=e=>G(e.iframeElement)&&wN(T.fromDom(e.iframeElement)),v7=e=>{let t=e.getBody();return t&&m7(T.fromDom(t))},y7=e=>{let t=ra(T.fromDom(e.getElement()));return BC(t).filter(o=>!jC(o.dom)&&Dm(e,o.dom)).isSome()},Zc=e=>e.inline?v7(e):g7(e),IN=e=>Zc(e)||y7(e),b7=e=>{let t=e.selection,o=e.getBody(),s=t.getRng();e.quirks.refreshContentEditable();let l=d=>{VC(d).each(p=>{d.selection.setRng(p),s=p})};!Zc(e)&&e.hasEditableRoot()&&l(e);let u=f7(e,t.getNode());if(u&&e.dom.isChildOf(u,o)){HC(u),e.hasEditableRoot()||l(e),SN(e,s),zC(e);return}e.inline||(ct.browser.isOpera()||HC(o),e.getWin().focus()),(ct.browser.isFirefox()||e.inline)&&(HC(o),SN(e,s)),zC(e)},zC=e=>e.editorManager.setActive(e),C7=(e,t)=>{e.removed||(t?zC(e):b7(e))},AN=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),kN=(e,t,o,s,l)=>{let u=o?t.startContainer:t.endContainer,d=o?t.startOffset:t.endOffset;return D.from(u).map(T.fromDom).map(p=>!s||!t.collapsed?xc(p,l(p,d)).getOr(p):p).bind(p=>$r(p)?D.some(p):es(p).filter($r)).map(p=>p.dom).getOr(e)},TN=(e,t,o=!1)=>kN(e,t,!0,o,(s,l)=>Math.min(l0(s),l)),MN=(e,t,o=!1)=>kN(e,t,!1,o,(s,l)=>l>0?l-1:l),NN=(e,t)=>{let o=e;for(;e&&Q(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||o},w7=(e,t)=>{if(!t)return e;let o=t.startContainer,s=t.endContainer,l=t.startOffset,u=t.endOffset,d=t.commonAncestorContainer;t.collapsed||(o===s&&u-l<2&&o.hasChildNodes()&&(d=o.childNodes[l]),Q(o)&&Q(s)&&(o.length===l?o=NN(o.nextSibling,!0):o=o.parentNode,u===0?s=NN(s.previousSibling,!1):s=s.parentNode,o&&o===s&&(d=o)));let p=Q(d)?d.parentNode:d;return hi(p)?p:e},E7=(e,t,o,s)=>{let l=[],u=e.getRoot(),d=e.getParent(o||TN(u,t,t.collapsed),e.isBlock),p=e.getParent(s||MN(u,t,t.collapsed),e.isBlock);if(d&&d!==u&&l.push(d),d&&p&&d!==p){let m,v=new xn(d,u);for(;(m=v.next())&&m!==p;)e.isBlock(m)&&l.push(m)}return p&&d!==p&&p!==u&&l.push(p),l},D7=(e,t,o)=>D.from(t).bind(s=>D.from(s.parentNode).map(l=>{let u=e.nodeIndex(s),d=e.createRng();return d.setStart(l,u),d.setEnd(l,u+1),o&&(bC(e,d,s,!0),bC(e,d,s,!1)),d})),WC=(e,t)=>rt(t,o=>{let s=e.dispatch("GetSelectionRange",{range:o});return s.range!==o?s.range:o}),_7={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},_m=(e,t,o)=>{let s=o?"lastChild":"firstChild",l=o?"prev":"next";if(e[s])return e[s];if(e!==t){let u=e[l];if(u)return u;for(let d=e.parent;d&&d!==t;d=d.parent)if(u=d[l],u)return u}},x7=e=>{var t;let o=(t=e.value)!==null&&t!==void 0?t:"";if(!Tc(o))return!1;let s=e.parent;return!(s&&(s.name!=="span"||s.attr("style"))&&/^[ ]+$/.test(o))},RN=e=>{let t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class fr{static create(t,o){let s=new fr(t,_7[t]||1);return o&&kt(o,(l,u)=>{s.attr(u,l)}),s}constructor(t,o){this.name=t,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(t){let o=this;return t.parent&&t.remove(),o.insert(t,o),o.remove(),o}attr(t,o){let s=this;if(!te(t))return G(t)&&kt(t,(u,d)=>{s.attr(d,u)}),s;let l=s.attributes;if(l){if(o!==void 0){if(o===null){if(t in l.map){delete l.map[t];let u=l.length;for(;u--;)if(l[u].name===t)return l.splice(u,1),s}return s}if(t in l.map){let u=l.length;for(;u--;)if(l[u].name===t){l[u].value=o;break}}else l.push({name:t,value:o});return l.map[t]=o,s}return l.map[t]}}clone(){let t=this,o=new fr(t.name,t.type),s=t.attributes;if(s){let l=[];l.map={};for(let u=0,d=s.length;u<d;u++){let p=s[u];p.name!=="id"&&(l[l.length]={name:p.name,value:p.value},l.map[p.name]=p.value)}o.attributes=l}return o.value=t.value,o}wrap(t){let o=this;return o.parent&&(o.parent.insert(t,o),t.append(o)),o}unwrap(){let t=this;for(let o=t.firstChild;o;){let s=o.next;t.insert(o,t,!0),o=s}t.remove()}remove(){let t=this,o=t.parent,s=t.next,l=t.prev;return o&&(o.firstChild===t?(o.firstChild=s,s&&(s.prev=null)):l&&(l.next=s),o.lastChild===t?(o.lastChild=l,l&&(l.next=null)):s&&(s.prev=l),t.parent=t.next=t.prev=null),t}append(t){let o=this;t.parent&&t.remove();let s=o.lastChild;return s?(s.next=t,t.prev=s,o.lastChild=t):o.lastChild=o.firstChild=t,t.parent=o,t}insert(t,o,s){t.parent&&t.remove();let l=o.parent||this;return s?(o===l.firstChild?l.firstChild=t:o.prev&&(o.prev.next=t),t.prev=o.prev,t.next=o,o.prev=t):(o===l.lastChild?l.lastChild=t:o.next&&(o.next.prev=t),t.next=o.next,t.prev=o,o.next=t),t.parent=l,t}getAll(t){let o=this,s=[];for(let l=o.firstChild;l;l=_m(l,o))l.name===t&&s.push(l);return s}children(){let t=this,o=[];for(let s=t.firstChild;s;s=s.next)o.push(s);return o}empty(){let t=this;if(t.firstChild){let o=[];for(let l=t.firstChild;l;l=_m(l,t))o.push(l);let s=o.length;for(;s--;){let l=o[s];l.parent=l.firstChild=l.lastChild=l.next=l.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,o={},s){var l;let u=this,d=u.firstChild;if(RN(u))return!1;if(d)do{if(d.type===1){if(d.attr("data-mce-bogus"))continue;if(t[d.name]||RN(d))return!1}if(d.type===8||d.type===3&&!x7(d)||d.type===3&&d.parent&&o[d.parent.name]&&Tc((l=d.value)!==null&&l!==void 0?l:"")||s&&s(d))return!1}while(d=_m(d,u));return!0}walk(t){return _m(this,null,t)}}let S7=ee.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),ON=e=>te(e.nodeValue)&&e.nodeValue.includes(yn),PN=e=>`${e.length===0?"":`${rt(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,I7=(e,t)=>t.querySelectorAll(PN(e)),FN=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>ON(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),LN=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(ON(t)){let o=t.parentNode;return o&&Pe(S7,o.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),A7=e=>FN(e).nextNode()!==null,k7=e=>LN(e).nextNode()!==null,T7=(e,t)=>t.querySelector(PN(e))!==null,M7=(e,t)=>{z(I7(e,t),o=>{let s=T.fromDom(o);jr(s,"data-mce-bogus")==="all"?Lt(s):z(e,l=>{$d(s,l)&&Pn(s,l)})})},BN=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},N7=Mt(BN,FN),R7=Mt(BN,LN),VN=(e,t)=>{let o=[{condition:pe(T7,t),action:pe(M7,t)},{condition:A7,action:N7},{condition:k7,action:R7}],s=e,l=!1;return z(o,({condition:u,action:d})=>{u(s)&&(l||(s=e.cloneNode(!0),l=!0),d(s))}),s},$N=e=>{let t=Jn(e,"[data-mce-bogus]");z(t,o=>{jr(o,"data-mce-bogus")==="all"?Lt(o):ul(o)?(xr(o,T.fromText(Kd)),Lt(o)):oa(o)})},jN=e=>{let t=Jn(e,"input");z(t,o=>{Pn(o,"name")})},O7=(e,t)=>{let o=tr(e),s=new RegExp(`^(<${o}[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/${o}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(s,"")},P7=(e,t)=>{let o=e.getDoc(),s=ra(T.fromDom(e.getBody())),l=T.fromTag("div",o);On(l,"data-mce-bogus","all"),Rh(l,{position:"fixed",left:"-9999999px",top:"0"}),Fh(l,t.innerHTML),$N(l),jN(l);let u=M4(s);pn(u,l);let d=Ur(l.dom.innerText);return Lt(l),d},F7=(e,t,o)=>{let s;return t.format==="raw"?s=ee.trim(Ur(VN(o,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?s=P7(e,o):t.format==="tree"?s=e.serializer.serialize(o,t):s=O7(e,e.serializer.serialize(o,t)),t.format!=="text"&&!Yh(T.fromDom(o))&&te(s)?ee.trim(s):s},L7=(e,t)=>D.from(e.getBody()).fold(re(t.format==="tree"?new fr("body",11):""),o=>F7(e,t,o)),UN=ee.makeMap,HN=e=>{let t=[];e=e||{};let o=e.indent,s=UN(e.indent_before||""),l=UN(e.indent_after||""),u=sl.getEncodeFunc(e.entity_encoding||"raw",e.entities),d=e.element_format!=="xhtml";return{start:(p,m,v)=>{if(o&&s[p]&&t.length>0){let b=t[t.length-1];b.length>0&&b!==`
`&&t.push(`
`)}if(t.push("<",p),m)for(let b=0,C=m.length;b<C;b++){let E=m[b];t.push(" ",E.name,'="',u(E.value,!0),'"')}if(!v||d?t[t.length]=">":t[t.length]=" />",v&&o&&l[p]&&t.length>0){let b=t[t.length-1];b.length>0&&b!==`
`&&t.push(`
`)}},end:p=>{let m;t.push("</",p,">"),o&&l[p]&&t.length>0&&(m=t[t.length-1],m.length>0&&m!==`
`&&t.push(`
`))},text:(p,m)=>{p.length>0&&(t[t.length]=m?p:u(p))},cdata:p=>{t.push("<![CDATA[",p,"]]>")},comment:p=>{t.push("<!--",p,"-->")},pi:(p,m)=>{m?t.push("<?",p," ",u(m),"?>"):t.push("<?",p,"?>"),o&&t.push(`
`)},doctype:p=>{t.push("<!DOCTYPE",p,">",o?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},pa=(e={},t=ia())=>{let o=HN(e);return e.validate="validate"in e?e.validate:!0,{serialize:l=>{let u=e.validate,d={3:m=>{var v;o.text((v=m.value)!==null&&v!==void 0?v:"",m.raw)},8:m=>{var v;o.comment((v=m.value)!==null&&v!==void 0?v:"")},7:m=>{o.pi(m.name,m.value)},10:m=>{var v;o.doctype((v=m.value)!==null&&v!==void 0?v:"")},4:m=>{var v;o.cdata((v=m.value)!==null&&v!==void 0?v:"")},11:m=>{let v=m;if(v=v.firstChild)do p(v);while(v=v.next)}};o.reset();let p=m=>{var v;let b=d[m.type];if(b)b(m);else{let C=m.name,E=C in t.getVoidElements(),x=m.attributes;if(u&&x&&x.length>1){let I=[];I.map={};let S=t.getElementRule(m.name);if(S){for(let A=0,M=S.attributesOrder.length;A<M;A++){let R=S.attributesOrder[A];if(R in x.map){let N=x.map[R];I.map[R]=N,I.push({name:R,value:N})}}for(let A=0,M=x.length;A<M;A++){let R=x[A].name;if(!(R in I.map)){let N=x.map[R];I.map[R]=N,I.push({name:R,value:N})}}x=I}}if(o.start(C,x,E),nl(C))te(m.value)&&o.text(m.value,!0),o.end(C);else if(!E){let I=m.firstChild;if(I){(C==="pre"||C==="textarea")&&I.type===3&&((v=I.value)===null||v===void 0?void 0:v[0])===`
`&&o.text(`
`,!0);do p(I);while(I=I.next)}o.end(C)}}};return l.type===1&&!e.inner?p(l):l.type===3?d[3](l):d[11](l),o.getContent()}}},zN=new Set;z(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{zN.add(t)});let WN=new Set;z(["background-color"],t=>{WN.add(t)});let qN=["font","text-decoration","text-emphasis"],B7=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),Qc=(e,t)=>_r(B7(e,t)),V7=e=>zN.has(e),$7=e=>WN.has(e),GN=(e,t)=>Ht(Qc(e,t),o=>V7(o)),j7=(e,t)=>GN(e,t)&&Ht(Qc(e,t),o=>$7(o)),U7=e=>Te(e,t=>Ht(qN,o=>vn(t,o))),H7=(e,t,o)=>{let s=Qc(e,t),l=Qc(e,o),u=d=>{var p,m;let v=(p=e.getStyle(t,d))!==null&&p!==void 0?p:"",b=(m=e.getStyle(o,d))!==null&&m!==void 0?m:"";return Ts(v)&&Ts(b)&&v!==b};return Ht(s,d=>{let p=m=>Ht(m,v=>v===d);if(!p(l)&&p(qN)){let m=U7(l);return Ht(m,u)}else return u(d)})},KN=(e,t,o)=>D.from(o.container()).filter(Q).exists(s=>{let l=e?0:-1;return t(s.data.charAt(o.offset()+l))}),qC=pe(KN,!0,zc),GC=pe(KN,!1,zc),z7=e=>{let t=e.container();return Q(t)&&(t.data.length===0||Zh(t.data)&&_f.isBookmarkNode(t.parentNode))},ha=(e,t)=>o=>lC(e?0:-1,o).filter(t).isSome(),YN=e=>dk(e)&&Os(T.fromDom(e),"display")==="block",ZN=e=>Nt(e)&&!l8(e),W7=ha(!0,YN),q7=ha(!1,YN),If=ha(!0,Fs),Af=ha(!1,Fs),QN=ha(!0,Ps),KC=ha(!1,Ps),ma=ha(!0,ZN),ga=ha(!1,ZN),G7=e=>e.slice(0,-1),K7=(e,t,o)=>Cr(t,e)?G7(HA(e,s=>o(s)||mt(s,t))):[],XN=(e,t)=>K7(e,t,wt),bi=(e,t)=>[e].concat(XN(e,t)),YC=(e,t,o)=>wM(e,t,o,z7),Y7=e=>t=>e.isBlock(st(t)),JN=(e,t,o)=>sn(bi(T.fromDom(t.container()),e),Y7(o)),e1=(e,t,o,s)=>YC(e,t.dom,o).forall(l=>JN(t,o,s).fold(()=>!Bs(l,o,t.dom),u=>!Bs(l,o,t.dom)&&Cr(u,T.fromDom(l.container())))),t1=(e,t,o,s)=>JN(t,o,s).fold(()=>YC(e,t.dom,o).forall(l=>!Bs(l,o,t.dom)),l=>YC(e,l.dom,o).isNone()),ZC=pe(t1,!1),n1=pe(t1,!0),Z7=pe(e1,!1),Q7=pe(e1,!0),X7=e=>am(e).exists(ul),xm=(e,t,o,s)=>{let l=Te(bi(T.fromDom(o.container()),t),d=>s.isBlock(st(d))),u=br(l).getOr(t);return eo(e,u.dom,o).filter(X7)},QC=(e,t,o)=>am(t).exists(ul)||xm(!0,e,t,o).isSome(),Sm=(e,t,o)=>Bq(t).exists(ul)||xm(!1,e,t,o).isSome(),r1=pe(xm,!1),J7=pe(xm,!0),o1=e=>j.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),s1=(e,t,o)=>{let s=Te(bi(T.fromDom(t.container()),e),l=>o.isBlock(st(l)));return br(s).getOr(e)},i1=(e,t,o)=>o1(t)?GC(t):GC(t)||Sr(s1(e,t,o).dom,t).exists(GC),a1=(e,t,o)=>o1(t)?qC(t):qC(t)||Er(s1(e,t,o).dom,t).exists(qC),eK=e=>ft(["pre","pre-wrap"],e),XC=e=>am(e).bind(t=>Qa(t,$r)).exists(t=>eK(Os(t,"white-space"))),tK=(e,t)=>Sr(e.dom,t).isNone(),nK=(e,t)=>Er(e.dom,t).isNone(),rK=(e,t,o)=>tK(e,t)||nK(e,t)||ZC(e,t,o)||n1(e,t,o)||Sm(e,t,o)||QC(e,t,o),oK=e=>G(e)&&Nt(e)&&lM(e),l1=(e,t)=>o=>oK(new xn(o,e)[t]()),sK=(e,t)=>{let o=Er(e.dom,t).getOr(t),s=l1(e.dom,"next");return t.isAtEnd()&&(s(t.container())||s(o.container()))},iK=(e,t)=>{let o=Sr(e.dom,t).getOr(t),s=l1(e.dom,"prev");return t.isAtStart()&&(s(t.container())||s(o.container()))},c1=(e,t,o)=>XC(t)?!1:rK(e,t,o)||i1(e,t,o)||a1(e,t,o),kf=(e,t,o)=>XC(t)?!1:ZC(e,t,o)||Z7(e,t,o)||Sm(e,t,o)||i1(e,t,o)||iK(e,t),aK=e=>{let t=e.container(),o=e.offset();return Q(t)&&o<t.data.length?j(t,o+1):e},Tf=(e,t,o)=>XC(t)?!1:n1(e,t,o)||Q7(e,t,o)||QC(e,t,o)||a1(e,t,o)||sK(e,t),JC=(e,t,o)=>kf(e,t,o)||Tf(e,aK(t),o),u1=(e,t)=>dm(e.charAt(t)),d1=(e,t)=>zc(e.charAt(t)),lK=e=>{let t=e.container();return Q(t)&&Zn(t.data,Sn)},cK=e=>{let t=e.split("");return rt(t,(o,s)=>dm(o)&&s>0&&s<t.length-1&&mC(t[s-1])&&mC(t[s+1])?" ":o).join("")},f1=(e,t,o,s)=>{let l=t.data,u=j(t,0);return!o&&u1(l,0)&&!JC(e,u,s)?(t.data=" "+l.slice(1),!0):o&&d1(l,0)&&kf(e,u,s)?(t.data=Sn+l.slice(1),!0):!1},uK=e=>{let t=e.data,o=cK(t);return o!==t?(e.data=o,!0):!1},p1=(e,t,o,s)=>{let l=t.data,u=j(t,l.length-1);return!o&&u1(l,l.length-1)&&!JC(e,u,s)?(t.data=l.slice(0,-1)+" ",!0):o&&d1(l,l.length-1)&&Tf(e,u,s)?(t.data=l.slice(0,-1)+Sn,!0):!1},dK=(e,t,o)=>{let s=t.container();if(!Q(s))return D.none();if(lK(t)){let l=f1(e,s,!1,o)||uK(s)||p1(e,s,!1,o);return Dc(l,t)}else if(JC(e,t,o)){let l=f1(e,s,!0,o)||p1(e,s,!0,o);return Dc(l,t)}else return D.none()},fK=e=>{let t=T.fromDom(e.getBody());e.selection.isCollapsed()&&dK(t,j.fromRangeStart(e.selection.getRng()),e.schema).each(o=>{e.selection.setRng(o.toRange())})},h1=(e,t,o,s)=>{if(o===0)return;let l=T.fromDom(e),u=fi(l,v=>s.isBlock(st(v))).getOr(l),d=e.data.slice(t,t+o),p=t+o>=e.data.length&&Tf(u,j(e,e.data.length),s),m=t===0&&kf(u,j(e,0),s);e.replaceData(t,o,ck(d,4,m,p))},Im=(e,t,o)=>{let s=e.data.slice(t),l=s.length-Hz(s).length;h1(e,t,l,o)},ew=(e,t,o)=>{let s=e.data.slice(0,t),l=s.length-sA(s).length;h1(e,t-l,l,o)},tw=(e,t,o,s,l=!0)=>{let u=sA(e.data).length,d=l?e:t,p=l?t:e;return l?d.appendData(p.data):d.insertData(0,p.data),Lt(T.fromDom(p)),s&&Im(d,u,o),d},pK=(e,t)=>{let o=e.container(),s=e.offset();return!j.isTextPosition(e)&&o===t.parentNode&&s>j.before(t).offset()},hK=(e,t)=>pK(t,e)?j(t.container(),t.offset()-1):t,mK=e=>Q(e)?j(e,0):j.before(e),gK=e=>Q(e)?j(e,e.data.length):j.after(e),m1=e=>os(e.previousSibling)?D.some(gK(e.previousSibling)):e.previousSibling?Mo(e.previousSibling):D.none(),g1=e=>os(e.nextSibling)?D.some(mK(e.nextSibling)):e.nextSibling?nr(e.nextSibling):D.none(),vK=(e,t)=>D.from(t.previousSibling?t.previousSibling:t.parentNode).bind(o=>Sr(e,j.before(o))).orThunk(()=>Er(e,j.after(t))),yK=(e,t)=>Er(e,j.after(t)).orThunk(()=>Sr(e,j.before(t))),bK=(e,t)=>m1(t).orThunk(()=>g1(t)).orThunk(()=>vK(e,t)),CK=(e,t)=>g1(t).orThunk(()=>m1(t)).orThunk(()=>yK(e,t)),wK=(e,t,o)=>e?CK(t,o):bK(t,o),EK=(e,t,o)=>wK(e,t,o).map(pe(hK,o)),v1=(e,t,o)=>{o.fold(()=>{e.focus()},s=>{e.selection.setRng(s.toRange(),t)})},DK=e=>t=>t.dom===e,_K=(e,t)=>t&&Pe(e.schema.getBlockElements(),st(t)),xK=(e,t,o)=>{if(er(e,t)){let s=T.fromHtml('<br data-mce-bogus="1">');return o?z(Xn(t),l=>{AC(l)||Lt(l)}):Ac(t),pn(t,s),D.some(j.before(s.dom))}else return D.none()},SK=(e,t,o,s)=>{let l=Za(e).filter(Xr),u=Wd(e).filter(Xr);return Lt(e),i4(l,u,t,(d,p,m)=>{let v=d.dom,b=p.dom,C=v.data.length;return tw(v,b,o,s),m.container()===b?j(v,C):m}).orThunk(()=>(s&&(l.each(d=>ew(d.dom,d.dom.length,o)),u.each(d=>Im(d.dom,0,o))),t))},IK=(e,t)=>Pe(e.schema.getTextInlineElements(),st(t)),bl=(e,t,o,s=!0,l=!1)=>{let u=EK(t,e.getBody(),o.dom),d=fi(o,pe(_K,e),DK(e.getBody())),p=SK(o,u,e.schema,IK(e,o));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):d.bind(m=>xK(e.schema,m,l)).fold(()=>{s&&v1(e,t,p)},m=>{s&&v1(e,t,D.some(m))})},AK=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,kK=e=>AK.test(e),Cl=(e,t)=>Jo(T.fromDom(t),v5(e))&&!rl(e.schema,t)&&e.dom.isEditable(t),y1=e=>{var t;return At.DOM.getStyle(e,"direction",!0)==="rtl"||kK((t=e.textContent)!==null&&t!==void 0?t:"")},TK=(e,t,o)=>Te(At.DOM.getParents(o.container(),"*",t),e),va=(e,t,o)=>{let s=TK(e,t,o);return D.from(s[s.length-1])},MK=(e,t,o)=>{let s=da(t,e),l=da(o,e);return G(s)&&s===l},NK=e=>H0(e)||z0(e),so=(e,t)=>{let o=t.container(),s=t.offset();return e?la(o)?Q(o.nextSibling)?j(o.nextSibling,0):j.after(o):H0(t)?j(o,s+1):t:la(o)?Q(o.previousSibling)?j(o.previousSibling,o.previousSibling.data.length):j.before(o):z0(t)?j(o,s-1):t},b1=pe(so,!0),C1=pe(so,!1),w1=(e,t)=>{let o=s=>s.stopImmediatePropagation();e.on("beforeinput input",o,!0),e.getDoc().execCommand(t),e.off("beforeinput input",o)},RK=e=>{e.execCommand("delete")},Am=e=>w1(e,"Delete"),E1=e=>w1(e,"ForwardDelete"),OK=e=>t=>Ec(es(t),e,mt),PK=e=>tT(e)||Oc(e),km=(e,t)=>Cr(e,t)?Qa(t,PK,OK(e)):D.none(),nw=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},D1=(e,t,o)=>Qn(nr(o),Mo(o),(s,l)=>{let u=so(!0,s),d=so(!1,l),p=so(!1,t);return e?Er(o,p).exists(m=>m.isEqual(d)&&t.isEqual(u)):Sr(o,p).exists(m=>m.isEqual(u)&&t.isEqual(d))}).getOr(!0),_1=e=>(h4(e)?Za(e):a0(e)).bind(_1).orThunk(()=>D.some(e)),x1=(e,t,o,s=!0)=>{var l;t.deleteContents();let u=_1(o).getOr(o),d=T.fromDom((l=e.dom.getParent(u.dom,e.dom.isBlock))!==null&&l!==void 0?l:o.dom);if(d.dom===e.getBody()?nw(e,s):er(e.schema,d,{checkRootAsContent:!1})&&(aa(d),s&&e.selection.setCursorLocation(d.dom,0)),!mt(o,d)){let p=Ec(es(d),o)?[]:A4(d);z(p.concat(Xn(o)),m=>{!mt(m,d)&&!Cr(m,d)&&er(e.schema,m)&&Lt(m)})}},FK=e=>t=>mt(e,t),rw=e=>Jn(e,"td,th"),S1=(e,t)=>wf(T.fromDom(e),t),LK=e=>Qn(e.startTable,e.endTable,(t,o)=>{let s=ak(t,u=>mt(u,o)),l=ak(o,u=>mt(u,t));return!s&&!l?e:Me(W({},e),{startTable:s?D.none():e.startTable,endTable:l?D.none():e.endTable,isSameTable:!1,isMultiTable:!1})}).getOr(e),BK=e=>LK(e),VK=(e,t)=>{let o=S1(e.startContainer,t),s=S1(e.endContainer,t),l=o.isSome(),u=s.isSome(),d=Qn(o,s,mt).getOr(!1);return BK({startTable:o,endTable:s,isStartInTable:l,isEndInTable:u,isSameTable:d,isMultiTable:!d&&l&&u})},ow=(e,t)=>({start:e,end:t}),$K=(e,t,o)=>({rng:e,table:t,cells:o}),Mf=Ls.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Tm=(e,t)=>Ic(T.fromDom(e),"td,th",t),I1=e=>!mt(e.start,e.end),A1=(e,t)=>wf(e.start,t).bind(o=>wf(e.end,t).bind(s=>Dc(mt(o,s),o))),jK=(e,t)=>!I1(e)&&A1(e,t).exists(o=>{let s=o.dom.rows;return s.length===1&&s[0].cells.length===1}),UK=(e,t)=>{let o=Tm(e.startContainer,t),s=Tm(e.endContainer,t);return Qn(o,s,ow)},HK=e=>t=>wf(t,e).bind(o=>na(rw(o)).map(s=>ow(t,s))),zK=e=>t=>wf(t,e).bind(o=>br(rw(o)).map(s=>ow(s,t))),sw=e=>t=>A1(t,e).map(o=>$K(t,o,rw(o))),k1=(e,t,o,s)=>{if(o.collapsed||!e.forall(I1))return D.none();if(t.isSameTable){let l=e.bind(sw(s));return D.some({start:l,end:l})}else{let l=Tm(o.startContainer,s),u=Tm(o.endContainer,s),d=l.bind(HK(s)).bind(sw(s)),p=u.bind(zK(s)).bind(sw(s));return D.some({start:d,end:p})}},T1=(e,t)=>As(e,o=>mt(o,t)),iw=e=>Qn(T1(e.cells,e.rng.start),T1(e.cells,e.rng.end),(t,o)=>e.cells.slice(t,o+1)),WK=(e,t,o)=>e.exists(s=>jK(s,o)&&yC(s.start,t)),M1=(e,t)=>{let{startTable:o,endTable:s}=t,l=e.cloneRange();return o.each(u=>l.setStartAfter(u.dom)),s.each(u=>l.setEndBefore(u.dom)),l},qK=(e,t,o,s)=>k1(e,t,o,s).bind(({start:l,end:u})=>l.or(u)).bind(l=>{let{isSameTable:u}=t,d=iw(l).getOr([]);if(u&&l.cells.length===d.length)return D.some(Mf.fullTable(l.table));if(d.length>0){if(u)return D.some(Mf.partialTable(d,D.none()));{let p=M1(o,t);return D.some(Mf.partialTable(d,D.some(Me(W({},t),{rng:p}))))}}else return D.none()}),GK=(e,t,o,s)=>k1(e,t,o,s).bind(({start:l,end:u})=>{let d=l.bind(iw).getOr([]),p=u.bind(iw).getOr([]);if(d.length>0&&p.length>0){let m=M1(o,t);return D.some(Mf.multiTable(d,p,m))}else return D.none()}),KK=(e,t)=>{let o=FK(e),s=UK(t,o),l=VK(t,o);return WK(s,t,o)?s.map(u=>Mf.singleCellTable(t,u.start)):l.isMultiTable?GK(s,l,t,o):qK(s,l,t,o)},N1=e=>z(e,t=>{Pn(t,"contenteditable"),aa(t)}),YK=(e,t)=>D.from(e.dom.getParent(t,e.dom.isBlock)).map(T.fromDom),ZK=(e,t,o)=>{o.each(s=>{t?Lt(s):(aa(s),e.selection.setCursorLocation(s.dom,0))})},aw=(e,t,o,s)=>{let l=o.cloneRange();s?(l.setStart(o.startContainer,o.startOffset),l.setEndAfter(t.dom.lastChild)):(l.setStartBefore(t.dom.firstChild),l.setEnd(o.endContainer,o.endOffset)),lw(e,l,t,!1).each(u=>u())},R1=e=>{let t=Wc(e),o=T.fromDom(e.selection.getNode());$h(o.dom)&&er(e.schema,o)?e.selection.setCursorLocation(o.dom,0):e.selection.collapse(!0),t.length>1&&Ht(t,s=>mt(s,o))&&On(o,"data-mce-selected","1")},O1=(e,t,o)=>D.some(()=>{let s=e.selection.getRng(),l=o.bind(({rng:u,isStartInTable:d})=>{let p=YK(e,d?u.endContainer:u.startContainer);u.deleteContents(),ZK(e,d,p.filter(pe(er,e.schema)));let m=d?t[0]:t[t.length-1];return aw(e,m,s,d),er(e.schema,m)?D.none():D.some(d?t.slice(1):t.slice(0,-1))}).getOr(t);N1(l),R1(e)}),QK=(e,t,o,s)=>D.some(()=>{let l=e.selection.getRng(),u=t[0],d=o[o.length-1];aw(e,u,l,!0),aw(e,d,l,!1);let p=er(e.schema,u)?t:t.slice(1),m=er(e.schema,d)?o:o.slice(0,-1);N1(p.concat(m)),s.deleteContents(),R1(e)}),lw=(e,t,o,s=!0)=>D.some(()=>{x1(e,t,o,s)}),XK=(e,t)=>D.some(()=>bl(e,!1,t)),JK=(e,t,o)=>KK(t,o).bind(s=>s.fold(pe(lw,e),pe(XK,e),pe(O1,e),pe(QK,e))),eY=(e,t)=>Mm(e,t),tY=(e,t,o,s)=>cw(t,s).fold(()=>JK(e,t,o),l=>eY(e,l)),nY=(e,t,o)=>{let s=T.fromDom(e.getBody()),l=e.selection.getRng();return o.length!==0?O1(e,o,D.none()):tY(e,s,l,t)},P1=(e,t)=>sn(bi(t,e),lf),cw=(e,t)=>sn(bi(t,e),Th("caption")),rY=(e,t,o,s,l)=>Uc(o,e.getBody(),l).bind(u=>P1(t,T.fromDom(u.getNode())).bind(d=>mt(d,s)?D.none():D.some(Ne))),Mm=(e,t)=>D.some(()=>{aa(t),e.selection.setCursorLocation(t.dom,0)}),oY=(e,t,o,s)=>nr(e.dom).bind(l=>Mo(e.dom).map(u=>t?o.isEqual(l)&&s.isEqual(u):o.isEqual(u)&&s.isEqual(l))).getOr(!0),sY=(e,t)=>Mm(e,t),iY=(e,t,o)=>cw(e,T.fromDom(o.getNode())).fold(()=>D.some(Ne),s=>Dc(!mt(s,t),Ne)),aY=(e,t,o,s,l)=>Uc(o,e.getBody(),l).fold(()=>D.some(Ne),u=>oY(s,o,l,u)?sY(e,s):iY(t,s,u)),lY=(e,t,o,s)=>{let l=j.fromRangeStart(e.selection.getRng());return P1(o,s).bind(u=>er(e.schema,u,{checkRootAsContent:!1})?Mm(e,u):rY(e,o,t,u,l))},cY=(e,t,o,s)=>{let l=j.fromRangeStart(e.selection.getRng());return er(e.schema,s)?Mm(e,s):aY(e,o,t,s,l)},F1=(e,t)=>e?QN(t):KC(t),uY=(e,t)=>{let o=j.fromRangeStart(e.selection.getRng());return F1(t,o)||eo(t,e.getBody(),o).exists(s=>F1(t,s))},dY=(e,t,o)=>{let s=T.fromDom(e.getBody());return cw(s,o).fold(()=>lY(e,t,s,o).orThunk(()=>Dc(uY(e,t),Ne)),l=>cY(e,t,s,l))},uw=(e,t)=>{let o=T.fromDom(e.selection.getStart(!0)),s=Wc(e);return e.selection.isCollapsed()&&s.length===0?dY(e,t,o):nY(e,o,s)},wl=(e,t)=>{let o=t;for(;o&&o!==e;){if(To(o)||Nt(o))return o;o=o.parentNode}return null},fY=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],pY=ee.each,dw=e=>{let t=e.dom,o=new Set(e.serializer.getTempAttrs()),s=(u,d)=>{if(u.nodeName!==d.nodeName||u.nodeType!==d.nodeType)return!1;let p=v=>{let b={};return pY(t.getAttribs(v),C=>{let E=C.nodeName.toLowerCase();E!=="style"&&!l(E)&&(b[E]=t.getAttrib(v,E))}),b},m=(v,b)=>{for(let C in v)if(Pe(v,C)){let E=b[C];if(Ke(E)||v[C]!==E)return!1;delete b[C]}for(let C in b)if(Pe(b,C))return!1;return!0};return ge(u)&&ge(d)&&(!m(p(u),p(d))||!m(t.parseStyle(t.getAttrib(u,"style")),t.parseStyle(t.getAttrib(d,"style"))))?!1:!no(u)&&!no(d)},l=u=>Ht(fY,d=>vn(u,d))||o.has(u);return{compare:s,isAttributeInternal:l}},L1=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),hY=e=>e.name==="summary",mY=(e,t)=>{let o=e;for(;o=o.walk();)t(o)},B1=(e,t,o,s)=>{let l=o.name;for(let u=0,d=e.length;u<d;u++){let p=e[u];if(p.name===l){let m=s.nodes[l];m?m.nodes.push(o):s.nodes[l]={filter:p,nodes:[o]}}}if(o.attributes)for(let u=0,d=t.length;u<d;u++){let p=t[u],m=p.name;if(m in o.attributes.map){let v=s.attributes[m];v?v.nodes.push(o):s.attributes[m]={filter:p,nodes:[o]}}}},gY=(e,t,o)=>{let s={nodes:{},attributes:{}};return o.firstChild&&mY(o,l=>{B1(e,t,l,s)}),s},V1=(e,t)=>{let o=(s,l)=>{kt(s,u=>{let d=Vr(u.nodes);z(u.filter.callbacks,p=>{for(let m=d.length-1;m>=0;m--){let v=d[m];(!(l?v.attr(u.filter.name)!==void 0:v.name===u.filter.name)||$e(v.parent))&&d.splice(m,1)}d.length>0&&p(d,u.filter.name,t)})})};o(e.nodes,!1),o(e.attributes,!0)},$1=(e,t,o,s={})=>{let l=gY(e,t,o);V1(l,s)},fw=(e,t,o,s)=>{if((e.pad_empty_with_br||t.insert)&&o(s)){let u=new fr("br",1);t.insert&&u.attr("data-mce-bogus","1"),s.empty().append(u)}else s.empty().append(new fr("#text",3)).value=Sn},vY=e=>{var t;return j1(e,"#text")&&((t=e?.firstChild)===null||t===void 0?void 0:t.value)===Sn},j1=(e,t)=>{let o=e?.firstChild;return G(o)&&o===e.lastChild&&o.name===t},yY=(e,t)=>{let o=e.getElementRule(t.name);return o?.paddEmpty===!0},Nf=(e,t,o,s)=>s.isEmpty(t,o,l=>yY(e,l)),bY=(e,t)=>G(e)&&(t(e)||e.name==="br"),CY=e=>{let t;for(let o=e;o;o=o.parent){let s=o.attr("contenteditable");if(s==="false")break;s==="true"&&(t=o)}return D.from(t)},pw=(e,t,o=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{let s=e.children();for(let l of s)o&&!t.isValidChild(o.name,l.name)&&pw(l,t,o);e.unwrap()}},hw=(e,t,o,s=Ne)=>{let l=t.getTextBlockElements(),u=t.getNonEmptyElements(),d=t.getWhitespaceElements(),p=ee.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),m=new Set,v=b=>b!==o&&!p[b.name];for(let b=0;b<e.length;b++){let C=e[b],E,x,I;if(!C.parent||m.has(C))continue;if(l[C.name]&&C.parent.name==="li"){let A=C.next;for(;A&&l[A.name];){A.name="li",m.add(A),C.parent.insert(A,C.parent);A=A.next}C.unwrap();continue}let S=[C];for(E=C.parent;E&&!t.isValidChild(E.name,C.name)&&v(E);E=E.parent)S.push(E);if(E&&S.length>1)if(mw(t,C,E))pw(C,t);else{S.reverse(),x=S[0].clone(),s(x);let A=x;for(let M=0;M<S.length-1;M++){t.isValidChild(A.name,S[M].name)&&M>0?(I=S[M].clone(),s(I),A.append(I)):I=A;for(let R=S[M].firstChild;R&&R!==S[M+1];){let N=R.next;I.append(R),R=N}A=I}Nf(t,u,d,x)?E.insert(C,S[0],!0):(E.insert(x,S[0],!0),E.insert(C,x)),E=S[0],(Nf(t,u,d,E)||j1(E,"br"))&&E.empty().remove()}else if(C.parent){if(C.name==="li"){let A=C.prev;if(A&&(A.name==="ul"||A.name==="ol")){A.append(C);continue}if(A=C.next,A&&(A.name==="ul"||A.name==="ol")&&A.firstChild){A.insert(C,A.firstChild,!0);continue}let M=new fr("ul",1);s(M),C.wrap(M);continue}if(t.isValidChild(C.parent.name,"div")&&t.isValidChild("div",C.name)){let A=new fr("div",1);s(A),C.wrap(A)}else pw(C,t)}}},wY=(e,t)=>{let o=e;for(;o;){if(o.name===t)return!0;o=o.parent}return!1},mw=(e,t,o=t.parent)=>o?e.children[t.name]&&!e.isValidChild(o.name,t.name)||t.name==="a"&&wY(o,"a")?!0:hY(o)&&L1(t)?!(o?.firstChild===t&&o?.lastChild===t):!1:!1,EY=(e,t,o,s)=>{let l=document.createRange();return l.setStart(e,t),l.setEnd(o,s),l},DY=e=>{let t=j.fromRangeStart(e),o=j.fromRangeEnd(e),s=e.commonAncestorContainer;return eo(!1,s,o).map(l=>!Bs(t,o,s)&&Bs(t,l,s)?EY(t.container(),t.offset(),l.container(),l.offset()):e).getOr(e)},gw=e=>e.collapsed?e:DY(e),_Y=e=>G(e.firstChild)&&e.firstChild===e.lastChild,xY=e=>e.name==="br"||e.value===Sn,SY=(e,t)=>e.getBlockElements()[t.name]&&_Y(t)&&xY(t.firstChild),IY=(e,t)=>{let o=e.getNonEmptyElements();return G(t)&&(t.isEmpty(o)||SY(e,t))},AY=(e,t)=>{let o=t.firstChild,s=t.lastChild;return o&&o.name==="meta"&&(o=o.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),IY(e,s)&&(s=s?.prev),!o||o!==s?!1:o.name==="ul"||o.name==="ol"},kY=e=>{var t,o;let s=e.firstChild,l=e.lastChild;return s&&s.nodeName==="META"&&((t=s.parentNode)===null||t===void 0||t.removeChild(s)),l&&l.id==="mce_marker"&&((o=l.parentNode)===null||o===void 0||o.removeChild(l)),e},TY=(e,t,o)=>{let s=t.serialize(o),l=e.createFragment(s);return kY(l)},MY=e=>{var t;return Te((t=e?.childNodes)!==null&&t!==void 0?t:[],o=>o.nodeName==="LI")},NY=e=>e.data===Sn||Gt(e),RY=e=>G(e?.firstChild)&&e.firstChild===e.lastChild&&NY(e.firstChild),OY=e=>!e.firstChild||RY(e),PY=e=>e.length>0&&OY(e[e.length-1])?e.slice(0,-1):e,vw=(e,t)=>{let o=e.getParent(t,e.isBlock);return o&&o.nodeName==="LI"?o:null},FY=(e,t)=>!!vw(e,t),LY=(e,t)=>{let o=t.cloneRange(),s=t.cloneRange();return o.setStartBefore(e),s.setEndAfter(e),[o.cloneContents(),s.cloneContents()]},BY=(e,t)=>{let o=j.before(e),l=$s(t).next(o);return l?l.toRange():null},U1=(e,t)=>{let o=j.after(e),l=$s(t).prev(o);return l?l.toRange():null},VY=(e,t,o,s)=>{let l=LY(e,s),u=e.parentNode;return u&&(u.insertBefore(l[0],e),ee.each(t,d=>{u.insertBefore(d,e)}),u.insertBefore(l[1],e),u.removeChild(e)),U1(t[t.length-1],o)},$Y=(e,t,o)=>{let s=e.parentNode;return s&&ee.each(t,l=>{s.insertBefore(l,e)}),BY(e,o)},jY=(e,t,o,s)=>(s.insertAfter(t.reverse(),e),U1(t[0],o)),UY=(e,t,o,s)=>{let l=TY(t,e,s),u=vw(t,o.startContainer),d=PY(MY(l.firstChild)),p=1,m=2,v=t.getRoot(),b=C=>{let E=j.fromRangeStart(o),x=$s(t.getRoot()),I=C===p?x.prev(E):x.next(E),S=I?.getNode();return S?vw(t,S)!==u:!0};return u?b(p)?$Y(u,d,v):b(m)?jY(u,d,v,t):VY(u,d,v,o):null},HY=["pre"],zY=(e,t,o,s)=>{var l;let u=t.firstChild,d=t.lastChild,p=d.attr("data-mce-type")==="bookmark"?d.prev:d,m=u===p,v=ft(HY,u.name);if(m&&v){let b=u.attr("contenteditable")!=="false",C=((l=e.getParent(o,e.isBlock))===null||l===void 0?void 0:l.nodeName.toLowerCase())===u.name,E=D.from(wl(s,o)).forall(To);return b&&C&&E}else return!1},yw=$h,WY=(e,t,o)=>{if(G(o)){let s=e.getParent(t.endContainer,yw);return o===s&&yC(T.fromDom(o),t)}else return!1},qY=(e,t,o)=>{var s;if(o.getAttribute("data-mce-bogus")==="all")(s=o.parentNode)===null||s===void 0||s.insertBefore(e.dom.createFragment(t),o);else{let l=o.firstChild,u=o.lastChild;!l||l===u&&l.nodeName==="BR"?e.dom.setHTML(o,t):e.selection.setContent(t,{no_events:!0})}},GY=(e,t,o)=>{D.from(e.getParent(t,"td,th")).map(T.fromDom).each(s=>KW(s,o))},KY=(e,t)=>{let o=e.schema.getTextInlineElements(),s=e.dom;if(t){let l=e.getBody(),u=dw(e),d="*[data-mce-fragment]",p=s.select(d);ee.each(p,m=>{let v=E=>G(o[E.nodeName.toLowerCase()]),b=E=>E.childNodes.length===1;if((E=>!(GN(s,E)||j7(s,E)))(m)&&v(m)&&b(m)){let E=Qc(s,m),x=(M,R)=>ko(M,N=>ft(R,N)),I=M=>b(m)&&s.is(M,d)&&v(M)&&(M.nodeName===m.nodeName&&x(E,Qc(s,M))||I(M.children[0])),S=M=>G(M)&&M!==l&&(u.compare(m,M)||S(M.parentElement)),A=M=>G(M)&&M!==l&&s.is(M,d)&&(H7(s,m,M)||A(M.parentElement));(I(m.children[0])||S(m.parentElement)&&!A(m.parentElement))&&s.remove(m,!0)}})}},YY=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},ZY=e=>{ee.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},QY=e=>!!e.getAttribute("data-mce-fragment"),XY=(e,t)=>G(t)&&!e.schema.getVoidElements()[t.nodeName],JY=(e,t)=>{var o,s,l;let u,d=e.dom,p=e.selection;if(!t)return;p.scrollIntoView(t);let m=wl(e.getBody(),t);if(m&&d.getContentEditable(m)==="false"){d.remove(t),p.select(m);return}let v=d.createRng(),b=t.previousSibling;if(Q(b)){v.setStart(b,(s=(o=b.nodeValue)===null||o===void 0?void 0:o.length)!==null&&s!==void 0?s:0);let x=t.nextSibling;Q(x)&&(b.appendData(x.data),(l=x.parentNode)===null||l===void 0||l.removeChild(x))}else v.setStartBefore(t),v.setEndBefore(t);let C=x=>{let I=j.fromRangeStart(x);return I=$s(e.getBody()).next(I),I?.toRange()},E=d.getParent(t,d.isBlock);if(d.remove(t),E&&d.isEmpty(E)){let x=yw(E);Ac(T.fromDom(E)),v.setStart(E,0),v.setEnd(E,0),!x&&!QY(E)&&(u=C(v))?(v=u,d.remove(E)):d.add(E,d.create("br",x?{}:{"data-mce-bogus":"1"}))}p.setRng(v)},eZ=e=>{let t=e.dom,o=gw(e.selection.getRng());e.selection.setRng(o);let s=t.getParent(o.startContainer,yw);WY(t,o,s)?lw(e,o,T.fromDom(s)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset===1&&Q(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},tZ=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return D.some(t);return D.none()},nZ=(e,t,o)=>{var s;return Ht(o.children(),L1)&&((s=e.getParent(t,e.isBlock))===null||s===void 0?void 0:s.nodeName)==="SUMMARY"},rZ=(e,t,o)=>{var s,l;let u=e.selection,d=e.dom,p=e.parser,m=o.merge,v=pa({validate:!0},e.schema),b='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';o.preserve_zwsp||(t=Ur(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,b);let C=u.getRng(),E=C.startContainer,x=e.getBody();E===x&&u.isCollapsed()&&d.isBlock(x.firstChild)&&XY(e,x.firstChild)&&d.isEmpty(x.firstChild)&&(C=d.createRng(),C.setStart(x.firstChild,0),C.setEnd(x.firstChild,0),u.setRng(C)),u.isCollapsed()||eZ(e);let I=u.getNode(),S={context:I.nodeName.toLowerCase(),data:o.data,insert:!0},A=p.parse(t,S);if(o.paste===!0&&AY(e.schema,A)&&FY(d,I))return C=UY(v,d,u.getRng(),A),C&&u.setRng(C),t;o.paste===!0&&zY(d,A,I,e.getBody())&&((s=A.firstChild)===null||s===void 0||s.unwrap()),YY(A);let M=A.lastChild;if(M&&M.attr("id")==="mce_marker"){let R=M;for(M=M.prev;M;M=M.walk(!0))if(M.type===3||!d.isBlock(M.name)){M.parent&&e.schema.isValidChild(M.parent.name,"span")&&M.parent.insert(R,M,M.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(I),!S.invalid&&!nZ(d,I,A))t=v.serialize(A),qY(e,t,I);else{e.selection.setContent(b);let R=u.getNode(),N,O=e.getBody();for(Zd(R)?R=N=O:N=R;N&&N!==O;)R=N,N=N.parentNode;t=R===O?O.innerHTML:d.getOuterHTML(R);let q=p.parse(t),X=tZ(q),ae=X.bind(CY).getOr(q);X.each(fe=>fe.replace(A));let U=A.children(),F=(l=A.parent)!==null&&l!==void 0?l:q;A.unwrap();let H=Te(U,fe=>mw(e.schema,fe,F));hw(H,e.schema,ae),$1(p.getNodeFilters(),p.getAttributeFilters(),q),t=v.serialize(q),R===O?d.setHTML(O,t):d.setOuterHTML(R,t)}return KY(e,m),JY(e,d.get("mce_marker")),ZY(e.getBody()),GY(d,u.getStart(),e.schema),T8(e.schema,e.getBody(),u.getStart()),t},Nm=e=>e instanceof fr,oZ=e=>{Zc(e)&&nr(e.getBody()).each(t=>{let o=t.getNode(),s=Ps(o)?nr(o).getOr(t):t;e.selection.setRng(s.toRange())})},bw=(e,t,o)=>{e.dom.setHTML(e.getBody(),t),o!==!0&&oZ(e)},sZ=(e,t,o,s)=>{if(o=Ur(o),o.length===0||/^\s+$/.test(o)){let l='<br data-mce-bogus="1">';t.nodeName==="TABLE"?o="<tr><td>"+l+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(o="<li>"+l+"</li>");let u=tr(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),u.toLowerCase())?(o=l,o=e.dom.createHTML(u,pf(e),o)):o||(o=l),bw(e,o,s.no_selection),{content:o,html:o}}else{s.format!=="raw"&&(o=pa({validate:!1},e.schema).serialize(e.parser.parse(o,{isRootContent:!0,insert:!0})));let l=Yh(T.fromDom(t))?o:ee.trim(o);return bw(e,l,s.no_selection),{content:l,html:l}}},iZ=(e,t,o,s)=>{$1(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),o);let l=pa({validate:!1},e.schema).serialize(o),u=Ur(Yh(T.fromDom(t))?l:ee.trim(l));return bw(e,u,s.no_selection),{content:o,html:u}},aZ=(e,t,o)=>D.from(e.getBody()).map(s=>Nm(t)?iZ(e,s,t,o):sZ(e,s,t,o)).getOr({content:t,html:Nm(o.content)?"":o.content}),H1=e=>Oe(e)?e:wt,lZ=(e,t,o)=>{let s=e.dom,l=H1(o);for(;s.parentNode;){s=s.parentNode;let u=T.fromDom(s),d=t(u);if(d.isSome())return d;if(l(u))break}return D.none()},Cw=(e,t,o)=>{let s=t(e),l=H1(o);return s.orThunk(()=>l(e)?D.none():lZ(e,t,l))},ww=_C,z1=(e,t,o)=>{let s=e.formatter.get(o);if(s)for(let l=0;l<s.length;l++){let u=s[l];if(ro(u)&&u.inherit===!1&&e.dom.is(t,u.selector))return!0}return!1},Ew=(e,t,o,s,l)=>{let u=e.dom.getRoot();if(t===u)return!1;let d=e.dom.getParent(t,p=>z1(e,p,o)?!0:p.parentNode===u||!!Us(e,p,o,s,!0));return!!Us(e,d,o,s,l)},Rm=(e,t,o)=>bn(o)&&ww(t,o.inline)||js(o)&&ww(t,o.block)?!0:ro(o)?ge(t)&&e.is(t,o.selector):!1,W1=(e,t,o,s,l,u)=>{let d=o[s],p=s==="attributes";if(Oe(o.onmatch))return o.onmatch(t,o,s);if(d){if(JI(d)){for(let m=0;m<d.length;m++)if(p?e.getAttrib(t,d[m]):pm(e,t,d[m]))return!0}else for(let m in d)if(Pe(d,m)){let v=p?e.getAttrib(t,m):pm(e,t,m),b=fa(d[m],u),C=$e(v)||Bd(v);if(C&&$e(b))continue;if(l&&C&&!o.exact||(!l||o.exact)&&!ww(v,xC(b,m)))return!1}}return!0},Us=(e,t,o,s,l)=>{let u=e.formatter.get(o),d=e.dom;if(u&&ge(t))for(let p=0;p<u.length;p++){let m=u[p];if(Rm(e.dom,t,m)&&W1(d,t,m,"attributes",l,s)&&W1(d,t,m,"styles",l,s)){let v=m.classes;if(v){for(let b=0;b<v.length;b++)if(!e.dom.hasClass(t,fa(v[b],s)))return}return m}}},Dw=(e,t,o,s,l)=>{if(s)return Ew(e,s,t,o,l);if(s=e.selection.getNode(),Ew(e,s,t,o,l))return!0;let u=e.selection.getStart();return!!(u!==s&&Ew(e,u,t,o,l))},cZ=(e,t,o)=>{let s=[],l={},u=e.selection.getStart();return e.dom.getParent(u,d=>{for(let p=0;p<t.length;p++){let m=t[p];!l[m]&&Us(e,d,m,o)&&(l[m]=!0,s.push(m))}},e.dom.getRoot()),s},uZ=(e,t)=>{let o=l=>mt(l,T.fromDom(e.getBody())),s=(l,u)=>Us(e,l.dom,u)?D.some(u):D.none();return D.from(e.selection.getStart(!0)).bind(l=>Cw(T.fromDom(l),u=>bc(t,d=>s(u,d)),o)).getOrNull()},dZ=(e,t)=>{let o=e.formatter.get(t),s=e.dom;if(o&&e.selection.isEditable()){let l=e.selection.getStart(),u=hm(s,l);for(let d=o.length-1;d>=0;d--){let p=o[d];if(!ro(p))return!0;for(let m=u.length-1;m>=0;m--)if(s.is(u[m],p.selector))return!0}}return!1},fZ=(e,t,o)=>Rn(o,(s,l)=>{let u=m9(e,l);return e.formatter.matchNode(t,l,{},u)?s.concat([l]):s},[]),Rf=yn,pZ=(e,t)=>e.importNode(t,!0),q1=e=>{if(e){let t=new xn(e,e);for(let o=t.current();o;o=t.next())if(Q(o))return o}return null},_w=e=>{let t=T.fromTag("span");return ci(t,{id:pC,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&pn(t,T.fromText(Rf)),t},hZ=e=>{let t=q1(e);return t&&t.data.charAt(0)===Rf&&t.deleteData(0,1),t},xw=(e,t,o)=>{let s=e.dom,l=e.selection;if(PM(t))bl(e,!1,T.fromDom(t),o,!0);else{let u=l.getRng(),d=s.getParent(t,s.isBlock),p=u.startContainer,m=u.startOffset,v=u.endContainer,b=u.endOffset,C=hZ(t);s.remove(t,!0),p===C&&m>0&&u.setStart(C,m-1),v===C&&b>0&&u.setEnd(C,b-1),d&&s.isEmpty(d)&&aa(T.fromDom(d)),l.setRng(u)}},Sw=(e,t,o)=>{let s=e.dom,l=e.selection;if(t)xw(e,t,o);else if(t=ml(e.getBody(),l.getStart()),!t)for(;t=s.get(pC);)xw(e,t,o)},mZ=(e,t,o)=>{var s,l;let u=e.dom,d=u.getParent(o,pe(EC,e.schema));d&&u.isEmpty(d)?(s=o.parentNode)===null||s===void 0||s.replaceChild(t,o):(GW(T.fromDom(o)),u.isEmpty(o)?(l=o.parentNode)===null||l===void 0||l.replaceChild(t,o):u.insertAfter(t,o))},G1=(e,t)=>(e.appendChild(t),t),K1=(e,t)=>{var o;let s=Qr(e,(u,d)=>G1(u,d.cloneNode(!1)),t),l=(o=s.ownerDocument)!==null&&o!==void 0?o:document;return G1(s,l.createTextNode(Rf))},gZ=(e,t,o,s,l,u)=>{let d=e.formatter,p=e.dom,m=Te(_r(d.get()),C=>C!==s&&!Zn(C,"removeformat")),v=fZ(e,o,m);if(Te(v,C=>!g9(e,C,s)).length>0){let C=o.cloneNode(!1);return p.add(t,C),d.remove(s,l,C,u),p.remove(C),D.some(C)}else return D.none()},vZ=(e,t,o)=>{let s,l=e.selection,u=e.formatter.get(t);if(!u)return;let d=l.getRng(),p=d.startOffset,v=d.startContainer.nodeValue;s=ml(e.getBody(),l.getStart());let b=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(v&&p>0&&p<v.length&&b.test(v.charAt(p))&&b.test(v.charAt(p-1))){let C=l.getBookmark();d.collapse(!0);let E=gl(e.dom,d,u);E=wm(E),e.formatter.apply(t,o,E),l.moveToBookmark(C)}else{let C=s?q1(s):null;(!s||C?.data!==Rf)&&(s=pZ(e.getDoc(),_w(!0).dom),C=s.firstChild,d.insertNode(s),p=1),e.formatter.apply(t,o,s),l.setCursorLocation(C,p)}},yZ=(e,t,o,s)=>{let l=e.dom,u=e.selection,d=!1,p=e.formatter.get(t);if(!p)return;let m=u.getRng(),v=m.startContainer,b=m.startOffset,C=v;Q(v)&&(b!==v.data.length&&(d=!0),C=C.parentNode);let E=[],x;for(;C;){if(Us(e,C,t,o,s)){x=C;break}C.nextSibling&&(d=!0),E.push(C),C=C.parentNode}if(x)if(d){let I=u.getBookmark();m.collapse(!0);let S=gl(l,m,p,!0);S=wm(S),e.formatter.remove(t,o,S,s),u.moveToBookmark(I)}else{let I=ml(e.getBody(),x),S=G(I)?l.getParents(x.parentNode,Ut,I):[],A=_w(!1).dom;mZ(e,A,I??x);let M=gZ(e,A,x,t,o,s),R=K1([...E,...M.toArray(),...S],A);I&&xw(e,I,G(I)),u.setCursorLocation(R,1),l.isEmpty(x)&&l.remove(x)}},bZ=(e,t,o)=>{let s=e.selection,l=e.getBody();Sw(e,null,o),(t===8||t===46)&&s.isCollapsed()&&s.getStart().innerHTML===Rf&&Sw(e,ml(l,s.getStart()),!0),(t===37||t===39)&&Sw(e,ml(l,s.getStart()),!0)},CZ=e=>Q(e)&&Xb(e.data,Sn),wZ=e=>{e.on("mouseup keydown",t=>{bZ(e,t.keyCode,CZ(e.selection.getRng().endContainer))})},Y1=e=>{let t=_w(!1),o=K1(e,t.dom);return{caretContainer:t,caretPosition:j(o,0)}},Z1=(e,t)=>{let{caretContainer:o,caretPosition:s}=Y1(t);return xr(T.fromDom(e),o),Lt(T.fromDom(e)),s},EZ=(e,t)=>{let{caretContainer:o,caretPosition:s}=Y1(t);return e.insertNode(o.dom),s},Q1=(e,t)=>{if(to(t.dom))return!1;let o=e.schema.getTextInlineElements();return Pe(o,st(t))&&!to(t.dom)&&!tl(t.dom)},Of={},X1=ts(["pre"]),DZ=(e,t)=>{Of[e]||(Of[e]=[]),Of[e].push(t)},_Z=(e,t)=>{Pe(Of,e)&&z(Of[e],o=>{o(t)})};DZ("pre",e=>{let t=e.selection.getRng(),o=l=>u=>{let d=u.previousSibling;return X1(d)&&ft(l,d)},s=(l,u)=>{let d=T.fromDom(u),p=di(d).dom;Lt(d),Ja(T.fromDom(l),[T.fromTag("br",p),T.fromTag("br",p),...Xn(d)])};if(!t.collapsed){let l=e.selection.getSelectedBlocks(),u=Te(Te(l,X1),o(l));z(u,d=>{s(d.previousSibling,d)})}});let J1=["fontWeight","fontStyle","color","fontSize","fontFamily"],xZ=e=>Fe(e.styles)&&Ht(_r(e.styles),t=>ft(J1,t)),SZ=e=>sn(e,t=>bn(t)&&t.inline==="span"&&xZ(t)),eR=(e,t)=>{let o=e.get(t);return Ie(o)?SZ(o):D.none()},tR=(e,t)=>Sr(t,j.fromRangeStart(e)).isNone(),nR=(e,t)=>Er(t,j.fromRangeEnd(e)).exists(o=>!Gt(o.getNode())||Er(t,o).isSome())===!1,rR=e=>t=>f8(t)&&e.isEditable(t),IZ=e=>{let t=e.getSelectedBlocks(),o=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return tR(o,t[0])&&nR(o,t[0])?t:[];{let s=br(t).filter(d=>tR(o,d)).toArray(),l=na(t).filter(d=>nR(o,d)).toArray(),u=t.slice(1,-1);return s.concat(u).concat(l)}},AZ=e=>Te(IZ(e),rR(e.dom)),oR=e=>Te(e.getSelectedBlocks(),rR(e.dom)),Iw=ee.each,Aw=e=>ge(e)&&!no(e)&&!to(e)&&!tl(e),sR=(e,t)=>{for(let o=e;o;o=o[t]){if(Q(o)&&Ts(o.data))return e;if(ge(o)&&!no(o))return o}return e},iR=(e,t,o)=>{let s=dw(e),l=hi(t)&&e.dom.isEditable(t),u=hi(o)&&e.dom.isEditable(o);if(l&&u){let d=sR(t,"previousSibling"),p=sR(o,"nextSibling");if(s.compare(d,p)){for(let m=d.nextSibling;m&&m!==p;){let v=m;m=m.nextSibling,d.appendChild(v)}return e.dom.remove(p),ee.each(ee.grep(p.childNodes),m=>{d.appendChild(m)}),d}}return o},aR=(e,t,o,s)=>{var l;if(s&&t.merge_siblings!==!1){let u=(l=iR(e,NM(s),s))!==null&&l!==void 0?l:s;iR(e,u,NM(u,!0))}},kZ=(e,t,o)=>{if(t.clear_child_styles){let s=t.links?"*:not(a)":"*";Iw(e.select(s,o),l=>{Aw(l)&&e.isEditable(l)&&Iw(t.styles,(u,d)=>{e.setStyle(l,d,"")})})}},kw=(e,t,o)=>{Iw(e.childNodes,s=>{Aw(s)&&(t(s)&&o(s),s.hasChildNodes()&&kw(s,t,o))})},TZ=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},lR=(e,t)=>o=>!!(o&&pm(e,o,t)),cR=(e,t,o)=>s=>{e.setStyle(s,t,o),s.getAttribute("style")===""&&s.removeAttribute("style"),TZ(e,s)},El=Ls.generate([{keep:[]},{rename:["name"]},{removed:[]}]),MZ=/^(src|href|style)$/,Tw=ee.each,Om=_C,NZ=e=>/^(TR|TH|TD)$/.test(e.nodeName),uR=(e,t,o)=>e.isChildOf(t,o)&&t!==o&&!e.isBlock(o),dR=(e,t,o)=>{let s=t[o?"startContainer":"endContainer"],l=t[o?"startOffset":"endOffset"];if(ge(s)){let u=s.childNodes.length-1;!o&&l&&l--,s=s.childNodes[l>u?u:l]}return Q(s)&&o&&l>=s.data.length&&(s=new xn(s,e.getBody()).next()||s),Q(s)&&!o&&l===0&&(s=new xn(s,e.getBody()).prev()||s),s},fR=(e,t)=>{let o=t?"firstChild":"lastChild",s=e[o];return NZ(e)&&s?e.nodeName==="TR"&&s[o]||s:e},Mw=(e,t,o,s)=>{var l;let u=e.create(o,s);return(l=t.parentNode)===null||l===void 0||l.insertBefore(u,t),u.appendChild(t),u},pR=(e,t,o,s,l)=>{let u=T.fromDom(t),d=T.fromDom(e.create(s,l)),p=o?s0(u):o0(u);return Ja(d,p),o?(xr(u,d),Ph(d,u)):(pi(u,d),pn(d,u)),d.dom},RZ=(e,t)=>t.links&&e.nodeName==="A",hR=(e,t,o)=>{let s=t.parentNode,l,u=e.dom,d=tr(e);js(o)&&s===u.getRoot()&&(!o.list_block||!Om(t,o.list_block))&&z(Vr(t.childNodes),p=>{qc(e,d,p.nodeName.toLowerCase())?l?l.appendChild(p):(l=Mw(u,p,d),u.setAttribs(l,pf(e))):l=null}),!(b9(o)&&!Om(o.inline,t))&&u.remove(t,!0)},mR=(e,t,o)=>Zt(e)?{name:t,value:null}:{name:e,value:fa(t,o)},gR=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},vR=(e,t,o,s,l)=>{let u=!1;Tw(o.styles,(d,p)=>{let{name:m,value:v}=mR(p,d,s),b=xC(v,m);(o.remove_similar||ke(v)||!ge(l)||Om(pm(e,l,m),b))&&e.setStyle(t,m,""),u=!0}),u&&gR(e,t)},OZ=(e,t,o)=>{t==="removeformat"?z(oR(e.selection),s=>{z(J1,l=>e.dom.setStyle(s,l,"")),gR(e.dom,s)}):eR(e.formatter,t).each(s=>{z(oR(e.selection),l=>vR(e.dom,l,s,o,null))})},yR=(e,t,o,s,l)=>{let u=e.dom,d=dw(e),p=e.schema;if(bn(t)&&_0(p,t.inline)&&rl(p,s)&&s.parentElement===e.getBody())return hR(e,s,t),El.removed();if(!t.ceFalseOverride&&s&&u.getContentEditableParent(s)==="false"||s&&!Rm(u,s,t)&&!RZ(s,t))return El.keep();let m=s,v=t.preserve_attributes;if(bn(t)&&t.remove==="all"&&Ie(v)){let b=Te(u.getAttribs(m),C=>ft(v,C.name.toLowerCase()));if(u.removeAllAttribs(m),z(b,C=>u.setAttrib(m,C.name,C.value)),b.length>0)return El.rename("span")}if(t.remove!=="all"){vR(u,m,t,o,l),Tw(t.attributes,(C,E)=>{let{name:x,value:I}=mR(E,C,o);if(t.remove_similar||ke(I)||!ge(l)||Om(u.getAttrib(l,x),I)){if(x==="class"){let S=u.getAttrib(m,x);if(S){let A="";if(z(S.split(/\s+/),M=>{/mce\-\w+/.test(M)&&(A+=(A?" ":"")+M)}),A){u.setAttrib(m,x,A);return}}}if(MZ.test(x)&&m.removeAttribute("data-mce-"+x),x==="style"&&ts(["li"])(m)&&u.getStyle(m,"list-style-type")==="none"){m.removeAttribute(x),u.setStyle(m,"list-style-type","none");return}x==="class"&&m.removeAttribute("className"),m.removeAttribute(x)}}),Tw(t.classes,C=>{C=fa(C,o),(!ge(l)||u.hasClass(l,C))&&u.removeClass(m,C)});let b=u.getAttribs(m);for(let C=0;C<b.length;C++){let E=b[C].nodeName;if(!d.isAttributeInternal(E))return El.keep()}}return t.remove!=="none"?(hR(e,m,t),El.removed()):El.keep()},PZ=(e,t,o,s,l)=>{let u;return t.parentNode&&z(hm(e.dom,t.parentNode).reverse(),d=>{if(!u&&ge(d)&&d.id!=="_start"&&d.id!=="_end"){let p=Us(e,d,o,s,l);p&&p.split!==!1&&(u=d)}}),u},FZ=(e,t,o,s)=>yR(e,t,o,s,s).fold(re(s),l=>(e.dom.createFragment().appendChild(s),e.dom.rename(s,l)),re(null)),LZ=(e,t,o,s,l,u,d,p)=>{var m,v;let b,C,E=e.dom;if(o){let x=o.parentNode;for(let I=s.parentNode;I&&I!==x;I=I.parentNode){let S=E.clone(I,!1);for(let A=0;A<t.length&&(S=FZ(e,t[A],p,S),S!==null);A++);S&&(b&&S.appendChild(b),C||(C=S),b=S)}u&&(!d.mixed||!E.isBlock(o))&&(s=(m=E.split(o,s))!==null&&m!==void 0?m:s),b&&C&&((v=l.parentNode)===null||v===void 0||v.insertBefore(b,l),C.appendChild(l),bn(d)&&aR(e,d,p,b))}return s},BZ=(e,t,o,s,l)=>{let u=e.formatter.get(t),d=u[0],p=e.dom,m=e.selection,v=S=>{let A=PZ(e,S,t,o,l);return LZ(e,u,A,S,S,!0,d,o)},b=S=>no(S)&&ge(S)&&(S.id==="_start"||S.id==="_end"),C=S=>Ht(u,A=>Pf(e,A,o,S,S)),E=S=>{let A=Vr(S.childNodes),R=C(S)||Ht(u,q=>Rm(p,S,q)),N=S.parentNode;if(!R&&G(N)&&IC(d)&&C(N),d.deep&&A.length)for(let q=0;q<A.length;q++)E(A[q]);z(["underline","line-through","overline"],q=>{ge(S)&&e.dom.getStyle(S,"text-decoration")===q&&S.parentNode&&OM(p,S.parentNode)===q&&Pf(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:q}},void 0,S)})},x=S=>{let A=p.get(S?"_start":"_end");if(A){let M=A[S?"firstChild":"lastChild"];return b(M)&&(M=M[S?"firstChild":"lastChild"]),Q(M)&&M.data.length===0&&(M=S?A.previousSibling||A.nextSibling:A.nextSibling||A.previousSibling),p.remove(A,!0),M}else return null},I=S=>{let A,M,R=gl(p,S,u,S.collapsed);if(d.split){if(R=wm(R),A=dR(e,R,!0),M=dR(e,R),A!==M){if(A=fR(A,!0),M=fR(M,!1),uR(p,A,M)){let O=D.from(A.firstChild).getOr(A);v(pR(p,O,!0,"span",{id:"_start","data-mce-type":"bookmark"})),x(!0);return}if(uR(p,M,A)){let O=D.from(M.lastChild).getOr(M);v(pR(p,O,!1,"span",{id:"_end","data-mce-type":"bookmark"})),x(!1);return}A=Mw(p,A,"span",{id:"_start","data-mce-type":"bookmark"}),M=Mw(p,M,"span",{id:"_end","data-mce-type":"bookmark"});let N=p.createRng();N.setStartAfter(A),N.setEndBefore(M),Df(p,N,O=>{z(O,q=>{!no(q)&&!no(q.parentNode)&&v(q)})}),v(A),v(M),A=x(!0),M=x()}else A=M=v(A);R.startContainer=A.parentNode?A.parentNode:A,R.startOffset=p.nodeIndex(A),R.endContainer=M.parentNode?M.parentNode:M,R.endOffset=p.nodeIndex(M)+1}Df(p,R,N=>{z(N,E)})};if(s){if(Ef(s)){let S=p.createRng();S.setStartBefore(s),S.setEndAfter(s),I(S)}else I(s);QM(e,t,s,o);return}!m.isCollapsed()||!bn(d)||Wc(e).length?(MM(e,()=>CC(e,I),S=>bn(d)&&Dw(e,t,o,S)),e.nodeChanged()):yZ(e,t,o,l),OZ(e,t,o),QM(e,t,s,o)},bR=(e,t,o,s,l)=>{(s||e.selection.isEditable())&&BZ(e,t,o,s,l)},Pf=(e,t,o,s,l)=>yR(e,t,o,s,l).fold(wt,u=>(e.dom.rename(s,u),!0),Ut),CR=ee.each,VZ=(e,t,o,s)=>{let l=u=>{if(hi(u)&&ge(u.parentNode)&&e.isEditable(u)){let d=OM(e,u.parentNode);e.getStyle(u,"color")&&d?e.setStyle(u,"text-decoration",d):e.getStyle(u,"text-decoration")===d&&e.setStyle(u,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(ee.walk(s,l,"childNodes"),l(s))},$Z=(e,t,o,s)=>{if(t.styles&&t.styles.backgroundColor){let l=lR(e,"fontSize");kw(s,u=>l(u)&&e.isEditable(u),cR(e,"backgroundColor",fa(t.styles.backgroundColor,o)))}},jZ=(e,t,o,s)=>{if(bn(t)&&(t.inline==="sub"||t.inline==="sup")){let l=lR(e,"fontSize");kw(s,d=>l(d)&&e.isEditable(d),cR(e,"fontSize",""));let u=Te(e.select(t.inline==="sup"?"sub":"sup",s),e.isEditable);e.remove(u,!0)}},UZ=(e,t,o,s)=>{CR(t,l=>{bn(l)&&CR(e.dom.select(l.inline,s),u=>{Aw(u)&&Pf(e,l,o,u,l.exact?u:null)}),kZ(e.dom,l,s)})},HZ=(e,t,o,s,l)=>{let u=l.parentNode;Us(e,u,o,s)&&Pf(e,t,s,l)||t.merge_with_parents&&u&&e.dom.getParent(u,d=>Us(e,d,o,s)?(Pf(e,t,s,l),!0):!1)},Pm=ee.each,zZ=(e,t,o,s)=>{if(x5(e)&&bn(t)&&o.parentNode){let l=Pk(e.schema),u=e8(T.fromDom(o),d=>to(d.dom));return Cc(l,s)&&mi(e.schema,o.parentNode,{skipBogus:!1,includeZwsp:!0})&&!u}else return!1},wR=(e,t,o,s)=>{if(Pm(o.styles,(l,u)=>{e.setStyle(t,u,fa(l,s))}),o.styles){let l=e.getAttrib(t,"style");l&&e.setAttrib(t,"data-mce-style",l)}},WZ=(e,t,o,s)=>{let l=e.formatter.get(t),u=l[0],d=!s&&e.selection.isCollapsed(),p=e.dom,m=e.selection,v=(I,S=u)=>{Oe(S.onformat)&&S.onformat(I,S,o,s),wR(p,I,S,o),Pm(S.attributes,(A,M)=>{p.setAttrib(I,M,fa(A,o))}),Pm(S.classes,A=>{let M=fa(A,o);p.hasClass(I,M)||p.addClass(I,M)})},b=(I,S)=>{let A=!1;return Pm(I,M=>ro(M)?p.getContentEditable(S)==="false"&&!M.ceFalseOverride||G(M.collapsed)&&M.collapsed!==d?!0:p.is(S,M.selector)&&!to(S)?(v(S,M),A=!0,!1):!0:!1),A},C=I=>{if(te(I)){let S=p.create(I);return v(S),S}else return null},E=(I,S,A)=>{let M=[],R=!0,N=u.inline||u.block,O=C(N),q=U=>v9(u)&&Us(e,U,t,o),X=(U,F,H)=>{let fe=y9(u)&&EC(e.schema,U)&&qc(e,F,N);return H&&fe},ae=(U,F,H,fe)=>{let ye=U.nodeName.toLowerCase(),Be=qc(e,N,ye)&&qc(e,F,N),Ue=!A&&Q(U)&&Zh(U.data),lt=to(U),dt=!bn(u)||!I.isBlock(U);return(H||fe)&&Be&&!Ue&&!lt&&dt};Df(I,S,U=>{let F,H=fe=>{let ye=!1,Be=R,Ue=!1,lt=fe.parentNode,dt=lt.nodeName.toLowerCase(),zt=I.getContentEditable(fe);G(zt)&&(Be=R,R=zt==="true",ye=!0,Ue=RM(e,fe));let An=R&&!ye;if(Gt(fe)&&!zZ(e,u,fe,dt)){F=null,js(u)&&I.remove(fe);return}if(q(fe)){F=null;return}if(X(fe,dt,An)){let vt=I.rename(fe,N);v(vt),M.push(vt),F=null;return}if(ro(u)){let vt=b(l,fe);if(!vt&&G(lt)&&IC(u)&&(vt=b(l,lt)),!bn(u)||vt){F=null;return}}G(O)&&ae(fe,dt,An,Ue)?(F||(F=I.clone(O,!1),lt.insertBefore(F,fe),M.push(F)),Ue&&ye&&(R=Be),F.appendChild(fe)):(F=null,z(Vr(fe.childNodes),H),ye&&(R=Be),F=null)};z(U,H)}),u.links===!0&&z(M,U=>{let F=H=>{H.nodeName==="A"&&v(H,u),z(Vr(H.childNodes),F)};F(U)}),z(M,U=>{let F=ye=>{let Be=0;return z(ye.childNodes,Ue=>{!p9(Ue)&&!no(Ue)&&Be++}),Be},H=ye=>sn(ye.childNodes,wC).filter(Ue=>I.getContentEditable(Ue)!=="false"&&Rm(I,Ue,u)).map(Ue=>{let lt=I.clone(Ue,!1);return v(lt),I.replace(lt,ye,!0),I.remove(Ue,!0),lt}).getOr(ye),fe=F(U);if((M.length>1||!I.isBlock(U))&&fe===0){I.remove(U,!0);return}(bn(u)||js(u)&&u.wrapper)&&(!u.exact&&fe===1&&(U=H(U)),UZ(e,l,o,U),HZ(e,u,t,o,U),$Z(I,u,o,U),VZ(I,u,o,U),jZ(I,u,o,U),aR(e,u,o,U))})},x=Ef(s)?s:m.getNode();if(p.getContentEditable(x)==="false"&&!RM(e,x)){s=x,b(l,s),ZM(e,t,s,o);return}if(u){if(s)if(Ef(s)){if(!b(l,s)){let I=p.createRng();I.setStartBefore(s),I.setEndAfter(s),E(p,gl(p,I,l),!0)}}else E(p,s,!0);else!d||!bn(u)||Wc(e).length?(m.setRng(gw(m.getRng())),MM(e,()=>{CC(e,(I,S)=>{let A=S?I:gl(p,I,l);E(p,A,!1)})},Ut),e.nodeChanged()):vZ(e,t,o),eR(e.formatter,t).each(I=>{z(AZ(e.selection),S=>wR(p,S,I,o))});_Z(t,e)}ZM(e,t,s,o)},ER=(e,t,o,s)=>{(s||e.selection.isEditable())&&WZ(e,t,o,s)},DR=e=>Pe(e,"vars"),qZ=(e,t)=>{e.set({}),t.on("NodeChange",o=>{IR(t,o.element,e.get())}),t.on("FormatApply FormatRemove",o=>{let s=D.from(o.node).map(l=>Ef(l)?l:l.startContainer).bind(l=>ge(l)?D.some(l):D.from(l.parentElement)).getOrThunk(()=>_R(t));IR(t,s,e.get())})},_R=e=>e.selection.getStart(),xR=(e,t,o,s,l)=>Md(t,p=>{let m=e.formatter.matchNode(p,o,l??{},s);return!Ke(m)},p=>z1(e,p,o)?!0:s?!1:G(e.formatter.matchNode(p,o,l,!0))),SR=(e,t)=>{let o=t??_R(e);return Te(hm(e.dom,o),s=>ge(s)&&!tl(s))},IR=(e,t,o)=>{let s=SR(e,t);kt(o,(l,u)=>{let d=p=>{let m=xR(e,s,u,p.similar,DR(p)?p.vars:void 0),v=m.isSome();if(p.state.get()!==v){p.state.set(v);let b=m.getOr(t);DR(p)?p.callback(v,{node:b,format:u,parents:s}):z(p.callbacks,C=>C(v,{node:b,format:u,parents:s}))}};z([l.withSimilar,l.withoutSimilar],d),z(l.withVars,d)})},GZ=(e,t,o,s,l,u)=>{let d=t.get();z(o.split(","),p=>{let m=Ft(d,p).getOrThunk(()=>{let b={withSimilar:{state:In(!1),similar:!0,callbacks:[]},withoutSimilar:{state:In(!1),similar:!1,callbacks:[]},withVars:[]};return d[p]=b,b}),v=()=>{let b=SR(e);return xR(e,b,p,l,u).isSome()};if(Ke(u)){let b=l?m.withSimilar:m.withoutSimilar;b.callbacks.push(s),b.callbacks.length===1&&b.state.set(v())}else m.withVars.push({state:In(v()),similar:l,vars:u,callback:s})}),t.set(d)},KZ=(e,t,o)=>{let s=e.get();z(t.split(","),l=>Ft(s,l).each(u=>{s[l]={withSimilar:Me(W({},u.withSimilar),{callbacks:Te(u.withSimilar.callbacks,d=>d!==o)}),withoutSimilar:Me(W({},u.withoutSimilar),{callbacks:Te(u.withoutSimilar.callbacks,d=>d!==o)}),withVars:Te(u.withVars,d=>d.callback!==o)}})),e.set(s)},YZ=(e,t,o,s,l,u)=>(GZ(e,t,o,s,l,u),{unbind:()=>KZ(t,o,s)}),ZZ=(e,t,o,s)=>{let l=e.formatter.get(t);l&&(Dw(e,t,o,s)&&(!("toggle"in l[0])||l[0].toggle)?bR(e,t,o,s):ER(e,t,o,s))},AR=ee.explode,kR=()=>{let e={};return{addFilter:(l,u)=>{z(AR(l),d=>{Pe(e,d)||(e[d]={name:d,callbacks:[]}),e[d].callbacks.push(u)})},getFilters:()=>Kb(e),removeFilter:(l,u)=>{z(AR(l),d=>{if(Pe(e,d))if(G(u)){let p=e[d],m=Te(p.callbacks,v=>v!==u);m.length>0?p.callbacks=m:delete e[d]}else delete e[d]})}}},QZ=(e,t)=>{z(t,o=>{e.attr(o,null)})},XZ=(e,t,o)=>{e.addNodeFilter("font",s=>{z(s,l=>{let u=t.parse(l.attr("style")),d=l.attr("color"),p=l.attr("face"),m=l.attr("size");d&&(u.color=d),p&&(u["font-family"]=p),m&&Ih(m).each(v=>{u["font-size"]=o[v-1]}),l.name="span",l.attr("style",t.serialize(u)),QZ(l,["color","face","size"])})})},JZ=(e,t,o)=>{e.addNodeFilter("strike",s=>{let l=t.type!=="html4";z(s,u=>{if(l)u.name="s";else{let d=o.parse(u.attr("style"));d["text-decoration"]="line-through",u.name="span",u.attr("style",o.serialize(d))}})})},eQ=(e,t,o)=>{var s;let l=O0();t.convert_fonts_to_spans&&XZ(e,l,ee.explode((s=t.font_size_legacy_values)!==null&&s!==void 0?s:"")),JZ(e,o,l)},tQ=(e,t,o)=>{t.inline_styles&&eQ(e,t,o)},nQ=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),rQ=e=>{let t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},Nw=e=>{let[t,...o]=e.split(","),s=o.join(","),l=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(l){let u=l[2]===";base64",d=u?rQ(s):decodeURIComponent(s);return D.some({type:l[1],data:d,base64Encoded:u})}else return D.none()},TR=(e,t,o=!0)=>{let s=t;if(o)try{s=atob(t)}catch{return D.none()}let l=new Uint8Array(s.length);for(let u=0;u<l.length;u++)l[u]=s.charCodeAt(u);return D.some(new Blob([l],{type:e}))},oQ=e=>new Promise((t,o)=>{Nw(e).bind(({type:s,data:l,base64Encoded:u})=>TR(s,l,u)).fold(()=>o("Invalid data URI"),t)}),sQ=e=>vn(e,"blob:")?nQ(e):vn(e,"data:")?oQ(e):Promise.reject("Unknown URI format"),MR=e=>new Promise((t,o)=>{let s=new FileReader;s.onloadend=()=>{t(s.result)},s.onerror=()=>{var l;o((l=s.error)===null||l===void 0?void 0:l.message)},s.readAsDataURL(e)}),iQ=0,aQ=e=>(e||"blobid")+iQ++,NR=(e,t,o)=>Nw(e).bind(({data:s,type:l,base64Encoded:u})=>{if(t&&!u)return D.none();{let d=u?s:btoa(s);return o(d,l)}}),RR=(e,t,o)=>{let s=e.create(aQ(),t,o);return e.add(s),s},OR=(e,t,o=!1)=>NR(t,o,(s,l)=>D.from(e.getByData(s,l)).orThunk(()=>TR(l,s).map(u=>RR(e,u,s)))),lQ=(e,t)=>{let o=()=>Promise.reject("Invalid data URI");if(vn(t,"blob:")){let s=e.getByUri(t);return G(s)?Promise.resolve(s):sQ(t).then(l=>MR(l).then(u=>NR(u,!1,d=>D.some(RR(e,l,d))).getOrThunk(o)))}else return vn(t,"data:")?OR(e,t).fold(o,s=>Promise.resolve(s)):Promise.reject("Unknown image data format")},cQ=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,uQ=e=>D.from(e.match(cQ)).bind(t=>Rd(t,1)).map(t=>vn(t,"www.")?t.substring(4):t),PR=(e,t)=>{D.from(e.attr("src")).bind(uQ).forall(o=>!ft(t,o))&&e.attr("sandbox","")},Rw=(e,t)=>vn(e,`${t}/`),dQ=e=>Ke(e)?"iframe":Rw(e,"image")?"img":Rw(e,"video")?"video":Rw(e,"audio")?"audio":"iframe",fQ=({type:e,src:t,width:o,height:s}={},l,u)=>{let d=dQ(e),p=new fr(d,1);return p.attr(d==="audio"?{src:t}:{src:t,width:o,height:s}),(d==="audio"||d==="video")&&p.attr("controls",""),d==="iframe"&&l&&PR(p,u),p},pQ=e=>G(e.attr("data-mce-bogus")),hQ=e=>e.attr("src")===ct.transparentSrc||G(e.attr("data-mce-placeholder")),mQ=(e,t)=>{let{blob_cache:o}=t;if(o){let s=l=>{let u=l.attr("src");hQ(l)||pQ(l)||$e(u)||OR(o,u,!0).each(d=>{l.attr("src",d.blobUri())})};e.addAttributeFilter("src",l=>z(l,s))}},gQ=(e,t)=>{var o,s;let l=e.schema;e.addAttributeFilter("href",m=>{let v=m.length,b=E=>E.split(" ").filter(I=>I.length>0).concat(["noopener"]).sort().join(" "),C=E=>{let x=E?ee.trim(E):"";return/\b(noopener)\b/g.test(x)?x:b(x)};if(!t.allow_unsafe_link_target)for(;v--;){let E=m[v];E.name==="a"&&E.attr("target")==="_blank"&&E.attr("rel",C(E.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",m=>{let v=m.length,b,C,E,x;for(;v--;)if(x=m[v],x.name==="a"&&x.firstChild&&!x.attr("href"))for(E=x.parent,b=x.lastChild;b&&E;)C=b.prev,E.insert(b,x),b=C}),t.fix_list_elements&&e.addNodeFilter("ul,ol",m=>{let v=m.length,b,C;for(;v--;)if(b=m[v],C=b.parent,C&&(C.name==="ul"||C.name==="ol"))if(b.prev&&b.prev.name==="li")b.prev.append(b);else{let E=new fr("li",1);E.attr("style","list-style-type: none"),b.wrap(E)}});let u=l.getValidClasses();t.validate&&u&&e.addAttributeFilter("class",m=>{var v;let b=m.length;for(;b--;){let C=m[b],E=(v=C.attr("class"))!==null&&v!==void 0?v:"",x=ee.explode(E," "),I="";for(let S=0;S<x.length;S++){let A=x[S],M=!1,R=u["*"];R&&R[A]&&(M=!0),R=u[C.name],!M&&R&&R[A]&&(M=!0),M&&(I&&(I+=" "),I+=A)}I.length||(I=null),C.attr("class",I)}}),mQ(e,t);let d=(o=t.sandbox_iframes)!==null&&o!==void 0?o:!1,p=ZI((s=t.sandbox_iframes_exclusions)!==null&&s!==void 0?s:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",m=>z(m,v=>{v.replace(fQ({type:v.attr("type"),src:v.name==="object"?v.attr("data"):v.attr("src"),width:v.attr("width"),height:v.attr("height")},d,p))})),d&&e.addNodeFilter("iframe",m=>z(m,v=>PR(v,p)))},{entries:FR,setPrototypeOf:LR,isFrozen:vQ,getPrototypeOf:yQ,getOwnPropertyDescriptor:bQ}=Object,{freeze:Ir,seal:is,create:CQ}=Object,{apply:Ow,construct:Pw}=typeof Reflect<"u"&&Reflect;Ow||(Ow=function(t,o,s){return t.apply(o,s)}),Ir||(Ir=function(t){return t}),is||(is=function(t){return t}),Pw||(Pw=function(t,o){return new t(...o)});let wQ=No(Array.prototype.forEach),EQ=No(Array.prototype.pop),Ff=No(Array.prototype.push),Fm=No(String.prototype.toLowerCase),Fw=No(String.prototype.toString),DQ=No(String.prototype.match),as=No(String.prototype.replace),_Q=No(String.prototype.indexOf),xQ=No(String.prototype.trim),io=No(RegExp.prototype.test),Lf=SQ(TypeError);function No(e){return function(t){for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return Ow(e,t,s)}}function SQ(e){return function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return Pw(e,o)}}function gt(e,t,o){var s;o=(s=o)!==null&&s!==void 0?s:Fm,LR&&LR(e,null);let l=t.length;for(;l--;){let u=t[l];if(typeof u=="string"){let d=o(u);d!==u&&(vQ(t)||(t[l]=d),u=d)}e[u]=!0}return e}function Xc(e){let t=CQ(null);for(let[o,s]of FR(e))t[o]=s;return t}function Lm(e,t){for(;e!==null;){let s=bQ(e,t);if(s){if(s.get)return No(s.get);if(typeof s.value=="function")return No(s.value)}e=yQ(e)}function o(s){return console.warn("fallback value for",s),null}return o}let BR=Ir(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Lw=Ir(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Bw=Ir(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),IQ=Ir(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Vw=Ir(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),AQ=Ir(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),VR=Ir(["#text"]),$R=Ir(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),$w=Ir(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),jR=Ir(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Bm=Ir(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),kQ=is(/\{\{[\w\W]*|[\w\W]*\}\}/gm),TQ=is(/<%[\w\W]*|[\w\W]*%>/gm),MQ=is(/\${[\w\W]*}/gm),NQ=is(/^data-[\-\w.\u00B7-\uFFFF]/),RQ=is(/^aria-[\-\w]+$/),UR=is(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),OQ=is(/^(?:\w+script|data):/i),PQ=is(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),HR=is(/^html$/i);var zR=Object.freeze({__proto__:null,MUSTACHE_EXPR:kQ,ERB_EXPR:TQ,TMPLIT_EXPR:MQ,DATA_ATTR:NQ,ARIA_ATTR:RQ,IS_ALLOWED_URI:UR,IS_SCRIPT_OR_DATA:OQ,ATTR_WHITESPACE:PQ,DOCTYPE_NAME:HR});let FQ=()=>typeof window>"u"?null:window,LQ=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null,l="data-tt-policy-suffix";o&&o.hasAttribute(l)&&(s=o.getAttribute(l));let u="dompurify"+(s?"#"+s:"");try{return t.createPolicy(u,{createHTML(d){return d},createScriptURL(d){return d}})}catch{return console.warn("TrustedTypes policy "+u+" could not be created."),null}};function WR(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:FQ(),t=We=>WR(We);if(t.version="3.0.5",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;let o=e.document,s=o.currentScript,{document:l}=e,{DocumentFragment:u,HTMLTemplateElement:d,Node:p,Element:m,NodeFilter:v,NamedNodeMap:b=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:C,DOMParser:E,trustedTypes:x}=e,I=m.prototype,S=Lm(I,"cloneNode"),A=Lm(I,"nextSibling"),M=Lm(I,"childNodes"),R=Lm(I,"parentNode");if(typeof d=="function"){let We=l.createElement("template");We.content&&We.content.ownerDocument&&(l=We.content.ownerDocument)}let N,O="",{implementation:q,createNodeIterator:X,createDocumentFragment:ae,getElementsByTagName:U}=l,{importNode:F}=o,H={};t.isSupported=typeof FR=="function"&&typeof R=="function"&&q&&q.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:fe,ERB_EXPR:ye,TMPLIT_EXPR:Be,DATA_ATTR:Ue,ARIA_ATTR:lt,IS_SCRIPT_OR_DATA:dt,ATTR_WHITESPACE:zt}=zR,{IS_ALLOWED_URI:An}=zR,vt=null,ne=gt({},[...BR,...Lw,...Bw,...Vw,...VR]),me=null,Je=gt({},[...$R,...$w,...jR,...Bm]),se=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),we=null,je=null,ie=!0,Ve=!0,ze=!1,un=!0,ut=!1,an=!1,co=!1,cs=!1,rr=!1,Ar=!1,uo=!1,kr=!0,fo=!1,be="user-content-",Ye=!0,Rt=!1,qt={},nn=null,Cn=gt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Qt=null,Xt=gt({},["audio","video","img","source","image","track"]),or=null,Oo=gt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Po="http://www.w3.org/1998/Math/MathML",Fo="http://www.w3.org/2000/svg",po="http://www.w3.org/1999/xhtml",Ca=po,du=!1,fu=null,ED=gt({},[Po,Fo,po],Fw),Di,Bg=["application/xhtml+xml","text/html"],dV="text/html",Un,Tl=null,fV=l.createElement("form"),DD=function(B){return B instanceof RegExp||B instanceof Function},qs=function(B){if(!(Tl&&Tl===B)){if((!B||typeof B!="object")&&(B={}),B=Xc(B),Di=Bg.indexOf(B.PARSER_MEDIA_TYPE)===-1?Di=dV:Di=B.PARSER_MEDIA_TYPE,Un=Di==="application/xhtml+xml"?Fw:Fm,vt="ALLOWED_TAGS"in B?gt({},B.ALLOWED_TAGS,Un):ne,me="ALLOWED_ATTR"in B?gt({},B.ALLOWED_ATTR,Un):Je,fu="ALLOWED_NAMESPACES"in B?gt({},B.ALLOWED_NAMESPACES,Fw):ED,or="ADD_URI_SAFE_ATTR"in B?gt(Xc(Oo),B.ADD_URI_SAFE_ATTR,Un):Oo,Qt="ADD_DATA_URI_TAGS"in B?gt(Xc(Xt),B.ADD_DATA_URI_TAGS,Un):Xt,nn="FORBID_CONTENTS"in B?gt({},B.FORBID_CONTENTS,Un):Cn,we="FORBID_TAGS"in B?gt({},B.FORBID_TAGS,Un):{},je="FORBID_ATTR"in B?gt({},B.FORBID_ATTR,Un):{},qt="USE_PROFILES"in B?B.USE_PROFILES:!1,ie=B.ALLOW_ARIA_ATTR!==!1,Ve=B.ALLOW_DATA_ATTR!==!1,ze=B.ALLOW_UNKNOWN_PROTOCOLS||!1,un=B.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ut=B.SAFE_FOR_TEMPLATES||!1,an=B.WHOLE_DOCUMENT||!1,rr=B.RETURN_DOM||!1,Ar=B.RETURN_DOM_FRAGMENT||!1,uo=B.RETURN_TRUSTED_TYPE||!1,cs=B.FORCE_BODY||!1,kr=B.SANITIZE_DOM!==!1,fo=B.SANITIZE_NAMED_PROPS||!1,Ye=B.KEEP_CONTENT!==!1,Rt=B.IN_PLACE||!1,An=B.ALLOWED_URI_REGEXP||UR,Ca=B.NAMESPACE||po,se=B.CUSTOM_ELEMENT_HANDLING||{},B.CUSTOM_ELEMENT_HANDLING&&DD(B.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(se.tagNameCheck=B.CUSTOM_ELEMENT_HANDLING.tagNameCheck),B.CUSTOM_ELEMENT_HANDLING&&DD(B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(se.attributeNameCheck=B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),B.CUSTOM_ELEMENT_HANDLING&&typeof B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(se.allowCustomizedBuiltInElements=B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ut&&(Ve=!1),Ar&&(rr=!0),qt&&(vt=gt({},[...VR]),me=[],qt.html===!0&&(gt(vt,BR),gt(me,$R)),qt.svg===!0&&(gt(vt,Lw),gt(me,$w),gt(me,Bm)),qt.svgFilters===!0&&(gt(vt,Bw),gt(me,$w),gt(me,Bm)),qt.mathMl===!0&&(gt(vt,Vw),gt(me,jR),gt(me,Bm))),B.ADD_TAGS&&(vt===ne&&(vt=Xc(vt)),gt(vt,B.ADD_TAGS,Un)),B.ADD_ATTR&&(me===Je&&(me=Xc(me)),gt(me,B.ADD_ATTR,Un)),B.ADD_URI_SAFE_ATTR&&gt(or,B.ADD_URI_SAFE_ATTR,Un),B.FORBID_CONTENTS&&(nn===Cn&&(nn=Xc(nn)),gt(nn,B.FORBID_CONTENTS,Un)),Ye&&(vt["#text"]=!0),an&&gt(vt,["html","head","body"]),vt.table&&(gt(vt,["tbody"]),delete we.tbody),B.TRUSTED_TYPES_POLICY){if(typeof B.TRUSTED_TYPES_POLICY.createHTML!="function")throw Lf('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof B.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Lf('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');N=B.TRUSTED_TYPES_POLICY,O=N.createHTML("")}else N===void 0&&(N=LQ(x,s)),N!==null&&typeof O=="string"&&(O=N.createHTML(""));Ir&&Ir(B),Tl=B}},op=gt({},["mi","mo","mn","ms","mtext"]),P=gt({},["foreignobject","desc","title","annotation-xml"]),L=gt({},["title","style","font","a","script"]),J=gt({},Lw);gt(J,Bw),gt(J,IQ);let Z=gt({},Vw);gt(Z,AQ);let De=function(B){let he=R(B);(!he||!he.tagName)&&(he={namespaceURI:Ca,tagName:"template"});let Se=Fm(B.tagName),Kt=Fm(he.tagName);return fu[B.namespaceURI]?B.namespaceURI===Fo?he.namespaceURI===po?Se==="svg":he.namespaceURI===Po?Se==="svg"&&(Kt==="annotation-xml"||op[Kt]):!!J[Se]:B.namespaceURI===Po?he.namespaceURI===po?Se==="math":he.namespaceURI===Fo?Se==="math"&&P[Kt]:!!Z[Se]:B.namespaceURI===po?he.namespaceURI===Fo&&!P[Kt]||he.namespaceURI===Po&&!op[Kt]?!1:!Z[Se]&&(L[Se]||!J[Se]):!!(Di==="application/xhtml+xml"&&fu[B.namespaceURI]):!1},qe=function(B){Ff(t.removed,{element:B});try{B.parentNode.removeChild(B)}catch{B.remove()}},Ot=function(B,he){try{Ff(t.removed,{attribute:he.getAttributeNode(B),from:he})}catch{Ff(t.removed,{attribute:null,from:he})}if(he.removeAttribute(B),B==="is"&&!me[B])if(rr||Ar)try{qe(he)}catch{}else try{he.setAttribute(B,"")}catch{}},Lo=function(B){let he,Se;if(cs)B="<remove></remove>"+B;else{let Bo=DQ(B,/^[\r\n\t ]+/);Se=Bo&&Bo[0]}Di==="application/xhtml+xml"&&Ca===po&&(B='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+B+"</body></html>");let Kt=N?N.createHTML(B):B;if(Ca===po)try{he=new E().parseFromString(Kt,Di)}catch{}if(!he||!he.documentElement){he=q.createDocument(Ca,"template",null);try{he.documentElement.innerHTML=du?O:Kt}catch{}}let sr=he.body||he.documentElement;return B&&Se&&sr.insertBefore(l.createTextNode(Se),sr.childNodes[0]||null),Ca===po?U.call(he,an?"html":"body")[0]:an?he.documentElement:sr},Vg=function(B){return X.call(B.ownerDocument||B,B,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT,null,!1)},tpe=function(B){return B instanceof C&&(typeof B.nodeName!="string"||typeof B.textContent!="string"||typeof B.removeChild!="function"||!(B.attributes instanceof b)||typeof B.removeAttribute!="function"||typeof B.setAttribute!="function"||typeof B.namespaceURI!="string"||typeof B.insertBefore!="function"||typeof B.hasChildNodes!="function")},$g=function(B){return typeof p=="object"?B instanceof p:B&&typeof B=="object"&&typeof B.nodeType=="number"&&typeof B.nodeName=="string"},_i=function(B,he,Se){H[B]&&wQ(H[B],Kt=>{Kt.call(t,he,Se,Tl)})},pV=function(B){let he;if(_i("beforeSanitizeElements",B,null),tpe(B))return qe(B),!0;let Se=Un(B.nodeName);if(_i("uponSanitizeElement",B,{tagName:Se,allowedTags:vt}),B.hasChildNodes()&&!$g(B.firstElementChild)&&(!$g(B.content)||!$g(B.content.firstElementChild))&&io(/<[/\w]/g,B.innerHTML)&&io(/<[/\w]/g,B.textContent))return qe(B),!0;if(!vt[Se]||we[Se]){if(!we[Se]&&mV(Se)&&(se.tagNameCheck instanceof RegExp&&io(se.tagNameCheck,Se)||se.tagNameCheck instanceof Function&&se.tagNameCheck(Se)))return!1;if(Ye&&!nn[Se]){let Kt=R(B)||B.parentNode,sr=M(B)||B.childNodes;if(sr&&Kt){let Bo=sr.length;for(let mn=Bo-1;mn>=0;--mn)Kt.insertBefore(S(sr[mn],!0),A(B))}}return qe(B),!0}return B instanceof m&&!De(B)||(Se==="noscript"||Se==="noembed"||Se==="noframes")&&io(/<\/no(script|embed|frames)/i,B.innerHTML)?(qe(B),!0):(ut&&B.nodeType===3&&(he=B.textContent,he=as(he,fe," "),he=as(he,ye," "),he=as(he,Be," "),B.textContent!==he&&(Ff(t.removed,{element:B.cloneNode()}),B.textContent=he)),_i("afterSanitizeElements",B,null),!1)},hV=function(B,he,Se){if(kr&&(he==="id"||he==="name")&&(Se in l||Se in fV))return!1;if(!(Ve&&!je[he]&&io(Ue,he))){if(!(ie&&io(lt,he))){if(!me[he]||je[he]){if(!(mV(B)&&(se.tagNameCheck instanceof RegExp&&io(se.tagNameCheck,B)||se.tagNameCheck instanceof Function&&se.tagNameCheck(B))&&(se.attributeNameCheck instanceof RegExp&&io(se.attributeNameCheck,he)||se.attributeNameCheck instanceof Function&&se.attributeNameCheck(he))||he==="is"&&se.allowCustomizedBuiltInElements&&(se.tagNameCheck instanceof RegExp&&io(se.tagNameCheck,Se)||se.tagNameCheck instanceof Function&&se.tagNameCheck(Se))))return!1}else if(!or[he]){if(!io(An,as(Se,zt,""))){if(!((he==="src"||he==="xlink:href"||he==="href")&&B!=="script"&&_Q(Se,"data:")===0&&Qt[B])){if(!(ze&&!io(dt,as(Se,zt,"")))){if(Se)return!1}}}}}}return!0},mV=function(B){return B.indexOf("-")>0},gV=function(B){let he,Se,Kt,sr;_i("beforeSanitizeAttributes",B,null);let{attributes:Bo}=B;if(!Bo)return;let mn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:me};for(sr=Bo.length;sr--;){he=Bo[sr];let{name:Vo,namespaceURI:_D}=he;Se=Vo==="value"?he.value:xQ(he.value);let rpe=Se;if(Kt=Un(Vo),mn.attrName=Kt,mn.attrValue=Se,mn.keepAttr=!0,mn.forceKeepAttr=void 0,_i("uponSanitizeAttribute",B,mn),Se=mn.attrValue,mn.forceKeepAttr)continue;if(!mn.keepAttr){Ot(Vo,B);continue}if(!un&&io(/\/>/i,Se)){Ot(Vo,B);continue}ut&&(Se=as(Se,fe," "),Se=as(Se,ye," "),Se=as(Se,Be," "));let vV=Un(B.nodeName);if(!hV(vV,Kt,Se)){Ot(Vo,B);continue}if(fo&&(Kt==="id"||Kt==="name")&&(Ot(Vo,B),Se=be+Se),N&&typeof x=="object"&&typeof x.getAttributeType=="function"&&!_D)switch(x.getAttributeType(vV,Kt)){case"TrustedHTML":{Se=N.createHTML(Se);break}case"TrustedScriptURL":{Se=N.createScriptURL(Se);break}}if(Se!==rpe)try{_D?B.setAttributeNS(_D,Vo,Se):B.setAttribute(Vo,Se)}catch{Ot(Vo,B)}}_i("afterSanitizeAttributes",B,null)},npe=function We(B){let he,Se=Vg(B);for(_i("beforeSanitizeShadowDOM",B,null);he=Se.nextNode();)_i("uponSanitizeShadowNode",he,null),!pV(he)&&(he.content instanceof u&&We(he.content),gV(he));_i("afterSanitizeShadowDOM",B,null)};return t.sanitize=function(We){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},he,Se,Kt,sr;if(du=!We,du&&(We="<!-->"),typeof We!="string"&&!$g(We))if(typeof We.toString=="function"){if(We=We.toString(),typeof We!="string")throw Lf("dirty is not a string, aborting")}else throw Lf("toString is not a function");if(!t.isSupported)return We;if(co||qs(B),t.removed=[],typeof We=="string"&&(Rt=!1),Rt){if(We.nodeName){let Vo=Un(We.nodeName);if(!vt[Vo]||we[Vo])throw Lf("root node is forbidden and cannot be sanitized in-place")}}else if(We instanceof p)he=Lo("<!---->"),Se=he.ownerDocument.importNode(We,!0),Se.nodeType===1&&Se.nodeName==="BODY"||Se.nodeName==="HTML"?he=Se:he.appendChild(Se);else{if(!rr&&!ut&&!an&&We.indexOf("<")===-1)return N&&uo?N.createHTML(We):We;if(he=Lo(We),!he)return rr?null:uo?O:""}he&&cs&&qe(he.firstChild);let Bo=Vg(Rt?We:he);for(;Kt=Bo.nextNode();)pV(Kt)||(Kt.content instanceof u&&npe(Kt.content),gV(Kt));if(Rt)return We;if(rr){if(Ar)for(sr=ae.call(he.ownerDocument);he.firstChild;)sr.appendChild(he.firstChild);else sr=he;return(me.shadowroot||me.shadowrootmode)&&(sr=F.call(o,sr,!0)),sr}let mn=an?he.outerHTML:he.innerHTML;return an&&vt["!doctype"]&&he.ownerDocument&&he.ownerDocument.doctype&&he.ownerDocument.doctype.name&&io(HR,he.ownerDocument.doctype.name)&&(mn="<!DOCTYPE "+he.ownerDocument.doctype.name+`>
`+mn),ut&&(mn=as(mn,fe," "),mn=as(mn,ye," "),mn=as(mn,Be," ")),N&&uo?N.createHTML(mn):mn},t.setConfig=function(We){qs(We),co=!0},t.clearConfig=function(){Tl=null,co=!1},t.isValidAttribute=function(We,B,he){Tl||qs({});let Se=Un(We),Kt=Un(B);return hV(Se,Kt,he)},t.addHook=function(We,B){typeof B=="function"&&(H[We]=H[We]||[],Ff(H[We],B))},t.removeHook=function(We){if(H[We])return EQ(H[We])},t.removeHooks=function(We){H[We]&&(H[We]=[])},t.removeAllHooks=function(){H={}},t}var jw=WR();let qR=ee.each,BQ=ee.trim,VQ=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],$Q={ftp:21,http:80,https:443,mailto:25},jQ=["img","video"],UQ=(e,t)=>G(e)?!e:G(t)?!ft(jQ,t):!0,HQ=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},GR=(e,t,o)=>{let s=HQ(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(s)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(s)?UQ(e.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)};class Ro{static parseDataUri(t){let o,s=decodeURIComponent(t).split(","),l=/data:([^;]+)/.exec(s[0]);return l&&(o=l[1]),{type:o,data:s[1]}}static isDomSafe(t,o,s={}){if(s.allow_script_urls)return!0;{let l=sl.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!GR(s,l,o)}}static getDocumentBaseUrl(t){var o;let s;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?s=(o=t.href)!==null&&o!==void 0?o:"":s=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s}constructor(t,o={}){this.path="",this.directory="",t=BQ(t),this.settings=o;let s=o.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){l.source=t;return}let u=t.indexOf("//")===0;if(t.indexOf("/")===0&&!u&&(t=(s&&s.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){let p=s?s.path:new Ro(document.location.href).directory;if(s?.protocol==="")t="//mce_host"+l.toAbsPath(p,t);else{let m=/([^#?]*)([#?]?.*)/.exec(t);m&&(t=(s&&s.protocol||"http")+"://mce_host"+l.toAbsPath(p,m[1])+m[2])}}t=t.replace(/@@/g,"(mce_at)");let d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);d&&qR(VQ,(p,m)=>{let v=d[m];v&&(v=v.replace(/\(mce_at\)/g,"@@")),l[p]=v}),s&&(l.protocol||(l.protocol=s.protocol),l.userInfo||(l.userInfo=s.userInfo),!l.port&&l.host==="mce_host"&&(l.port=s.port),(!l.host||l.host==="mce_host")&&(l.host=s.host),l.source=""),u&&(l.protocol="")}setPath(t){let o=/^(.*?)\/?(\w+)?$/.exec(t);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;let o=new Ro(t,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();let s=this.getURI(),l=o.getURI();if(s===l||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===l)return s;let u=this.toRelPath(this.path,o.path);return o.query&&(u+="?"+o.query),o.anchor&&(u+="#"+o.anchor),u}toAbsolute(t,o){let s=new Ro(t,{base_uri:this});return s.getURI(o&&this.isSameOrigin(s))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;let o=this.protocol?$Q[this.protocol]:null;if(o&&(this.port||o)==(t.port||o))return!0}return!1}toRelPath(t,o){let s=0,l="",u,d,p=t.substring(0,t.lastIndexOf("/")).split("/"),m=o.split("/");if(p.length>=m.length){for(u=0,d=p.length;u<d;u++)if(u>=m.length||p[u]!==m[u]){s=u+1;break}}if(p.length<m.length){for(u=0,d=m.length;u<d;u++)if(u>=p.length||p[u]!==m[u]){s=u+1;break}}if(s===1)return o;for(u=0,d=p.length-(s-1);u<d;u++)l+="../";for(u=s-1,d=m.length;u<d;u++)u!==s-1?l+="/"+m[u]:l+=m[u];return l}toAbsPath(t,o){let s=0,l=/\/$/.test(o)?"/":"",u=t.split("/"),d=o.split("/"),p=[];qR(u,C=>{C&&p.push(C)});let m=[];for(let C=d.length-1;C>=0;C--)if(!(d[C].length===0||d[C]===".")){if(d[C]===".."){s++;continue}if(s>0){s--;continue}m.push(d[C])}let v=p.length-s,b;return v<=0?b=ta(m).join("/"):b=p.slice(0,v).join("/")+"/"+ta(m).join("/"),b.indexOf("/")!==0&&(b="/"+b),l&&b.lastIndexOf("/")!==b.length-1&&(b+=l),b}getURI(t=!1){let o;return(!this.source||t)&&(o="",t||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}let zQ=ee.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Uw="data-mce-type",KR=0,YR=(e,t,o,s,l)=>{var u,d,p,m;let v=t.validate,b=o.getSpecialElements();e.nodeType===kA&&!t.allow_conditional_comments&&/^\[if/i.test((u=e.nodeValue)!==null&&u!==void 0?u:"")&&(e.nodeValue=" "+e.nodeValue);let C=(d=l?.tagName)!==null&&d!==void 0?d:e.nodeName.toLowerCase();if(s!=="html"&&o.isValid(s)){G(l)&&(l.allowedTags[C]=!0);return}if(e.nodeType!==Vd||C==="body")return;let E=T.fromDom(e),x=$d(E,Uw),I=jr(E,"data-mce-bogus");if(!x&&te(I)){I==="all"?Lt(E):oa(E);return}let S=o.getElementRule(C);if(v&&!S){Pe(b,C)?Lt(E):oa(E);return}else G(l)&&(l.allowedTags[C]=!0);if(v&&S&&!x){if(z((p=S.attributesForced)!==null&&p!==void 0?p:[],A=>{On(E,A.name,A.value==="{$uid}"?`mce_${KR++}`:A.value)}),z((m=S.attributesDefault)!==null&&m!==void 0?m:[],A=>{$d(E,A.name)||On(E,A.name,A.value==="{$uid}"?`mce_${KR++}`:A.value)}),S.attributesRequired&&!Ht(S.attributesRequired,A=>$d(E,A))){oa(E);return}if(S.removeEmptyAttrs&&v4(E)){oa(E);return}S.outputName&&S.outputName!==C&&PW(E,S.outputName)}},WQ=(e,t,o,s,l)=>{let u=e.tagName.toLowerCase(),{attrName:d,attrValue:p}=l;l.keepAttr=ZR(t,o,s,u,d,p),l.keepAttr?(l.allowedAttributes[d]=!0,XR(d,o)&&(l.attrValue=d),t.allow_svg_data_urls&&vn(p,"data:image/svg+xml")&&(l.forceKeepAttr=!0)):QR(e,d)&&(l.forceKeepAttr=!0)},ZR=(e,t,o,s,l,u)=>o!=="html"&&!nl(s)?!0:!(l in zQ&&GR(e,u,s))&&(!e.validate||t.isValid(s,l)||vn(l,"data-")||vn(l,"aria-")),QR=(e,t)=>e.hasAttribute(Uw)&&(t==="id"||t==="class"||t==="style"),XR=(e,t)=>e in t.getBoolAttrs(),qQ=(e,t,o,s)=>{let{attributes:l}=e;for(let u=l.length-1;u>=0;u--){let d=l[u],p=d.name,m=d.value;!ZR(t,o,s,e.tagName.toLowerCase(),p,m)&&!QR(e,p)?e.removeAttribute(p):XR(p,o)&&e.setAttribute(p,p)}},GQ=(e,t,o)=>{let s=jw();return s.addHook("uponSanitizeElement",(l,u)=>{YR(l,e,t,o.track(l),u)}),s.addHook("uponSanitizeAttribute",(l,u)=>{WQ(l,e,t,o.current(),u)}),s},KQ=(e,t)=>{let s=W({},{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]});return s.PARSER_MEDIA_TYPE=t,e.allow_script_urls?s.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(s.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),s},YQ=e=>{let t=mk(e);if(t==="svg"){let o=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(l=>`xlink:${l}`),s={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:o};jw().sanitize(e,s)}else if(t==="math"){let o={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}};jw().sanitize(e,o)}else throw new Error("Not a namespace element")},ZQ=(e,t)=>{let o=_8();if(e.sanitize){let s=GQ(e,t,o);return{sanitizeHtmlElement:(u,d)=>{s.sanitize(u,KQ(e,d)),s.removed=[],o.reset()},sanitizeNamespaceElement:YQ}}else return{sanitizeHtmlElement:(u,d)=>{let p=document.createNodeIterator(u,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT),m;for(;m=p.nextNode();){let v=o.track(m);YR(m,e,t,v),ge(m)&&qQ(m,e,t,v)}o.reset()},sanitizeNamespaceElement:Ne}},JR=ee.makeMap,eO=ee.extend,tO=(e,t,o,s)=>{let l=e.name,u=l in o&&l!=="title"&&l!=="textarea"&&l!=="noscript",d=t.childNodes;for(let p=0,m=d.length;p<m;p++){let v=d[p],b=new fr(v.nodeName.toLowerCase(),v.nodeType);if(ge(v)){let C=v.attributes;for(let E=0,x=C.length;E<x;E++){let I=C[E];b.attr(I.name,I.value)}nl(b.name)&&(s(v),b.value=v.innerHTML)}else Q(v)?(b.value=v.data,u&&(b.raw=!0)):(sa(v)||c8(v)||u8(v))&&(b.value=v.data);nl(b.name)||tO(b,v,o,s),e.append(b)}},QQ=(e,t,o)=>{let s=[];for(let l=e,u=l;l;u=l,l=l.walk()){let d=l;z(t,p=>p(d)),$e(d.parent)&&d!==e?l=u:s.push(d)}for(let l=s.length-1;l>=0;l--){let u=s[l];z(o,d=>d(u))}},XQ=(e,t,o,s)=>{let l=o.validate,u=t.getNonEmptyElements(),d=t.getWhitespaceElements(),p=eO(JR("script,style,head,html,body,title,meta,param"),t.getBlockElements()),m=Pk(t),v=/[ \t\r\n]+/g,b=/^[ \t\r\n]+/,C=/[ \t\r\n]+$/,E=R=>{let N=R.parent;for(;G(N);){if(N.name in d)return!0;N=N.parent}return!1},x=R=>{let N=R;for(;G(N);){if(N.name in m)return Nf(t,u,d,N);N=N.parent}return!1},I=R=>R.name in p||S0(t,R)||nl(R.name)&&R.parent===e,S=(R,N)=>{let O=N?R.prev:R.next;return G(O)||$e(R.parent)?!1:I(R.parent)&&(R.parent!==e||s.isRootContent===!0)};return[R=>{var N;if(R.type===3&&!E(R)){let O=(N=R.value)!==null&&N!==void 0?N:"";O=O.replace(v," "),(bY(R.prev,I)||S(R,!0))&&(O=O.replace(b,"")),O.length===0?R.remove():R.value=O}},R=>{var N;if(R.type===1){let O=t.getElementRule(R.name);if(l&&O){let q=Nf(t,u,d,R);O.paddInEmptyBlock&&q&&x(R)?fw(o,s,I,R):O.removeEmpty&&q?I(R)?R.remove():R.unwrap():O.paddEmpty&&(q||vY(R))&&fw(o,s,I,R)}}else if(R.type===3&&!E(R)){let O=(N=R.value)!==null&&N!==void 0?N:"";(R.next&&I(R.next)||S(R,!1))&&(O=O.replace(C,"")),O.length===0?R.remove():R.value=O}}]},JQ=(e,t)=>{var o;let s=(o=t.forced_root_block)!==null&&o!==void 0?o:e.forced_root_block;return s===!1?"":s===!0?"p":s},Jc=(e={},t=ia())=>{let o=kR(),s=kR(),l=W({validate:!0,root_name:"body",sanitize:!0},e),u=new DOMParser,d=ZQ(l,t),p=(N,O,q="html")=>{let X=q==="xhtml"?"application/xhtml+xml":"text/html",ae=Pe(t.getSpecialElements(),O.toLowerCase()),U=ae?`<${O}>${N}</${O}>`:N,F=q==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${U}</body></html>`:`<body>${U}</body>`,H=u.parseFromString(F,X).body;return d.sanitizeHtmlElement(H,X),ae?H.firstChild:H},m=o.addFilter,v=o.getFilters,b=o.removeFilter,C=s.addFilter,E=s.getFilters,x=s.removeFilter,I=(N,O)=>{mw(t,N)&&O.push(N)},S=(N,O)=>{let q=te(O.attr(Uw)),X=O.type===1&&!Pe(N,O.name)&&!S0(t,O)&&!nl(O.name);return O.type===3||X&&!q},A=(N,O)=>{let q=eO(JR("script,style,head,html,body,title,meta,param"),t.getBlockElements()),X=/^[ \t\r\n]+/,ae=/[ \t\r\n]+$/,U=N.firstChild,F=null,H=fe=>{var ye,Be;fe&&(U=fe.firstChild,U&&U.type===3&&(U.value=(ye=U.value)===null||ye===void 0?void 0:ye.replace(X,"")),U=fe.lastChild,U&&U.type===3&&(U.value=(Be=U.value)===null||Be===void 0?void 0:Be.replace(ae,"")))};if(t.isValidChild(N.name,O.toLowerCase())){for(;U;){let fe=U.next;S(q,U)?(F||(F=new fr(O,1),F.attr(l.forced_root_block_attrs),N.insert(F,U)),F.append(U)):(H(F),F=null),U=fe}H(F)}},R={schema:t,addAttributeFilter:C,getAttributeFilters:E,removeAttributeFilter:x,addNodeFilter:m,getNodeFilters:v,removeNodeFilter:b,parse:(N,O={})=>{var q;let X=l.validate,ae=(q=O.context)!==null&&q!==void 0?q:l.root_name,U=p(N,ae,O.format);E0(t,U);let F=new fr(ae,11);tO(F,U,t.getSpecialElements(),d.sanitizeNamespaceElement),U.innerHTML="";let[H,fe]=XQ(F,t,l,O),ye=[],Be=X?zt=>I(zt,ye):Ne,Ue={nodes:{},attributes:{}},lt=zt=>B1(v(),E(),zt,Ue);if(QQ(F,[H,lt],[fe,Be]),ye.reverse(),X&&ye.length>0)if(O.context){let{pass:zt,fail:An}=ea(ye,vt=>vt.parent===F);hw(An,t,F,lt),O.invalid=zt.length>0}else hw(ye,t,F,lt);let dt=JQ(l,O);return dt&&(F.name==="body"||O.isRootContent)&&A(F,dt),O.invalid||V1(Ue,O),F}};return gQ(R,l),tQ(R,l,t),R},eX=e=>Nm(e)?pa({validate:!1}).serialize(e):e,nO=(e,t,o)=>{let s=eX(e),l=t(s);if(l.isDefaultPrevented())return l;if(Nm(e))if(l.content!==s){let u=Jc(W({validate:!1,forced_root_block:!1},o)).parse(l.content,{context:e.name});return Me(W({},l),{content:u})}else return Me(W({},l),{content:e});else return l},rO=e=>({sanitize:XT(e),sandbox_iframes:eM(e),sandbox_iframes_exclusions:iC(e)}),oO=(e,t)=>{if(t.no_events)return wr.value(t);{let o=z9(e,t);return o.isDefaultPrevented()?wr.error(JM(e,W({content:""},o)).content):wr.value(o)}},sO=(e,t,o)=>o.no_events?t:nO(t,l=>JM(e,Me(W({},o),{content:l})),rO(e)).content,Hw=(e,t)=>{if(t.no_events)return wr.value(t);{let o=nO(t.content,s=>H9(e,Me(W({},t),{content:s})),rO(e));return o.isDefaultPrevented()?(XM(e,o),wr.error(void 0)):wr.value(o)}},zw=(e,t,o)=>{o.no_events||XM(e,Me(W({},o),{content:t}))},Ww=(e,t,o)=>({element:e,width:t,rows:o}),iO=(e,t)=>({element:e,cells:t}),tX=(e,t)=>({x:e,y:t}),aO=(e,t)=>ui(e,t).bind(Ih).getOr(1),nX=(e,t,o,s,l)=>{let u=aO(l,"rowspan"),d=aO(l,"colspan"),p=e.rows;for(let m=o;m<o+u;m++){p[m]||(p[m]=iO(Jk(s),[]));for(let v=t;v<t+d;v++){let b=p[m].cells;b[v]=m===o&&v===t?l:ll(l)}}},rX=(e,t,o)=>{let s=e.rows;return!!(s[o]?s[o].cells:[])[t]},oX=(e,t,o)=>{for(;rX(e,t,o);)t++;return t},lO=e=>Rn(e,(t,o)=>o.cells.length>t?o.cells.length:t,0),cO=(e,t)=>{let o=e.rows;for(let s=0;s<o.length;s++){let l=o[s].cells;for(let u=0;u<l.length;u++)if(mt(l[u],t))return D.some(tX(u,s))}return D.none()},uO=(e,t,o,s,l)=>{let u=[],d=e.rows;for(let p=o;p<=l;p++){let m=d[p].cells,v=t<s?m.slice(t,s+1):m.slice(s,t+1);u.push(iO(d[p].element,v))}return u},sX=(e,t,o)=>{let s=t.x,l=t.y,u=o.x,d=o.y,p=l<d?uO(e,s,l,u,d):uO(e,s,d,u,l);return Ww(e.element,lO(p),p)},iX=(e,t)=>{let o=ll(e.element),s=T.fromTag("tbody");return Ja(s,t),pn(o,s),o},aX=e=>rt(e.rows,t=>{let o=rt(t.cells,l=>{let u=Jk(l);return Pn(u,"colspan"),Pn(u,"rowspan"),u}),s=ll(t.element);return Ja(s,o),s}),lX=e=>{let t=Ww(ll(e),0,[]);return z(Jn(e,"tr"),(o,s)=>{z(Jn(o,"td,th"),(l,u)=>{nX(t,oX(t,u,s),s,o,l)})}),Ww(t.element,lO(t.rows),t.rows)},cX=e=>iX(e,aX(e)),uX=(e,t,o)=>cO(e,t).bind(s=>cO(e,o).map(l=>sX(e,s,l))),dX=e=>sn(e,t=>st(t)==="ul"||st(t)==="ol"),fX=(e,t)=>sn(e,o=>st(o)==="li"&&yC(o,t)).fold(re([]),o=>dX(e).map(s=>{let l=T.fromTag(st(s)),u=Pd(d0(s),(d,p)=>vn(p,"list-style"));return Rh(l,u),[T.fromTag("li"),l]}).getOr([])),pX=(e,t)=>{let o=Rn(t,(s,l)=>(pn(l,s),l),e);return t.length>0?RC([o]):o},hX=e=>Oc(e)?es(e).filter(U0).fold(re([]),t=>[e,t]):U0(e)?[e]:[],mX=(e,t,o)=>{let s=T.fromDom(t.commonAncestorContainer),l=bi(s,e),u=Te(l,m=>o.isWrapper(st(m))),d=fX(l,t),p=u.concat(d.length?d:hX(s));return rt(p,ll)},dO=()=>RC([]),gX=(e,t,o)=>pX(T.fromDom(t.cloneContents()),mX(e,t,o)),vX=(e,t)=>qd(t,"table",pe(mt,e)),yX=(e,t)=>vX(e,t[0]).bind(o=>{let s=t[0],l=t[t.length-1],u=lX(o);return uX(u,s,l).map(d=>RC([cX(d)]))}).getOrThunk(dO),bX=(e,t,o)=>t.length>0&&t[0].collapsed?dO():gX(e,t[0],o),CX=(e,t,o)=>{let s=AM(t,e);return s.length>0?yX(e,s):bX(e,t,o)},Vm=(e,t)=>t>=0&&t<e.length&&zc(e.charAt(t)),fO=e=>Ur(e.innerText),wX=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),EX=e=>D.from(e.selection.getRng()).map(t=>{var o;let s=D.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),l=e.getBody(),u=wX(s),d=T.fromDom(t.cloneContents());$N(d),jN(d);let p=e.dom.add(l,u,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},d.dom),m=fO(p),v=Ur((o=p.textContent)!==null&&o!==void 0?o:"");if(e.dom.remove(p),Vm(v,0)||Vm(v,v.length-1)){let b=s.getOr(l),C=fO(b),E=C.indexOf(m);if(E===-1)return m;{let x=Vm(C,E-1),I=Vm(C,E+m.length);return(x?" ":"")+m+(I?" ":"")}}else return m}).getOr(""),DX=(e,t)=>{let o=e.selection.getRng(),s=e.dom.create("body"),l=e.selection.getSel(),u=WC(e,gC(l)),d=t.contextual?CX(T.fromDom(e.getBody()),u,e.schema).dom:o.cloneContents();return d&&s.appendChild(d),e.selection.serializer.serialize(s,t)},_X=(e,t)=>{if(t.format==="text")return EX(e);{let o=DX(e,t);return t.format==="tree"?o:e.selection.isCollapsed()?"":o}},xX=(e,t)=>Me(W({},e),{format:t,get:!0,selection:!0,getInner:!0}),SX=(e,t,o={})=>{let s=xX(o,t);return oO(e,s).fold(_n,l=>{let u=_X(e,l);return sO(e,u,l)})},qw=0,pO=1,hO=2,IX=(e,t)=>{let o=e.length+t.length+2,s=new Array(o),l=new Array(o),u=(b,C,E)=>({start:b,end:C,diag:E}),d=(b,C,E,x,I)=>{let S=m(b,C,E,x);if(S===null||S.start===C&&S.diag===C-x||S.end===b&&S.diag===b-E){let A=b,M=E;for(;A<C||M<x;)A<C&&M<x&&e[A]===t[M]?(I.push([qw,e[A]]),++A,++M):C-b>x-E?(I.push([hO,e[A]]),++A):(I.push([pO,t[M]]),++M)}else{d(b,S.start,E,S.start-S.diag,I);for(let A=S.start;A<S.end;++A)I.push([qw,e[A]]);d(S.end,C,S.end-S.diag,x,I)}},p=(b,C,E,x)=>{let I=b;for(;I-C<x&&I<E&&e[I]===t[I-C];)++I;return u(b,I,C)},m=(b,C,E,x)=>{let I=C-b,S=x-E;if(I===0||S===0)return null;let A=I-S,M=S+I,R=(M%2===0?M:M+1)/2;s[1+R]=b,l[1+R]=C+1;let N,O,q,X,ae;for(N=0;N<=R;++N){for(O=-N;O<=N;O+=2){for(q=O+R,O===-N||O!==N&&s[q-1]<s[q+1]?s[q]=s[q+1]:s[q]=s[q-1]+1,X=s[q],ae=X-b+E-O;X<C&&ae<x&&e[X]===t[ae];)s[q]=++X,++ae;if(A%2!==0&&A-N<=O&&O<=A+N&&l[q-A]<=s[q])return p(l[q-A],O+b-E,C,x)}for(O=A-N;O<=A+N;O+=2){for(q=O+R-A,O===A-N||O!==A+N&&l[q+1]<=l[q-1]?l[q]=l[q+1]-1:l[q]=l[q-1],X=l[q]-1,ae=X-b+E-O;X>=b&&ae>=E&&e[X]===t[ae];)l[q]=X--,ae--;if(A%2===0&&-N<=O&&O<=N&&l[q]<=s[q+A])return p(l[q],O+b-E,C,x)}}return null},v=[];return d(0,e.length,0,t.length,v),v},Gw=e=>ge(e)?e.outerHTML:Q(e)?sl.encodeRaw(e.data,!1):sa(e)?"<!--"+e.data+"-->":"",AX=e=>{let t,o=document.createElement("div"),s=document.createDocumentFragment();for(e&&(o.innerHTML=e);t=o.firstChild;)s.appendChild(t);return s},kX=(e,t,o)=>{let s=AX(t);if(e.hasChildNodes()&&o<e.childNodes.length){let l=e.childNodes[o];e.insertBefore(s,l)}else e.appendChild(s)},TX=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){let o=e.childNodes[t];e.removeChild(o)}},MX=(e,t)=>{let o=0;z(e,s=>{s[0]===qw?o++:s[0]===pO?(kX(t,s[1],o),o++):s[0]===hO&&TX(t,o)})},NX=(e,t)=>Te(rt(Vr(e.childNodes),t?Mt(Ur,Gw):Gw),o=>o.length>0),RX=(e,t)=>{let o=rt(Vr(t.childNodes),Gw);return MX(IX(o,e),t),t},OX=ks(()=>document.implementation.createHTMLDocument("undo")),PX=e=>e.querySelector("iframe")!==null,FX=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),LX=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),$m=e=>{let t=e.serializer.getTempAttrs(),o=VN(e.getBody(),t);return PX(o)?FX(NX(o,!0)):LX(Ur(o.innerHTML))},Kw=(e,t,o)=>{let s=o?t.beforeBookmark:t.bookmark;t.type==="fragmented"?RX(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:G(s)&&DM(s)?!s.isFakeCaret:!0}),s&&(e.selection.moveToBookmark(s),e.selection.scrollIntoView())},Yw=e=>e.type==="fragmented"?e.fragments.join(""):e.content,mO=e=>{let t=T.fromTag("body",OX());return Fh(t,Yw(e)),z(Jn(t,"*[data-mce-bogus]"),oa),JA(t)},BX=(e,t)=>Yw(e)===Yw(t),VX=(e,t)=>mO(e)===mO(t),Zw=(e,t)=>!e||!t?!1:BX(e,t)?!0:VX(e,t),Qw=e=>e.get()===0,jm=(e,t,o)=>{Qw(o)&&(e.typing=t)},gO=(e,t)=>{e.typing&&(jm(e,!1,t),e.add())},$X=e=>{e.typing&&(e.typing=!1,e.add())},jX=(e,t,o)=>{Qw(t)&&o.set(eC(e.selection))},UX=(e,t,o,s,l,u,d)=>{let p=$m(e),m=ee.extend(u||{},p);if(!Qw(s)||e.removed)return null;let v=t.data[o.get()];if(e.dispatch("BeforeAddUndo",{level:m,lastLevel:v,originalEvent:d}).isDefaultPrevented()||v&&Zw(v,m))return null;t.data[o.get()]&&l.get().each(E=>{t.data[o.get()].beforeBookmark=E});let b=N5(e);if(b&&t.data.length>b){for(let E=0;E<t.data.length-1;E++)t.data[E]=t.data[E+1];t.data.length--,o.set(t.data.length)}m.bookmark=eC(e.selection),o.get()<t.data.length-1&&(t.data.length=o.get()+1),t.data.push(m),o.set(t.data.length-1);let C={level:m,lastLevel:v,originalEvent:d};return o.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",C),e.dispatch("change",C)):e.dispatch("AddUndo",C),m},HX=(e,t,o)=>{t.data=[],o.set(0),t.typing=!1,e.dispatch("ClearUndos")},zX=(e,t,o,s,l)=>{if(t.transact(s)){let u=t.data[o.get()].bookmark,d=t.data[o.get()-1];Kw(e,d,!0),t.transact(l)&&(t.data[o.get()-1].beforeBookmark=u)}},WX=(e,t,o)=>{let s;return t.get()<o.length-1&&(t.set(t.get()+1),s=o[t.get()],Kw(e,s,!1),e.setDirty(!0),e.dispatch("Redo",{level:s})),s},qX=(e,t,o,s)=>{let l;return t.typing&&(t.add(),t.typing=!1,jm(t,!1,o)),s.get()>0&&(s.set(s.get()-1),l=t.data[s.get()],Kw(e,l,!0),e.setDirty(!0),e.dispatch("Undo",{level:l})),l},GX=e=>{e.clear(),e.add()},KX=(e,t,o)=>o.get()>0||t.typing&&t.data[0]&&!Zw($m(e),t.data[0]),YX=(e,t)=>t.get()<e.data.length-1&&!e.typing,ZX=(e,t,o)=>(gO(e,t),e.beforeChange(),e.ignore(o),e.add()),QX=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},XX=(e,t)=>{let o=e.dom,s=G(t)?t:e.getBody();z(o.select("table,a",s),l=>{switch(l.nodeName){case"TABLE":let u=B5(e),d=o.getAttrib(l,"border");(!d||d==="0")&&e.hasVisual?o.addClass(l,u):o.removeClass(l,u);break;case"A":if(!o.getAttrib(l,"href")){let p=o.getAttrib(l,"name")||l.id,m=YT(e);p&&e.hasVisual?o.addClass(l,m):o.removeClass(l,m)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},vO=e=>({init:{bindEvents:Ne},undoManager:{beforeChange:(t,o)=>jX(e,t,o),add:(t,o,s,l,u,d)=>UX(e,t,o,s,l,u,d),undo:(t,o,s)=>qX(e,t,o,s),redo:(t,o)=>WX(e,t,o),clear:(t,o)=>HX(e,t,o),reset:t=>GX(t),hasUndo:(t,o)=>KX(e,t,o),hasRedo:(t,o)=>YX(t,o),transact:(t,o,s)=>ZX(t,o,s),ignore:(t,o)=>QX(t,o),extra:(t,o,s,l)=>zX(e,t,o,s,l)},formatter:{match:(t,o,s,l)=>Dw(e,t,o,s,l),matchAll:(t,o)=>cZ(e,t,o),matchNode:(t,o,s,l)=>Us(e,t,o,s,l),canApply:t=>dZ(e,t),closest:t=>uZ(e,t),apply:(t,o,s)=>ER(e,t,o,s),remove:(t,o,s,l)=>bR(e,t,o,s,l),toggle:(t,o,s)=>ZZ(e,t,o,s),formatChanged:(t,o,s,l,u)=>YZ(e,t,o,s,l,u)},editor:{getContent:t=>L7(e,t),setContent:(t,o)=>aZ(e,t,o),insertContent:(t,o)=>rZ(e,t,o),addVisual:t=>XX(e,t)},selection:{getContent:(t,o)=>SX(e,t,o)},autocompleter:{addDecoration:Ne,removeDecoration:Ne},raw:{getModel:()=>D.none()}}),JX=e=>{let t=v=>Fe(v)?v:{},{init:o,undoManager:s,formatter:l,editor:u,selection:d,autocompleter:p,raw:m}=e;return{init:{bindEvents:o.bindEvents},undoManager:{beforeChange:s.beforeChange,add:s.add,undo:s.undo,redo:s.redo,clear:s.clear,reset:s.reset,hasUndo:s.hasUndo,hasRedo:s.hasRedo,transact:(v,b,C)=>s.transact(C),ignore:(v,b)=>s.ignore(b),extra:(v,b,C,E)=>s.extra(C,E)},formatter:{match:(v,b,C,E)=>l.match(v,t(b),E),matchAll:l.matchAll,matchNode:l.matchNode,canApply:v=>l.canApply(v),closest:v=>l.closest(v),apply:(v,b,C)=>l.apply(v,t(b)),remove:(v,b,C,E)=>l.remove(v,t(b)),toggle:(v,b,C)=>l.toggle(v,t(b)),formatChanged:(v,b,C,E,x)=>l.formatChanged(b,C,E,x)},editor:{getContent:v=>u.getContent(v),setContent:(v,b)=>({content:u.setContent(v,b),html:""}),insertContent:(v,b)=>(u.insertContent(v),""),addVisual:u.addVisual},selection:{getContent:(v,b)=>d.getContent(b)},autocompleter:{addDecoration:p.addDecoration,removeDecoration:p.removeDecoration},raw:{getModel:()=>D.some(m.getRawModel())}}},eJ=()=>{let e=re(null),t=re("");return{init:{bindEvents:Ne},undoManager:{beforeChange:Ne,add:e,undo:e,redo:e,clear:Ne,reset:Ne,hasUndo:wt,hasRedo:wt,transact:e,ignore:Ne,extra:Ne},formatter:{match:wt,matchAll:re([]),matchNode:re(void 0),canApply:wt,closest:t,apply:Ne,remove:Ne,toggle:Ne,formatChanged:re({unbind:Ne})},editor:{getContent:t,setContent:re({content:"",html:""}),insertContent:re(""),addVisual:Ne},selection:{getContent:t},autocompleter:{addDecoration:Ne,removeDecoration:Ne},raw:{getModel:re(D.none())}}},Hs=e=>Pe(e.plugins,"rtc"),tJ=e=>Ft(e.plugins,"rtc").bind(t=>D.from(t.setup)),nJ=e=>{let t=e;return tJ(e).fold(()=>(t.rtcInstance=vO(e),D.none()),o=>(t.rtcInstance=eJ(),D.some(()=>o().then(s=>(t.rtcInstance=JX(s),s.rtc.isRemote)))))},Xw=e=>e.rtcInstance?e.rtcInstance:vO(e),hn=e=>{let t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},rJ=(e,t,o)=>{hn(e).undoManager.beforeChange(t,o)},oJ=(e,t,o,s,l,u,d)=>hn(e).undoManager.add(t,o,s,l,u,d),sJ=(e,t,o,s)=>hn(e).undoManager.undo(t,o,s),iJ=(e,t,o)=>hn(e).undoManager.redo(t,o),aJ=(e,t,o)=>{hn(e).undoManager.clear(t,o)},lJ=(e,t)=>{hn(e).undoManager.reset(t)},cJ=(e,t,o)=>hn(e).undoManager.hasUndo(t,o),uJ=(e,t,o)=>hn(e).undoManager.hasRedo(t,o),dJ=(e,t,o,s)=>hn(e).undoManager.transact(t,o,s),fJ=(e,t,o)=>{hn(e).undoManager.ignore(t,o)},pJ=(e,t,o,s,l)=>{hn(e).undoManager.extra(t,o,s,l)},hJ=(e,t,o,s,l)=>hn(e).formatter.match(t,o,s,l),mJ=(e,t,o)=>hn(e).formatter.matchAll(t,o),gJ=(e,t,o,s,l)=>hn(e).formatter.matchNode(t,o,s,l),vJ=(e,t)=>hn(e).formatter.canApply(t),yJ=(e,t)=>hn(e).formatter.closest(t),bJ=(e,t,o,s)=>{hn(e).formatter.apply(t,o,s)},CJ=(e,t,o,s,l)=>{hn(e).formatter.remove(t,o,s,l)},wJ=(e,t,o,s)=>{hn(e).formatter.toggle(t,o,s)},EJ=(e,t,o,s,l,u)=>hn(e).formatter.formatChanged(t,o,s,l,u),DJ=(e,t)=>Xw(e).editor.getContent(t),_J=(e,t,o)=>Xw(e).editor.setContent(t,o),xJ=(e,t,o)=>Xw(e).editor.insertContent(t,o),SJ=(e,t,o)=>hn(e).selection.getContent(t,o),IJ=(e,t)=>hn(e).editor.addVisual(t),yO=e=>hn(e).init.bindEvents(),AJ=(e,t={})=>{let o=t.format?t.format:"html";return SJ(e,o,t)},bO=e=>e.dom.length===0?(Lt(e),D.none()):D.some(e),kJ=(e,t)=>e.filter(o=>_f.isBookmarkNode(o.dom)).bind(t?Wd:Za),TJ=(e,t,o,s,l)=>{let u=e.dom,d=t.dom,p=s?u.length:d.length;s?(tw(u,d,l,!1,!s),o.setStart(d,p)):(tw(d,u,l,!1,!s),o.setEnd(d,p))},MJ=(e,t,o)=>{es(e).each(s=>{let l=e.dom;t&&kf(s,j(l,0),o)?Im(l,0,o):!t&&Tf(s,j(l,l.length),o)&&ew(l,l.length,o)})},CO=(e,t,o,s,l)=>{e.bind(u=>((s?ew:Im)(u.dom,s?u.dom.length:0,l),t.filter(Xr).map(p=>TJ(u,p,o,s,l)))).orThunk(()=>kJ(t,s).or(t).filter(Xr).map(d=>MJ(d,s,l)))},NJ=(e,t,o)=>{let s=D.from(t.firstChild).map(T.fromDom),l=D.from(t.lastChild).map(T.fromDom);e.deleteContents(),e.insertNode(t);let u=s.bind(Za).filter(Xr).bind(bO),d=l.bind(Wd).filter(Xr).bind(bO);CO(u,s,e,!0,o),CO(d,l,e,!1,o),e.collapse(!1)},RJ=(e,t)=>Me(W({format:"html"},e),{set:!0,selection:!0,content:t}),OJ=(e,t)=>{if(t.format!=="raw"){let o=e.selection.getRng(),s=e.dom.getParent(o.commonAncestorContainer,e.dom.isBlock),l=s?{context:s.nodeName.toLowerCase()}:{},u=e.parser.parse(t.content,W(W({forced_root_block:!1},l),t));return pa({validate:!1},e.schema).serialize(u)}else return t.content},PJ=(e,t,o={})=>{let s=RJ(o,t);Hw(e,s).each(l=>{let u=OJ(e,l),d=e.selection.getRng();NJ(d,d.createContextualFragment(u),e.schema),e.selection.setRng(d),Sf(e,d),zw(e,u,l)})},wO=(e,t,o)=>{if(Pe(e,t)){let s=Te(e[t],l=>l!==o);s.length===0?delete e[t]:e[t]=s}};var FJ=(e,t)=>{let o,s,l=(p,m)=>sn(m,v=>e.is(v,p)),u=p=>e.getParents(p,void 0,e.getRoot()),d=()=>{o={},s={},t.on("NodeChange",p=>{let m=p.element,v=u(m),b={};kt(o,(C,E)=>{l(E,v).each(x=>{s[E]||(z(C,I=>{I(!0,{node:x,selector:E,parents:v})}),s[E]=C),b[E]=C})}),kt(s,(C,E)=>{b[E]||(delete s[E],z(C,x=>{x(!1,{node:m,selector:E,parents:v})}))})})};return{selectorChangedWithUnbind:(p,m)=>(o||d(),o[p]||(o[p]=[]),o[p].push(m),l(p,u(t.selection.getStart())).each(()=>{s[p]=o[p]}),{unbind:()=>{wO(o,p,m),wO(s,p,m)}})}};let EO=e=>!!(e&&e.ownerDocument)&&Cr(T.fromDom(e.ownerDocument),T.fromDom(e)),LJ=e=>e?EO(e.startContainer)&&EO(e.endContainer):!1,DO=(e,t,o,s)=>{let l,u,{selectorChangedWithUnbind:d}=FJ(e,s),p=(ne,me)=>{let Je=e.createRng();G(ne)&&G(me)?(Je.setStart(ne,me),Je.setEnd(ne,me),O(Je),M(!1)):(bC(e,Je,s.getBody(),!0),O(Je))},m=ne=>AJ(s,ne),v=(ne,me)=>PJ(s,ne,me),b=ne=>TN(s.getBody(),N(),ne),C=ne=>MN(s.getBody(),N(),ne),E=(ne,me)=>An.getBookmark(ne,me),x=ne=>An.moveToBookmark(ne),I=(ne,me)=>(D7(e,ne,me).each(O),ne),S=()=>{let ne=N(),me=R();return!ne||ne.item?!1:ne.compareEndPoints?ne.compareEndPoints("StartToEnd",ne)===0:!me||ne.collapsed},A=()=>{let ne=N(),me=s.getBody().querySelectorAll('[data-mce-selected="1"]');return me.length>0?ko(me,Je=>e.isEditable(Je.parentElement)):AN(e,ne)},M=ne=>{let me=N();me.collapse(!!ne),O(me)},R=()=>t.getSelection?t.getSelection():t.document.selection,N=()=>{let ne,me=(se,we,je)=>{try{return we.compareBoundaryPoints(se,je)}catch{return-1}},Je=t.document;if(G(s.bookmark)&&!Zc(s)){let se=VC(s);if(se.isSome())return se.map(we=>WC(s,[we])[0]).getOr(Je.createRange())}try{let se=R();se&&!Bh(se.anchorNode)&&(se.rangeCount>0?ne=se.getRangeAt(0):ne=Je.createRange(),ne=WC(s,[ne])[0])}catch{}if(ne||(ne=Je.createRange()),Zd(ne.startContainer)&&ne.collapsed){let se=e.getRoot();ne.setStart(se,0),ne.setEnd(se,0)}return l&&u&&(me(ne.START_TO_START,ne,l)===0&&me(ne.END_TO_END,ne,l)===0?ne=u:(l=null,u=null)),ne},O=(ne,me)=>{if(!LJ(ne))return;let Je=R();if(ne=s.dispatch("SetSelectionRange",{range:ne,forward:me}).range,Je){u=ne;try{Je.removeAllRanges(),Je.addRange(ne)}catch{}me===!1&&Je.extend&&(Je.collapse(ne.endContainer,ne.endOffset),Je.extend(ne.startContainer,ne.startOffset)),l=Je.rangeCount>0?Je.getRangeAt(0):null}if(!ne.collapsed&&ne.startContainer===ne.endContainer&&Je?.setBaseAndExtent&&ne.endOffset-ne.startOffset<2&&ne.startContainer.hasChildNodes()){let we=ne.startContainer.childNodes[ne.startOffset];we&&we.nodeName==="IMG"&&(Je.setBaseAndExtent(ne.startContainer,ne.startOffset,ne.endContainer,ne.endOffset),(Je.anchorNode!==ne.startContainer||Je.focusNode!==ne.endContainer)&&Je.setBaseAndExtent(we,0,we,1))}s.dispatch("AfterSetSelectionRange",{range:ne,forward:me})},q=ne=>(v(e.getOuterHTML(ne)),ne),X=()=>w7(s.getBody(),N()),ae=(ne,me)=>E7(e,N(),ne,me),U=()=>{let ne=R(),me=ne?.anchorNode,Je=ne?.focusNode;if(!ne||!me||!Je||Bh(me)||Bh(Je))return!0;let se=e.createRng(),we=e.createRng();try{se.setStart(me,ne.anchorOffset),se.collapse(!0),we.setStart(Je,ne.focusOffset),we.collapse(!0)}catch{return!0}return se.compareBoundaryPoints(se.START_TO_START,we)<=0},zt={dom:e,win:t,serializer:o,editor:s,expand:(ne={type:"word"})=>O(yl(e).expand(N(),ne)),collapse:M,setCursorLocation:p,getContent:m,setContent:v,getBookmark:E,moveToBookmark:x,select:I,isCollapsed:S,isEditable:A,isForward:U,setNode:q,getNode:X,getSel:R,setRng:O,getRng:N,getStart:b,getEnd:C,getSelectedBlocks:ae,normalize:()=>{let ne=N(),me=R();if(!i9(me)&&fm(s)){let Je=bm(e,ne);return Je.each(se=>{O(se,U())}),Je.getOr(ne)}return ne},selectorChanged:(ne,me)=>(d(ne,me),zt),selectorChangedWithUnbind:d,getScrollContainer:()=>{let ne,me=e.getRoot();for(;me&&me.nodeName!=="BODY";){if(me.scrollHeight>me.clientHeight){ne=me;break}me=me.parentNode}return ne},scrollIntoView:(ne,me)=>{G(ne)?WG(s,ne,me):Sf(s,N(),me)},placeCaretAt:(ne,me)=>O(aN(ne,me,s.getDoc())),getBoundingClientRect:()=>{let ne=N();return ne.collapsed?j.fromRangeStart(ne).getClientRects()[0]:ne.getBoundingClientRect()},destroy:()=>{t=l=u=null,vt.destroy()}},An=_f(zt),vt=nN(zt,s);return zt.bookmarkManager=An,zt.controlSelection=vt,zt},BJ=(e,t,o)=>{t.addNodeFilter("br",(s,l,u)=>{let d=ee.extend({},o.getBlockElements()),p=o.getNonEmptyElements(),m=o.getWhitespaceElements();d.body=1;let v=b=>b.name in d||S0(o,b);for(let b=0,C=s.length;b<C;b++){let E=s[b],x=E.parent;if(x&&v(x)&&E===x.lastChild){let I=E.prev;for(;I;){let S=I.name;if(S!=="span"||I.attr("data-mce-type")!=="bookmark"){S==="br"&&(E=null);break}I=I.prev}if(E&&(E.remove(),Nf(o,p,m,x))){let S=o.getElementRule(x.name);S&&(S.removeEmpty?x.remove():S.paddEmpty&&fw(e,u,v,x))}}else{let I=E;for(;x&&x.firstChild===I&&x.lastChild===I&&(I=x,!d[x.name]);)x=x.parent;if(I===x){let S=new fr("#text",3);S.value=Sn,E.replace(S)}}}})},VJ=(e,t,o)=>{e.addAttributeFilter("data-mce-tabindex",(s,l)=>{let u=s.length;for(;u--;){let d=s[u];d.attr("tabindex",d.attr("data-mce-tabindex")),d.attr(l,null)}}),e.addAttributeFilter("src,href,style",(s,l)=>{let u="data-mce-"+l,d=t.url_converter,p=t.url_converter_scope,m=s.length;for(;m--;){let v=s[m],b=v.attr(u);b!==void 0?(v.attr(l,b.length>0?b:null),v.attr(u,null)):(b=v.attr(l),l==="style"?b=o.serializeStyle(o.parseStyle(b),v.name):d&&(b=d.call(p,b,l,v.name)),v.attr(l,b.length>0?b:null))}}),e.addAttributeFilter("class",s=>{let l=s.length;for(;l--;){let u=s[l],d=u.attr("class");d&&(d=d.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),u.attr("class",d.length>0?d:null))}}),e.addAttributeFilter("data-mce-type",(s,l,u)=>{let d=s.length;for(;d--;){let p=s[d];p.attr("data-mce-type")==="bookmark"&&!u.cleanup&&(D.from(p.firstChild).exists(v=>{var b;return!Zh((b=v.value)!==null&&b!==void 0?b:"")})?p.unwrap():p.remove())}}),e.addNodeFilter("script,style",(s,l)=>{var u;let d=m=>m.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,""),p=s.length;for(;p--;){let m=s[p],v=m.firstChild,b=(u=v?.value)!==null&&u!==void 0?u:"";if(l==="script"){let C=m.attr("type");C&&m.attr("type",C==="mce-no/type"?null:C.replace(/^mce\-/,"")),t.element_format==="xhtml"&&v&&b.length>0&&(v.value=`// <![CDATA[
`+d(b)+`
// ]]>`)}else t.element_format==="xhtml"&&v&&b.length>0&&(v.value=`<!--
`+d(b)+`
-->`)}}),e.addNodeFilter("#comment",s=>{let l=s.length;for(;l--;){let u=s[l],d=u.value;t.preserve_cdata&&d?.indexOf("[CDATA[")===0?(u.name="#cdata",u.type=4,u.value=o.decode(d.replace(/^\[CDATA\[|\]\]$/g,""))):d?.indexOf("mce:protected ")===0&&(u.name="#text",u.type=3,u.raw=!0,u.value=unescape(d).substr(14))}}),e.addNodeFilter("xml:namespace,input",(s,l)=>{let u=s.length;for(;u--;){let d=s[u];d.type===7?d.remove():d.type===1&&l==="input"&&!d.attr("type")&&d.attr("type","text")}}),e.addAttributeFilter("data-mce-type",s=>{z(s,l=>{l.attr("data-mce-type")==="format-caret"&&(l.isEmpty(e.schema.getNonEmptyElements())?l.remove():l.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(s,l)=>{let u=s.length;for(;u--;)s[u].attr(l,null)}),t.remove_trailing_brs&&BJ(t,e,e.schema)},$J=e=>{let t=s=>s?.name==="br",o=e.lastChild;if(t(o)){let s=o.prev;t(s)&&(o.remove(),s.remove())}},jJ=(e,t,o)=>{let s,l=e.dom,u=t.cloneNode(!0),d=document.implementation;if(d.createHTMLDocument){let p=d.createHTMLDocument("");ee.each(u.nodeName==="BODY"?u.childNodes:[u],m=>{p.body.appendChild(p.importNode(m,!0))}),u.nodeName!=="BODY"?u=p.body.firstChild:u=p.body,s=l.doc,l.doc=p}return N9(e,Me(W({},o),{node:u})),s&&(l.doc=s),u},UJ=(e,t)=>G(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,HJ=(e,t,o)=>UJ(e,o)?jJ(e,t,o):t,zJ=(e,t,o)=>{ee.inArray(t,o)===-1&&(e.addAttributeFilter(o,(s,l)=>{let u=s.length;for(;u--;)s[u].attr(l,null)}),t.push(o))},WJ=(e,t,o)=>!t.no_events&&e?R9(e,Me(W({},t),{content:o})).content:o,qJ=(e,t,o)=>{let s=Ur(o.getInner?t.innerHTML:e.getOuterHTML(t));return o.selection||Yh(T.fromDom(t))?s:ee.trim(s)},GJ=(e,t,o)=>{let s=o.selection?W({forced_root_block:!1},o):o,l=e.parse(t,s);return $J(l),l},KJ=(e,t,o)=>pa(e,t).serialize(o),YJ=(e,t,o,s,l)=>{let u=KJ(t,o,s);return WJ(e,l,u)},ZJ=(e,t)=>{let o=["data-mce-selected"],s=W({entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1},e),l=t&&t.dom?t.dom:At.DOM,u=t&&t.schema?t.schema:ia(s),d=Jc(s,u);VJ(d,s,l);let p=(m,v={})=>{let b=W({format:"html"},v),C=HJ(t,m,b),E=qJ(l,C,b),x=GJ(d,E,b);return b.format==="tree"?x:YJ(t,s,u,x,b)};return{schema:u,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:p,addRules:u.addValidElements,setRules:u.setValidElements,addTempAttr:pe(zJ,d,o),getTempAttrs:re(o),getNodeFilters:d.getNodeFilters,getAttributeFilters:d.getAttributeFilters,removeNodeFilter:d.removeNodeFilter,removeAttributeFilter:d.removeAttributeFilter}},_O=(e,t)=>{let o=ZJ(e,t);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},QJ="html",XJ=(e,t)=>Me(W({},e),{format:t,get:!0,getInner:!0}),JJ=(e,t={})=>{let o=t.format?t.format:QJ,s=XJ(t,o);return oO(e,s).fold(_n,l=>{let u=DJ(e,l);return sO(e,u,l)})},eee="html",tee=(e,t)=>Me(W({format:eee},e),{set:!0,content:t}),Jw=(e,t,o={})=>{let s=tee(o,t);return Hw(e,s).map(l=>{let u=_J(e,l.content,l);return zw(e,u.html,l),u.content}).getOr(t)},nee="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),ree=[],oee="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),xO=[],SO=(e,t)=>{let o=Te(t,s=>Pe(e,s));return Ga(o)},see=e=>{let t=SO(e,nee),o=e.forced_root_block;return(o===!1||o==="")&&t.push("forced_root_block (false only)"),Ga(t)},iee=e=>SO(e,ree),IO=(e,t)=>{let o=ee.makeMap(e.plugins," "),l=Te(t,u=>Pe(o,u));return Ga(l)},aee=e=>IO(e,oee),lee=e=>IO(e,xO.map(t=>t.name)),cee=(e,t)=>{let o=see(e),s=aee(t),l=s.length>0,u=o.length>0,d=t.theme==="mobile";if(l||u||d){let p=`
- `,m=d?`

Themes:${p}mobile`:"",v=l?`

Plugins:${p}${s.join(p)}`:"",b=u?`

Options:${p}${o.join(p)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+m+v+b)}},uee=e=>sn(xO,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),dee=(e,t)=>{let o=iee(e),s=lee(t),l=s.length>0,u=o.length>0;if(l||u){let d=`
- `,p=l?`

Plugins:${d}${s.map(uee).join(d)}`:"",m=u?`

Options:${d}${o.join(d)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+p+m)}},fee=(e,t)=>{cee(e,t),dee(e,t)},Um=At.DOM,pee=e=>{Um.setStyle(e.id,"display",e.orgDisplay)},Hm=e=>D.from(e).each(t=>t.destroy()),hee=e=>{let t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;let o=e.selection;if(o){let s=o.dom;t.selection=o.win=o.dom=s.doc=null}},mee=e=>{let t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Um.unbind(t,"submit reset",e.formEventDelegate))},gee=e=>{if(!e.removed){let{_selectionOverrides:t,editorUpload:o}=e,s=e.getBody(),l=e.getElement();s&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&G(l?.nextSibling)&&Um.remove(l.nextSibling),O9(e),e.editorManager.remove(e),!e.inline&&s&&pee(e),P9(e),Um.remove(e.getContainer()),Hm(t),Hm(o),e.destroy()}},vee=(e,t)=>{let{selection:o,dom:s}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Hm(o),Hm(s)),mee(e),hee(e),e.destroyed=!0}},zm=(()=>{let e={};return{add:(l,u)=>{e[l]=u},get:l=>e[l]?e[l]:{icons:{}},has:l=>Pe(e,l)}})(),eu=dr.ModelManager,AO=(e,t)=>t.dom[e],kO=(e,t)=>parseInt(Os(t,e),10),yee=pe(AO,"clientWidth"),bee=pe(AO,"clientHeight"),Cee=pe(kO,"margin-top"),wee=pe(kO,"margin-left"),Eee=e=>e.dom.getBoundingClientRect(),Dee=(e,t,o)=>{let s=yee(e),l=bee(e);return t>=0&&o>=0&&t<=s&&o<=l},_ee=(e,t,o,s)=>{let l=Eee(t),u=e?l.left+t.dom.clientLeft+wee(t):0,d=e?l.top+t.dom.clientTop+Cee(t):0,p=o-u,m=s-d;return{x:p,y:m}},xee=(e,t,o)=>{let s=T.fromDom(e.getBody()),l=e.inline?s:I4(s),u=_ee(e.inline,l,t,o);return Dee(l,u.x,u.y)},See=e=>D.from(e).map(T.fromDom),Iee=e=>{let t=e.inline?e.getBody():e.getContentAreaContainer();return See(t).map(Sc).getOr(!1)};var Aee=()=>{let e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};let TO=e=>{let t=[],o=()=>{let E=e.theme;return E&&E.getNotificationManagerImpl?E.getNotificationManagerImpl():Aee()},s=()=>D.from(t[0]),l=(E,x)=>E.type===x.type&&E.text===x.text&&!E.progressBar&&!E.timeout&&!x.progressBar&&!x.timeout,u=()=>{s().each(E=>{E.reposition()})},d=E=>{t.push(E)},p=E=>{As(t,x=>x===E).each(x=>{t.splice(x,1)})},m=(E,x=!0)=>e.removed||!Iee(e)?{}:(x&&e.dispatch("BeforeOpenNotification",{notification:E}),sn(t,I=>l(o().getArgs(I),E)).getOrThunk(()=>{e.editorManager.setActive(e);let I=o().open(E,()=>{p(I)},()=>IN(e));return d(I),u(),e.dispatch("OpenNotification",{notification:W({},I)}),I})),v=()=>{s().each(E=>{o().close(E),p(E),u()})},b=re(t);return(E=>{E.on("SkinLoaded",()=>{let x=C5(E);x&&m({text:x,type:"warning",timeout:0},!1),u()}),E.on("show ResizeEditor NodeChange",()=>{requestAnimationFrame(u)}),E.on("remove",()=>{z(t.slice(),x=>{o().close(x)})}),E.addShortcut("alt+F12","Focus to notification",()=>s().map(x=>T.fromDom(x.getEl())).each(x=>CN(x)))})(e),{open:m,close:v,getNotifications:b}},tu=dr.PluginManager,Dl=dr.ThemeManager;var kee=()=>{let e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};let MO=e=>{let t=[],o=()=>{let S=e.theme;return S&&S.getWindowManagerImpl?S.getWindowManagerImpl():kee()},s=(S,A)=>(...M)=>A?A.apply(S,M):void 0,l=S=>{e.dispatch("OpenWindow",{dialog:S})},u=S=>{e.dispatch("CloseWindow",{dialog:S})},d=S=>{t.push(S),l(S)},p=S=>{u(S),t=Te(t,A=>A!==S),t.length===0&&e.focus()},m=()=>D.from(t[t.length-1]),v=S=>{e.editorManager.setActive(e),Em(e),e.ui.show();let A=S();return d(A),A},b=(S,A)=>v(()=>o().open(S,A,p)),C=S=>v(()=>o().openUrl(S,p)),E=(S,A,M)=>{let R=o();R.alert(S,s(M||R,A))},x=(S,A,M)=>{let R=o();R.confirm(S,s(M||R,A))},I=()=>{m().each(S=>{o().close(S),p(S)})};return e.on("remove",()=>{z(t,S=>{o().close(S)})}),{open:b,openUrl:C,alert:E,confirm:x,close:I}},NO=(e,t)=>{e.notificationManager.open({type:"error",text:t})},Wm=(e,t)=>{e._skinLoaded?NO(e,t):e.on("SkinLoaded",()=>{NO(e,t)})},Tee=(e,t)=>{Wm(e,rs.translate(["Failed to upload image: {0}",t]))},Bf=(e,t,o)=>{YM(e,t,{message:o}),console.error(o)},Vf=(e,t,o)=>o?`Failed to load ${e}: ${o} from url ${t}`:`Failed to load ${e} url: ${t}`,Mee=(e,t,o)=>{Bf(e,"PluginLoadError",Vf("plugin",t,o))},Nee=(e,t,o)=>{Bf(e,"IconsLoadError",Vf("icons",t,o))},Ree=(e,t,o)=>{Bf(e,"LanguageLoadError",Vf("language",t,o))},Oee=(e,t,o)=>{Bf(e,"ThemeLoadError",Vf("theme",t,o))},Pee=(e,t,o)=>{Bf(e,"ModelLoadError",Vf("model",t,o))},Fee=(e,t,o)=>{let s=rs.translate(["Failed to initialize plugin: {0}",t]);YM(e,"PluginLoadError",{message:s}),qm(s,o),Wm(e,s)},qm=(e,...t)=>{let o=window.console;o&&(o.error?o.error(e,...t):o.log(e,...t))},Lee=e=>/^[a-z0-9\-]+$/i.test(e),eE=e=>"content/"+e+"/content.css",Bee=e=>tinymce.Resource.has(eE(e)),Vee=e=>RO(e,h5(e)),$ee=e=>RO(e,zT(e)),RO=(e,t)=>{let o=e.editorManager.baseURL+"/skins/content",l=`content${e.editorManager.suffix}.css`;return rt(t,u=>Bee(u)?u:Lee(u)&&!e.inline?`${o}/${u}/${l}`:e.documentBaseURI.toAbsolute(u))},jee=e=>{e.contentCSS=e.contentCSS.concat(Vee(e),$ee(e))},Uee=e=>e?Vr(e.getElementsByTagName("img")):[],Hee=(e,t)=>{let o={};return{findAll:(l,u=Ut)=>{let d=Te(Uee(l),m=>{let v=m.src;return m.hasAttribute("data-mce-bogus")||m.hasAttribute("data-mce-placeholder")||!v||v===ct.transparentSrc?!1:vn(v,"blob:")?!e.isUploaded(v)&&u(m):vn(v,"data:")?u(m):!1}),p=rt(d,m=>{let v=m.src;if(Pe(o,v))return o[v].then(b=>te(b)?b:{image:m,blobInfo:b.blobInfo});{let b=lQ(t,v).then(C=>(delete o[v],{image:m,blobInfo:C})).catch(C=>(delete o[v],C));return o[v]=b,b}});return Promise.all(p)}}},OO=()=>{let o={},s=(E,x)=>({status:E,resultUri:x}),l=E=>E in o;return{hasBlobUri:l,getResultUri:E=>{let x=o[E];return x?x.resultUri:null},isPending:E=>l(E)?o[E].status===1:!1,isUploaded:E=>l(E)?o[E].status===2:!1,markPending:E=>{o[E]=s(1,null)},markUploaded:(E,x)=>{o[E]=s(2,x)},removeFailed:E=>{delete o[E]},destroy:()=>{o={}}}},zee=0,Wee=()=>{let e=()=>Math.round(Math.random()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},qee=e=>e+zee+++Wee(),Gee=()=>{let e=[],t=C=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[C.toLowerCase()]||"dat",o=(C,E,x,I,S)=>{if(te(C))return s({id:C,name:I,filename:S,blob:E,base64:x});if(Fe(C))return s(C);throw new Error("Unknown input type")},s=C=>{if(!C.blob||!C.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");let E=C.id||qee("blobid"),x=C.name||E,I=C.blob;return{id:re(E),name:re(x),filename:re(C.filename||x+"."+t(I.type)),blob:re(I),base64:re(C.base64),blobUri:re(C.blobUri||URL.createObjectURL(I)),uri:re(C.uri)}},l=C=>{d(C.id())||e.push(C)},u=C=>sn(e,C).getOrUndefined(),d=C=>u(E=>E.id()===C);return{create:o,add:l,get:d,getByUri:C=>u(E=>E.blobUri()===C),getByData:(C,E)=>u(x=>x.base64()===C&&x.blob().type===E),findFirst:u,removeByUri:C=>{e=Te(e,E=>E.blobUri()===C?(URL.revokeObjectURL(E.blobUri()),!1):!0)},destroy:()=>{z(e,C=>{URL.revokeObjectURL(C.blobUri())}),e=[]}}},Kee=(e,t)=>{let o={},s=(S,A)=>S?S.replace(/\/$/,"")+"/"+A.replace(/^\//,""):A,l=(S,A)=>new Promise((M,R)=>{let N=new XMLHttpRequest;N.open("POST",t.url),N.withCredentials=t.credentials,N.upload.onprogress=q=>{A(q.loaded/q.total*100)},N.onerror=()=>{R("Image upload failed due to a XHR Transport error. Code: "+N.status)},N.onload=()=>{if(N.status<200||N.status>=300){R("HTTP Error: "+N.status);return}let q=JSON.parse(N.responseText);if(!q||!te(q.location)){R("Invalid JSON: "+N.responseText);return}M(s(t.basePath,q.location))};let O=new FormData;O.append("file",S.blob(),S.filename()),N.send(O)}),u=Oe(t.handler)?t.handler:l,d=()=>new Promise(S=>{S([])}),p=(S,A)=>({url:A,blobInfo:S,status:!0}),m=(S,A)=>({url:"",blobInfo:S,status:!1,error:A}),v=(S,A)=>{ee.each(o[S],M=>{M(A)}),delete o[S]},b=(S,A,M)=>(e.markPending(S.blobUri()),new Promise(R=>{let N,O;try{let q=()=>{N&&(N.close(),O=Ne)},X=U=>{q(),e.markUploaded(S.blobUri(),U),v(S.blobUri(),p(S,U)),R(p(S,U))},ae=U=>{q(),e.removeFailed(S.blobUri()),v(S.blobUri(),m(S,U)),R(m(S,U))};O=U=>{U<0||U>100||D.from(N).orThunk(()=>D.from(M).map(Ji)).each(F=>{N=F,F.progressBar.value(U)})},A(S,O).then(X,U=>{ae(te(U)?{message:U}:U)})}catch(q){R(m(S,q))}})),C=S=>S===l,E=S=>{let A=S.blobUri();return new Promise(M=>{o[A]=o[A]||[],o[A].push(M)})},x=(S,A)=>(S=ee.grep(S,M=>!e.isUploaded(M.blobUri())),Promise.all(ee.map(S,M=>e.isPending(M.blobUri())?E(M):b(M,u,A))));return{upload:(S,A)=>!t.url&&C(u)?d():x(S,A)}},PO=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),FO=(e,t)=>Kee(t,{url:a5(e),basePath:l5(e),credentials:c5(e),handler:u5(e)}),Yee=e=>{let t=OO(),o=FO(e,t);return{upload:(s,l=!0)=>o.upload(s,l?PO(e):void 0)}},Zee=(e,t)=>e.dom.isEmpty(t.dom)&&G(e.schema.getTextBlockElements()[st(t)]),Qee=e=>t=>{Zee(e,t)&&pn(t,T.fromHtml('<br data-mce-bogus="1" />'))},Xee=e=>{let t=Gee(),o,s,l=OO(),u=[],d=N=>O=>e.selection?N(O):[],p=N=>N+(N.indexOf("?")===-1?"?":"&")+new Date().getTime(),m=(N,O,q)=>{let X=0;do X=N.indexOf(O,X),X!==-1&&(N=N.substring(0,X)+q+N.substr(X+O.length),X+=q.length-O.length+1);while(X!==-1);return N},v=(N,O,q)=>{let X=`src="${q}"${q===ct.transparentSrc?' data-mce-placeholder="1"':""}`;return N=m(N,`src="${O}"`,X),N=m(N,'data-mce-src="'+O+'"','data-mce-src="'+q+'"'),N},b=(N,O)=>{z(e.undoManager.data,q=>{q.type==="fragmented"?q.fragments=rt(q.fragments,X=>v(X,N,O)):q.content=v(q.content,N,O)})},C=(N,O)=>{let q=e.convertURL(O,"src");b(N.src,O),ci(T.fromDom(N),{src:$T(e)?p(O):O,"data-mce-src":q})},E=()=>(o||(o=FO(e,l)),A().then(d(N=>{let O=rt(N,q=>q.blobInfo);return o.upload(O,PO(e)).then(d(q=>{let X=[],ae=!1,U=rt(q,(F,H)=>{let{blobInfo:fe,image:ye}=N[H],Be=!1;return F.status&&s5(e)?(F.url&&!Zn(ye.src,F.url)&&(ae=!0),t.removeByUri(ye.src),Hs(e)||C(ye,F.url)):F.error&&(F.error.remove&&(b(ye.src,ct.transparentSrc),X.push(ye),Be=!0),Tee(e,F.error.message)),{element:ye,status:F.status,uploadUri:F.url,blobInfo:fe,removed:Be}});return X.length>0&&!Hs(e)?e.undoManager.transact(()=>{z(f0(X),F=>{let H=es(F);Lt(F),H.each(Qee(e)),t.removeByUri(F.dom.src)})}):ae&&e.undoManager.dispatchChange(),U}))}))),x=()=>VT(e)?E():Promise.resolve([]),I=N=>ko(u,O=>O(N)),S=N=>{u.push(N)},A=()=>(s||(s=Hee(l,t)),s.findAll(e.getBody(),I).then(d(N=>{let O=Te(N,q=>te(q)?(Wm(e,q),!1):q.uriType!=="blob");return Hs(e)||z(O,q=>{b(q.image.src,q.blobInfo.blobUri()),q.image.src=q.blobInfo.blobUri(),q.image.removeAttribute("data-mce-src")}),O}))),M=()=>{t.destroy(),l.destroy(),s=o=null},R=N=>N.replace(/src="(blob:[^"]+)"/g,(O,q)=>{let X=l.getResultUri(q);if(X)return'src="'+X+'"';let ae=t.getByUri(q);return ae||(ae=Rn(e.editorManager.get(),(U,F)=>U||F.editorUpload&&F.editorUpload.blobCache.getByUri(q),void 0)),ae?'src="data:'+ae.blob().type+";base64,"+ae.base64()+'"':O});return e.on("SetContent",()=>{VT(e)?x():A()}),e.on("RawSaveContent",N=>{N.content=R(N.content)}),e.on("GetContent",N=>{N.source_view||N.format==="raw"||N.format==="tree"||(N.content=R(N.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",N=>{z(N,O=>{let q=O.attr("src");if(!q||t.getByUri(q))return;let X=l.getResultUri(q);X&&O.attr("src",X)})})}),{blobCache:t,addFilter:S,uploadImages:E,uploadImagesAuto:x,scanForImages:A,destroy:M}},Jee=e=>{let t=e.dom,o=e.schema.type,s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:l=>{t.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:l=>{t.setStyle(l,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{let l={inline:"span",styles:{textDecoration:"line-through"},exact:!0},u={inline:"strike",remove:"all",preserve_attributes:["class","style"]},d={inline:"s",remove:"all",preserve_attributes:["class","style"]};return o!=="html4"?[d,l,u]:[l,d,u]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(l,u,d)=>ge(l)&&l.hasAttribute("href"),onformat:(l,u,d)=>{ee.each(d,(p,m)=>{t.setAttrib(l,m,p)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":l=>{var u;return(u=l?.customValue)!==null&&u!==void 0?u:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return ee.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),l=>{s[l]={block:l,remove:"all"}}),s},LO={remove_similar:!0,inherit:!1},nu=W({selector:"td,th"},LO),ete={tablecellbackgroundcolor:W({styles:{backgroundColor:"%value"}},nu),tablecellverticalalign:W({styles:{"vertical-align":"%value"}},nu),tablecellbordercolor:W({styles:{borderColor:"%value"}},nu),tablecellclass:W({classes:["%value"]},nu),tableclass:W({selector:"table",classes:["%value"]},LO),tablecellborderstyle:W({styles:{borderStyle:"%value"}},nu),tablecellborderwidth:W({styles:{borderWidth:"%value"}},nu)},tte=re(ete),nte=e=>{let t={},o=d=>G(d)?t[d]:t,s=d=>Pe(t,d),l=(d,p)=>{d&&(te(d)?(Ie(p)||(p=[p]),z(p,m=>{Ke(m.deep)&&(m.deep=!ro(m)),Ke(m.split)&&(m.split=!ro(m)||bn(m)),Ke(m.remove)&&ro(m)&&!bn(m)&&(m.remove="none"),ro(m)&&bn(m)&&(m.mixed=!0,m.block_expand=!0),te(m.classes)&&(m.classes=m.classes.split(/\s+/))}),t[d]=p):kt(d,(m,v)=>{l(v,m)}))},u=d=>(d&&t[d]&&delete t[d],t);return l(Jee(e)),l(tte()),l(D5(e)),{get:o,has:s,register:l,unregister:u}},Gm=ee.each,ao=At.DOM,tE=e=>G(e)&&Fe(e),BO=(e,t)=>{let o=t&&t.schema||ia({}),s=(m,v)=>{v.classes.length>0&&ao.addClass(m,v.classes.join(" ")),ao.setAttribs(m,v.attrs)},l=m=>{let v=te(m)?{name:m,classes:[],attrs:{}}:m,b=ao.create(v.name);return s(b,v),b},u=(m,v)=>{let b=o.getElementRule(m.nodeName.toLowerCase()),C=b?.parentsRequired;return C&&C.length?v&&ft(C,v)?v:C[0]:!1},d=(m,v,b)=>{let C,E=v[0],x=tE(E)?E.name:void 0,I=u(m,x);if(I)x===I?(C=E,v=v.slice(1)):C=I;else if(E)C=E,v=v.slice(1);else if(!b)return m;let S=C?l(C):ao.create("div");S.appendChild(m),b&&ee.each(b,M=>{let R=l(M);S.insertBefore(R,m)});let A=tE(C)?C.siblings:void 0;return d(S,v,A)},p=ao.create("div");if(e.length>0){let m=e[0],v=l(m),b=tE(m)?m.siblings:void 0;p.appendChild(d(v,e.slice(1),b))}return p},rte=e=>{e=ee.trim(e);let t="div",o={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,l,u,d,p)=>{switch(l){case"#":o.attrs.id=u;break;case".":o.classes.push(u);break;case":":ee.inArray("checked disabled enabled read-only required".split(" "),u)!==-1&&(o.attrs[u]=u);break}if(d==="["){let m=p.match(/([\w\-]+)(?:\=\"([^\"]+))?/);m&&(o.attrs[m[1]]=m[2])}return""})),o.name=t||"div",o},ote=e=>te(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ee.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{let o=ee.map(t.split(/(?:~\+|~|\+)/),rte),s=o.pop();return o.length&&(s.siblings=o),s}).reverse()):[],ste=(e,t)=>{let o="",s=_5(e);if(s==="")return"";let l=E=>te(E)?E.replace(/%(\w+)/g,""):"",u=(E,x)=>ao.getStyle(x??e.getBody(),E,!0);if(te(t)){let E=e.formatter.get(t);if(!E)return"";t=E[0]}if("preview"in t){let E=t.preview;if(E===!1)return"";s=E||s}let d=t.block||t.inline||"span",p,m=ote(t.selector);m.length>0?(m[0].name||(m[0].name=d),d=t.selector,p=BO(m,e)):p=BO([d],e);let v=ao.select(d,p)[0]||p.firstChild;Gm(t.styles,(E,x)=>{let I=l(E);I&&ao.setStyle(v,x,I)}),Gm(t.attributes,(E,x)=>{let I=l(E);I&&ao.setAttrib(v,x,I)}),Gm(t.classes,E=>{let x=l(E);ao.hasClass(v,x)||ao.addClass(v,x)}),e.dispatch("PreviewFormats"),ao.setStyles(p,{position:"absolute",left:-65535}),e.getBody().appendChild(p);let b=u("fontSize"),C=/px$/.test(b)?parseInt(b,10):0;return Gm(s.split(" "),E=>{let x=u(E,v);if(!(E==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(x)&&(x=u(E),Xd(x).toLowerCase()==="#ffffff"))&&!(E==="color"&&Xd(x).toLowerCase()==="#000000")){if(E==="font-size"&&/em|%$/.test(x)){if(C===0)return;x=parseFloat(x)/(/%$/.test(x)?100:1)*C+"px"}E==="border"&&x&&(o+="padding:0 2px;"),o+=E+":"+x+";"}}),e.dispatch("AfterPreviewFormats"),ao.remove(p),o},ite=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},VO=e=>{let t=nte(e),o=In({});return ite(e),wZ(e),Hs(e)||qZ(o,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(s,l,u)=>{bJ(e,s,l,u)},remove:(s,l,u,d)=>{CJ(e,s,l,u,d)},toggle:(s,l,u)=>{wJ(e,s,l,u)},match:(s,l,u,d)=>hJ(e,s,l,u,d),closest:s=>yJ(e,s),matchAll:(s,l)=>mJ(e,s,l),matchNode:(s,l,u,d)=>gJ(e,s,l,u,d),canApply:s=>vJ(e,s),formatChanged:(s,l,u,d)=>EJ(e,o,s,l,u,d),getCssText:pe(ste,e)}},$O=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},ate=(e,t,o)=>{let s=In(!1),l=m=>{jm(t,!1,o),t.add({},m)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",m=>{let v=m.command;$O(v)||(gO(t,o),t.beforeChange())}),e.on("ExecCommand",m=>{let v=m.command;$O(v)||l(m)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("dragend",l),e.on("keyup",m=>{let v=m.keyCode;if(m.isDefaultPrevented())return;let b=ct.os.isMacOS()&&m.key==="Meta";(v>=33&&v<=36||v>=37&&v<=40||v===45||m.ctrlKey||b)&&(l(),e.nodeChanged()),(v===46||v===8)&&e.nodeChanged(),s.get()&&t.typing&&!Zw($m(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),s.set(!1),e.nodeChanged())}),e.on("keydown",m=>{let v=m.keyCode;if(m.isDefaultPrevented())return;if(v>=33&&v<=36||v>=37&&v<=40||v===45){t.typing&&l(m);return}let b=m.ctrlKey&&!m.altKey||m.metaKey;if((v<16||v>20)&&v!==224&&v!==91&&!t.typing&&!b){t.beforeChange(),jm(t,!0,o),t.add({},m),s.set(!0);return}(ct.os.isMacOS()?m.metaKey:m.ctrlKey&&!m.altKey)&&t.beforeChange()}),e.on("mousedown",m=>{t.typing&&l(m)});let u=m=>m.inputType==="insertReplacementText",d=m=>m.inputType==="insertText"&&m.data===null,p=m=>m.inputType==="insertFromPaste"||m.inputType==="insertFromDrop";e.on("input",m=>{m.inputType&&(u(m)||d(m)||p(m))&&l(m)}),e.on("AddUndo Undo Redo ClearUndos",m=>{m.isDefaultPrevented()||e.nodeChanged()})},lte=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},jO=e=>{let t=gi(),o=In(0),s=In(0),l={data:[],typing:!1,beforeChange:()=>{rJ(e,o,t)},add:(u,d)=>oJ(e,l,s,o,t,u,d),dispatchChange:()=>{e.setDirty(!0);let u=$m(e);u.bookmark=eC(e.selection),e.dispatch("change",{level:u,lastLevel:Rd(l.data,s.get()).getOrUndefined()})},undo:()=>sJ(e,l,o,s),redo:()=>iJ(e,s,l.data),clear:()=>{aJ(e,l,s)},reset:()=>{lJ(e,l)},hasUndo:()=>cJ(e,l,s),hasRedo:()=>uJ(e,l,s),transact:u=>dJ(e,l,o,u),ignore:u=>{fJ(e,o,u)},extra:(u,d)=>{pJ(e,l,s,u,d)}};return Hs(e)||ate(e,l,o),lte(e),l},cte=[9,27,ce.HOME,ce.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,ce.DOWN,ce.UP,ce.LEFT,ce.RIGHT].concat(ct.browser.isFirefox()?[224]:[]),UO="data-mce-placeholder",HO=e=>e.type==="keydown"||e.type==="keyup",zO=e=>{let t=e.keyCode;return t===ce.BACKSPACE||t===ce.DELETE},ute=e=>{if(HO(e)){let t=e.keyCode;return!zO(e)&&(ce.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||ft(cte,t))}else return!1},dte=e=>HO(e)&&!(zO(e)||e.type==="keyup"&&e.keyCode===229),fte=(e,t,o)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){let s=t.firstElementChild;return s?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:o===s.nodeName.toLowerCase():!0}else return!1},pte=e=>{var t;let o=e.dom,s=tr(e),l=(t=b5(e))!==null&&t!==void 0?t:"",u=(d,p)=>{if(ute(d))return;let m=e.getBody(),v=dte(d)?!1:fte(o,m,s);(o.getAttrib(m,UO)!==""!==v||p)&&(o.setAttrib(m,UO,v?l:null),U9(e,v),e.on(v?"keydown":"keyup",u),e.off(v?"keyup":"keydown",u))};Ts(l)&&e.on("init",d=>{u(d,!0),e.on("change SetContent ExecCommand",u),e.on("paste",p=>oo.setEditorTimeout(e,()=>u(p)))})},hte=(e,t)=>({block:e,position:t}),mte=(e,t)=>({from:e,to:t}),nE=(e,t)=>{let o=T.fromDom(e),s=T.fromDom(t.container());return km(o,s).map(l=>hte(l,t))},gte=e=>!(Cr(e.to.block,e.from.block)||Cr(e.from.block,e.to.block)),vte=e=>!mt(e.from.block,e.to.block),WO=(e,t)=>Qa(t,l=>lf(l)||To(l.dom),l=>mt(l,e)).filter($r).getOr(e),yte=(e,t)=>{let o=T.fromDom(e);return mt(WO(o,t.from.block),WO(o,t.to.block))},bte=e=>Nt(e.from.block.dom)===!1&&Nt(e.to.block.dom)===!1,Cte=e=>{let t=o=>tT(o)||D0(o.dom)||Oc(o);return t(e.from.block)&&t(e.to.block)},wte=(e,t,o,s)=>Gt(s.position.getNode())&&!er(e,s.block)?Hc(!1,s.block.dom).bind(l=>l.isEqual(s.position)?eo(o,t,l).bind(u=>nE(t,u)):D.some(s)).getOr(s):s,Ete=(e,t,o,s)=>{let l=nE(t,j.fromRangeStart(s)),u=l.bind(d=>eo(o,t,d.position).bind(p=>nE(t,p).map(m=>wte(e,t,o,m))));return Qn(l,u,mte).filter(d=>vte(d)&&yte(t,d)&&bte(d)&&Cte(d)&&gte(d))},Dte=(e,t,o,s)=>s.collapsed?Ete(e,t,o,s):D.none(),qO=(e,t,o)=>{let s=o?o0(e).reverse():s0(e),l=As(s,u=>t.isBlock(st(u))).fold(re(s),u=>s.slice(0,u));return o?l.reverse():l},_te=(e,t,o,s,l)=>{if(l&&Cr(e,t))return qO(t,o,s);if(l&&Cr(t,e))return qO(e,o,s);{let u=Xn(t);return As(u,d=>o.isBlock(st(d))).fold(re(u),d=>u.slice(0,d))}},GO=(e,t,o,s,l)=>{let u=_te(e,t,o,s,l);return z(u,Lt),u},KO=(e,t,o)=>{let s=bi(o,t);return sn(s.reverse(),l=>er(e,l)).each(Lt)},xte=(e,t)=>Te(o0(t),o=>!er(e,o)).length===0,Ste=(e,t,o,s,l,u)=>{if(er(s,o))return aa(o),nr(o.dom);xte(s,u)&&er(s,t)&&xr(u,T.fromTag("br"));let d=Sr(o.dom,j.before(u.dom));return z(GO(o,t,s,l,!1),p=>{xr(u,p)}),KO(s,e,t),d},Ite=(e,t)=>e.isInline(st(t)),Ate=(e,t,o,s,l)=>{if(er(s,o)){if(er(s,t)){let p=Qr((m=>{let v=(b,C)=>i0(b).fold(()=>C,E=>Ite(s,E)?v(E,C.concat(ll(E))):C);return v(m,[])})(o),(m,v)=>(XA(m,v),v),Pc());Ac(t),pn(t,p)}return Lt(o),nr(t.dom)}let u=Mo(o.dom);return z(GO(o,t,s,l,!0),d=>{l&&Cr(t,o)?Ph(o,d):pn(o,d)}),KO(s,e,t),u},kte=(e,t)=>{let o=bi(t,e);return D.from(o[o.length-1])},Tte=(e,t)=>Cr(t,e)?kte(t,e):D.none(),YO=(e,t)=>{Hc(e,t.dom).bind(o=>D.from(o.getNode())).map(T.fromDom).filter(ul).each(Lt)},Km=(e,t,o,s,l)=>(YO(!0,t),YO(!1,o),Tte(t,o).fold(pe(Ate,e,t,o,s,l),pe(Ste,e,t,o,s,l))),ZO=(e,t,o,s,l,u=!1)=>{if(u){if(Cr(s,o))return Km(e,s,o,l,!t);if(Cr(o,s))return Km(e,o,s,l,t)}return t?Km(e,s,o,l,t):Km(e,o,s,l,!t)},rE=(e,t)=>{let o=T.fromDom(e.getBody());return Dte(e.schema,o.dom,t,e.selection.getRng()).map(l=>()=>{ZO(o,t,l.from.block,l.to.block,e.schema,!0).each(u=>{e.selection.setRng(u.toRange())})})},Mte=(e,t,o)=>{let s=t.getRng();return Qn(km(e,T.fromDom(s.startContainer)),km(e,T.fromDom(s.endContainer)),(l,u)=>mt(l,u)?D.none():D.some(()=>{s.deleteContents(),ZO(e,!0,l,u,o).each(d=>{t.setRng(d.toRange())})})).getOr(D.none())},QO=(e,t)=>{let o=T.fromDom(t),s=pe(mt,e);return fi(o,lf,s).isSome()},Nte=(e,t)=>QO(e,t.startContainer)||QO(e,t.endContainer),Rte=(e,t)=>{let o=Sr(e.dom,j.fromRangeStart(t)).isNone(),s=Er(e.dom,j.fromRangeEnd(t)).isNone();return!Nte(e,t)&&o&&s},Ote=e=>D.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),Pte=e=>{let t=T.fromDom(e.getBody()),o=e.selection.getRng();return Rte(t,o)?Ote(e):Mte(t,e.selection,e.schema)},oE=(e,t)=>e.selection.isCollapsed()?D.none():Pte(e),Ci=(e,t,o,s,l)=>D.from(t._selectionOverrides.showCaret(e,o,s,l)),Fte=e=>{let t=e.ownerDocument.createRange();return t.selectNode(e),t},$f=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?D.none():D.some(Fte(t)),Lte=(e,t,o)=>{let s=cC(1,e.getBody(),t),l=j.fromRangeStart(s),u=l.getNode();if(mf(u))return Ci(1,e,u,!l.isAtEnd(),!1);let d=l.getNode(!0);if(mf(d))return Ci(1,e,d,!1,!1);let p=wl(e.dom.getRoot(),l.getNode());return mf(p)?Ci(1,e,p,!1,o):D.none()},sE=(e,t,o)=>t.collapsed?Lte(e,t,o).getOr(t):t,Bte=e=>ma(e)||If(e),Vte=e=>ga(e)||Af(e),$te=(e,t)=>{Q(t)&&t.data.length===0&&e.remove(t)},XO=(e,t,o,s,l,u)=>{Ci(s,e,u.getNode(!l),l,!0).each(d=>{if(t.collapsed){let p=t.cloneRange();l?p.setEnd(d.startContainer,d.startOffset):p.setStart(d.endContainer,d.endOffset),p.deleteContents()}else t.deleteContents();e.selection.setRng(d)}),$te(e.dom,o)},jte=(e,t)=>{let o=e.selection.getRng();if(!Q(o.commonAncestorContainer))return D.none();let s=t?Fn.Forwards:Fn.Backwards,l=$s(e.getBody()),u=pe(uC,t?l.next:l.prev),d=t?Bte:Vte,p=Cf(s,e.getBody(),o),m=u(p),v=m&&so(t,m);if(!v||!lm(p,v))return D.none();if(d(v))return D.some(()=>XO(e,o,p.getNode(),s,t,v));let b=u(v);return b&&d(b)&&lm(v,b)?D.some(()=>XO(e,o,p.getNode(),s,t,b)):D.none()},iE=(e,t)=>jte(e,t),aE=(e,t)=>{let o=e.getBody();return t?nr(o).filter(ma):Mo(o).filter(ga)},lE=e=>{let t=e.selection.getRng();return!t.collapsed&&(aE(e,!0).exists(o=>o.isEqual(j.fromRangeStart(t)))||aE(e,!1).exists(o=>o.isEqual(j.fromRangeEnd(t))))},Ute=e=>G(e)&&(lf(T.fromDom(e))||Oc(T.fromDom(e))),Hr=Ls.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Hte=(e,t)=>{let o=t.getNode(!e),s=e?"after":"before";return ge(o)&&o.getAttribute("data-mce-caret")===s},zte=(e,t,o,s,l)=>{let u=d=>l.isInline(d.nodeName.toLowerCase())&&!Bs(o,s,e);return pM(!t,o).fold(()=>pM(t,s).fold(wt,u),u)},JO=(e,t,o,s,l)=>{let u=l.getNode(!o);return km(T.fromDom(t),T.fromDom(s.getNode())).map(d=>er(e,d)?Hr.remove(d.dom):Hr.moveToElement(u)).orThunk(()=>D.some(Hr.moveToElement(u)))},eP=(e,t,o,s)=>eo(t,e,o).bind(l=>Ute(l.getNode())||zte(e,t,o,l,s)?D.none():t&&Nt(l.getNode())||!t&&Nt(l.getNode(!0))?JO(s,e,t,o,l):t&&ga(o)||!t&&ma(o)?D.some(Hr.moveToPosition(l)):D.none()),Wte=(e,t)=>$e(t)?D.none():e&&Nt(t.nextSibling)?D.some(Hr.moveToElement(t.nextSibling)):!e&&Nt(t.previousSibling)?D.some(Hr.moveToElement(t.previousSibling)):D.none(),qte=(e,t,o)=>o.fold(s=>D.some(Hr.remove(s)),s=>D.some(Hr.moveToElement(s)),s=>Bs(t,s,e)?D.none():D.some(Hr.moveToPosition(s))),Gte=(e,t,o,s)=>Hte(t,o)?Wte(t,o.getNode(!t)).orThunk(()=>eP(e,t,o,s)):eP(e,t,o,s).bind(l=>qte(e,o,l)),Kte=(e,t,o,s)=>{let l=cC(t?1:-1,e,o),u=j.fromRangeStart(l),d=T.fromDom(e);return!t&&ga(u)?D.some(Hr.remove(u.getNode(!0))):t&&ma(u)?D.some(Hr.remove(u.getNode())):!t&&ma(u)&&Sm(d,u,s)?r1(d,u,s).map(p=>Hr.remove(p.getNode())):t&&ga(u)&&QC(d,u,s)?J7(d,u,s).map(p=>Hr.remove(p.getNode())):Gte(e,t,u,s)},Yte=(e,t)=>o=>(e._selectionOverrides.hideFakeCaret(),bl(e,t,T.fromDom(o)),!0),Zte=(e,t)=>o=>{let s=t?j.before(o):j.after(o);return e.selection.setRng(s.toRange()),!0},Qte=e=>t=>(e.selection.setRng(t.toRange()),!0),tP=(e,t)=>D.from(wl(e.getBody(),t)),Xte=(e,t)=>{let o=e.selection.getNode();return tP(e,o).filter(Nt).fold(()=>Kte(e.getBody(),t,e.selection.getRng(),e.schema).map(s=>()=>s.fold(Yte(e,t),Zte(e,t),Qte(e))),()=>D.some(Ne))},Jte=e=>{z(Jn(e,".mce-offscreen-selection"),Lt)},ene=(e,t)=>{let o=e.selection.getNode();return Nt(o)&&!$h(o)?tP(e,o.parentNode).filter(Nt).fold(()=>D.some(()=>{Jte(T.fromDom(e.getBody())),bl(e,t,T.fromDom(e.selection.getNode())),nw(e)}),()=>D.some(Ne)):lE(e)?D.some(()=>{x1(e,e.selection.getRng(),T.fromDom(e.getBody()))}):D.none()},nP=e=>{let t=e.dom,o=e.selection,s=wl(e.getBody(),o.getNode());if(To(s)&&t.isBlock(s)&&t.isEmpty(s)){let l=t.create("br",{"data-mce-bogus":"1"});t.setHTML(s,""),s.appendChild(l),o.setRng(j.before(l).toRange())}return!0},cE=(e,t)=>e.selection.isCollapsed()?Xte(e,t):ene(e,t),rP=e=>e.hasOwnProperty("text"),oP=e=>e.hasOwnProperty("marker"),sP=(e,t)=>{let o=(u,d)=>{if(Q(u))return{text:u,offset:d};{let p=t(),m=u.childNodes;return d<m.length?(u.insertBefore(p,m[d]),{marker:p,before:!0}):(u.appendChild(p),{marker:p,before:!1})}},s=o(e.endContainer,e.endOffset);return{start:o(e.startContainer,e.startOffset),end:s}},iP=e=>{var t,o;let{start:s,end:l}=e,u=new window.Range;return rP(s)?u.setStart(s.text,s.offset):oP(s)&&(s.before?u.setStartBefore(s.marker):u.setStartAfter(s.marker),(t=s.marker.parentNode)===null||t===void 0||t.removeChild(s.marker)),rP(l)?u.setEnd(l.text,l.offset):oP(l)&&(l.before?u.setEndBefore(l.marker):u.setEndAfter(l.marker),(o=l.marker.parentNode)===null||o===void 0||o.removeChild(l.marker)),u},uE=(e,t)=>{var o;let s=e.dom,l=s.getParent(e.selection.getStart(),s.isBlock),u=s.getParent(e.selection.getEnd(),s.isBlock),d=e.getBody();if(((o=l?.nodeName)===null||o===void 0?void 0:o.toLowerCase())==="div"&&l&&u&&l===d.firstChild&&u===d.lastChild&&!s.isEmpty(d)){let m=l.cloneNode(!1),v=()=>{if(t?E1(e):Am(e),d.firstChild!==l){let b=sP(e.selection.getRng(),()=>document.createElement("span"));Array.from(d.childNodes).forEach(C=>m.appendChild(C)),d.appendChild(m),e.selection.setRng(iP(b))}};return D.some(v)}return D.none()},tne=(e,t)=>{let o=j.fromRangeStart(e.selection.getRng());return eo(t,e.getBody(),o).filter(s=>t?W7(s):q7(s)).bind(s=>lC(t?0:-1,s)).map(s=>()=>e.selection.select(s))},dE=(e,t)=>e.selection.isCollapsed()?tne(e,t):D.none(),ru=Q,aP=e=>ru(e)&&e.data[0]===yn,lP=e=>ru(e)&&e.data[e.data.length-1]===yn,cP=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(yn)},nne=e=>{var t;if(ru(e.previousSibling))return lP(e.previousSibling)||e.previousSibling.appendData(yn),e.previousSibling;if(ru(e))return aP(e)||e.insertData(0,yn),e;{let o=cP(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(o,e),o}},rne=e=>{var t,o;if(ru(e.nextSibling))return aP(e.nextSibling)||e.nextSibling.insertData(0,yn),e.nextSibling;if(ru(e))return lP(e)||e.appendData(yn),e;{let s=cP(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(s,e.nextSibling):(o=e.parentNode)===null||o===void 0||o.appendChild(s),s}},Ym=(e,t)=>e?nne(t):rne(t),one=pe(Ym,!0),sne=pe(Ym,!1),uP=(e,t)=>Q(e.container())?Ym(t,e.container()):Ym(t,e.getNode()),dP=(e,t)=>{let o=t.get();return o&&e.container()===o&&la(o)},fE=(e,t)=>t.fold(o=>{pl(e.get());let s=one(o);return e.set(s),D.some(j(s,s.length-1))},o=>nr(o).map(s=>{if(dP(s,e)){let l=e.get();return j(l,1)}else{pl(e.get());let l=uP(s,!0);return e.set(l),j(l,1)}}),o=>Mo(o).map(s=>{if(dP(s,e)){let l=e.get();return j(l,l.length-1)}else{pl(e.get());let l=uP(s,!1);return e.set(l),j(l,l.length-1)}}),o=>{pl(e.get());let s=sne(o);return e.set(s),D.some(j(s,1))}),fP=(e,t)=>{for(let o=0;o<e.length;o++){let s=e[o].apply(null,t);if(s.isSome())return s}return D.none()},pr=Ls.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),pP=(e,t)=>{let o=da(t,e);return o||e},ine=(e,t,o)=>{let s=b1(o),l=pP(t,s.container());return va(e,l,s).fold(()=>Er(l,s).bind(pe(va,e,l)).map(u=>pr.before(u)),D.none)},ane=(e,t)=>ml(e,t)===null,hP=(e,t,o)=>va(e,t,o).filter(pe(ane,t)),lne=(e,t,o)=>{let s=C1(o);return hP(e,t,s).bind(l=>Sr(l,s).isNone()?D.some(pr.start(l)):D.none())},cne=(e,t,o)=>{let s=b1(o);return hP(e,t,s).bind(l=>Er(l,s).isNone()?D.some(pr.end(l)):D.none())},une=(e,t,o)=>{let s=C1(o),l=pP(t,s.container());return va(e,l,s).fold(()=>Sr(l,s).bind(pe(va,e,l)).map(u=>pr.after(u)),D.none)},mP=e=>!y1(pE(e)),zs=(e,t,o)=>fP([ine,lne,cne,une],[e,t,o]).filter(mP),pE=e=>e.fold(_n,_n,_n,_n),gP=e=>e.fold(re("before"),re("start"),re("end"),re("after")),Zm=e=>e.fold(pr.before,pr.before,pr.after,pr.after),hE=e=>e.fold(pr.start,pr.start,pr.end,pr.end),dne=(e,t)=>gP(e)===gP(t)&&pE(e)===pE(t),fne=(e,t,o,s,l,u)=>Qn(va(t,o,s),va(t,o,l),(d,p)=>d!==p&&MK(o,d,p)?pr.after(e?d:p):u).getOr(u),pne=(e,t)=>e.fold(Ut,o=>!dne(o,t)),hne=(e,t,o,s,l)=>{let u=so(e,l);return eo(e,o,u).map(pe(so,e)).fold(()=>s.map(Zm),m=>zs(t,o,m).map(pe(fne,e,t,o,u,m)).filter(pe(pne,s))).filter(mP)},mne=(e,t)=>e?t.fold(Mt(D.some,pr.start),D.none,Mt(D.some,pr.after),D.none):t.fold(D.none,Mt(D.some,pr.before),D.none,Mt(D.some,pr.end)),gne=(e,t,o,s)=>{let l=so(e,s),u=zs(t,o,l);return zs(t,o,l).bind(pe(mne,e)).orThunk(()=>hne(e,t,o,u,s))},vne=e=>Oe(e.selection.getSel().modify),vP=(e,t,o)=>{let s=e?1:-1;return t.setRng(j(o.container(),o.offset()+s).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},yne=(e,t)=>{let o=t.selection.getRng(),s=e?j.fromRangeEnd(o):j.fromRangeStart(o);return vne(t)?e&&H0(s)?vP(!0,t.selection,s):!e&&z0(s)?vP(!1,t.selection,s):!1:!1};var wi=function(e){return e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol",e}(wi||{});let Qm=(e,t)=>e===Fn.Backwards?ta(t):t,bne=(e,t,o)=>e===Fn.Forwards?t.next(o):t.prev(o),Cne=(e,t,o,s)=>Gt(s.getNode(t===Fn.Forwards))?wi.Br:Bs(o,s)===!1?wi.Block:wi.Wrap,yP=(e,t,o,s)=>{let l=$s(o),u=s,d=[];for(;u;){let p=bne(t,l,u);if(!p)break;if(Gt(p.getNode(!1)))return t===Fn.Forwards?{positions:Qm(t,d).concat([p]),breakType:wi.Br,breakAt:D.some(p)}:{positions:Qm(t,d),breakType:wi.Br,breakAt:D.some(p)};if(!p.isVisible()){u=p;continue}if(e(u,p)){let m=Cne(o,t,u,p);return{positions:Qm(t,d),breakType:m,breakAt:D.some(p)}}d.push(p),u=p}return{positions:Qm(t,d),breakType:wi.Eol,breakAt:D.none()}},bP=(e,t,o,s)=>t(o,s).breakAt.map(l=>{let u=t(o,l).positions;return e===Fn.Backwards?u.concat(l):[l].concat(u)}).getOr([]),mE=(e,t)=>Rn(e,(o,s)=>o.fold(()=>D.some(s),l=>Qn(br(l.getClientRects()),br(s.getClientRects()),(u,d)=>{let p=Math.abs(t-u.left);return Math.abs(t-d.left)<=p?s:l}).or(o)),D.none()),Xm=(e,t)=>br(t.getClientRects()).bind(o=>mE(e,o.left)),jf=pe(yP,j.isAbove,-1),Uf=pe(yP,j.isBelow,1),CP=pe(bP,-1,jf),wP=pe(bP,1,Uf),EP=(e,t)=>jf(e,t).breakAt.isNone(),DP=(e,t)=>Uf(e,t).breakAt.isNone(),wne=e=>nr(e).map(t=>[t].concat(Uf(e,t).positions)).getOr([]),Ene=e=>Mo(e).map(t=>jf(e,t).positions.concat(t)).getOr([]),Dne=(e,t)=>Xm(CP(e,t),t),_ne=(e,t)=>Xm(wP(e,t),t),xne=Nt,_P=(e,t)=>Math.abs(e.left-t),xP=(e,t)=>Math.abs(e.right-t),Sne=e=>Cc(e,"node"),SP=(e,t)=>Sh(e,(o,s)=>{let l=Math.min(_P(o,t),xP(o,t)),u=Math.min(_P(s,t),xP(s,t));return u===l&&Sne(s)&&xne(s.node)||u<l?s:o}),Ine=e=>{let t=o=>rt(o,s=>{let l=dl(s);return l.node=e,l});if(ge(e))return t(e.getClientRects());if(Q(e)){let o=e.ownerDocument.createRange();return o.setStart(e,0),o.setEnd(e,e.data.length),t(o.getClientRects())}else return[]},IP=e=>yr(e,Ine);var Jm=function(e){return e[e.Up=-1]="Up",e[e.Down=1]="Down",e}(Jm||{});let Ane=(e,t,o,s)=>{let l=s;for(;l=vf(l,e,uT,t);)if(o(l))return},AP=(e,t,o,s,l,u)=>{let d=0,p=[],m=C=>{let E=IP([C]);e===-1&&(E=E.reverse());for(let x=0;x<E.length;x++){let I=E[x];if(!o(I,v)){if(p.length>0&&t(I,Ka(p))&&d++,I.line=d,l(I))return!0;p.push(I)}}return!1},v=Ka(u.getClientRects());if(!v)return p;let b=u.getNode();return b&&(m(b),Ane(e,s,m,b)),p},kne=(e,t)=>t.line>e,Tne=(e,t)=>t.line===e,Mne=pe(AP,Jm.Up,cf,uf),Nne=pe(AP,Jm.Down,uf,cf),kP=e=>Ka(e.getClientRects()),Rne=(e,t,o,s)=>{let l=$s(t),u,d,p,m,v=[],b=0;e===1?(u=l.next,d=uf,p=cf,m=j.after(s)):(u=l.prev,d=cf,p=uf,m=j.before(s));let C=kP(m);do{if(!m.isVisible())continue;let E=kP(m);if(p(E,C))continue;v.length>0&&d(E,Ka(v))&&b++;let x=dl(E);if(x.position=m,x.line=b,o(x))return v;v.push(x)}while(m=u(m));return v},TP=e=>t=>kne(e,t),gE=e=>t=>Tne(e,t),Ei=(e,t)=>{e.selection.setRng(t),Sf(e,e.selection.getRng())},vE=(e,t,o)=>D.some(sE(e,t,o)),MP=(e,t,o,s,l,u)=>{let d=t===Fn.Forwards,p=$s(e.getBody()),m=pe(uC,d?p.next:p.prev),v=d?s:l;if(!o.collapsed){let I=Jh(o);if(u(I))return Ci(t,e,I,t===Fn.Backwards,!1);if(lE(e)){let S=o.cloneRange();return S.collapse(t===Fn.Backwards),D.from(S)}}let b=Cf(t,e.getBody(),o);if(v(b))return $f(e,b.getNode(!d));let C=m(b),E=rT(o);if(C)C=so(d,C);else return E?D.some(o):D.none();if(v(C))return Ci(t,e,C.getNode(!d),d,!1);let x=m(C);return x&&v(x)&&lm(C,x)?Ci(t,e,x.getNode(!d),d,!1):E?vE(e,C.toRange(),!1):D.none()},NP=(e,t,o,s,l,u)=>{let d=Cf(t,e.getBody(),o),p=Ka(d.getClientRects()),m=t===Jm.Down,v=e.getBody();if(!p)return D.none();if(lE(e)){let A=m?j.fromRangeEnd(o):j.fromRangeStart(o);return(m?_ne:Dne)(v,A).orThunk(()=>D.from(A)).map(R=>R.toRange())}let C=(m?Nne:Mne)(v,TP(1),d),E=Te(C,gE(1)),x=p.left,I=SP(E,x);if(I&&u(I.node)){let A=Math.abs(x-I.left),M=Math.abs(x-I.right);return Ci(t,e,I.node,A<M,!1)}let S;if(s(d)?S=d.getNode():l(d)?S=d.getNode(!0):S=Jh(o),S){let A=Rne(t,v,TP(1),S),M=SP(Te(A,gE(1)),x);if(M||(M=Ka(Te(A,gE(0))),M))return vE(e,M.position.toRange(),!1)}return E.length===0?yE(e,m).filter(m?l:s).map(A=>sE(e,A.toRange(),!1)):D.none()},yE=(e,t)=>{let o=e.selection.getRng(),s=t?j.fromRangeEnd(o):j.fromRangeStart(o),l=Fq(s.container(),e.getBody());if(t){let u=Uf(l,s);return na(u.positions)}else{let u=jf(l,s);return br(u.positions)}},RP=(e,t,o)=>yE(e,t).filter(o).exists(s=>(e.selection.setRng(s.toRange()),!0)),eg=(e,t)=>{let o=e.dom.createRng();o.setStart(t.container(),t.offset()),o.setEnd(t.container(),t.offset()),e.selection.setRng(o)},OP=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},PP=(e,t,o)=>fE(t,o).map(s=>(eg(e,s),o)),One=(e,t,o)=>{let s=j.fromRangeStart(e);if(e.collapsed)return s;{let l=j.fromRangeEnd(e);return o?Sr(t,l).getOr(l):Er(t,s).getOr(s)}},Pne=(e,t,o)=>{let s=e.getBody(),l=One(e.selection.getRng(),s,o),u=pe(Cl,e);return gne(o,u,s,l).bind(p=>PP(e,t,p))},Fne=(e,t,o)=>{let s=rt(Jn(T.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),d=>d.dom),l=Te(s,e),u=Te(o,e);z(Dh(l,u),pe(OP,!1)),z(Dh(u,l),pe(OP,!0))},Lne=(e,t)=>{let o=t.get();if(e.selection.isCollapsed()&&!e.composing&&o){let s=j.fromRangeStart(e.selection.getRng());j.isTextPosition(s)&&!NK(s)&&(eg(e,_q(o,s)),t.set(null))}},Bne=(e,t,o,s)=>{if(t.selection.isCollapsed()){let l=Te(s,e);z(l,u=>{let d=j.fromRangeStart(t.selection.getRng());zs(e,t.getBody(),d).bind(p=>PP(t,o,p))})}},FP=(e,t,o)=>hf(e)?Pne(e,t,o).isSome():!1,LP=(e,t,o)=>hf(t)?yne(e,t):!1,Vne=e=>{let t=In(null),o=pe(Cl,e);return e.on("NodeChange",s=>{hf(e)&&(Fne(o,e.dom,s.parents),Lne(e,t),Bne(o,e,t,s.parents))}),t},$ne=pe(LP,!0),jne=pe(LP,!1),tg=(e,t,o)=>{if(hf(e)){let s=yE(e,t).getOrThunk(()=>{let l=e.selection.getRng();return t?j.fromRangeEnd(l):j.fromRangeStart(l)});return zs(pe(Cl,e),e.getBody(),s).exists(l=>{let u=Zm(l);return fE(o,u).exists(d=>(eg(e,d),!0))})}else return!1},Une=(e,t)=>{let o=document.createRange();return o.setStart(e.container(),e.offset()),o.setEnd(t.container(),t.offset()),o},Hne=e=>Qn(nr(e),Mo(e),(t,o)=>{let s=so(!0,t),l=so(!1,o);return Er(e,s).forall(u=>u.isEqual(l))}).getOr(!0),BP=(e,t)=>o=>fE(t,o).map(s=>()=>eg(e,s)),VP=(e,t,o,s)=>{let l=e.getBody(),u=pe(Cl,e);e.undoManager.ignore(()=>{e.selection.setRng(Une(o,s)),Am(e),zs(u,l,j.fromRangeStart(e.selection.getRng())).map(hE).bind(BP(e,t)).each(Ao)}),e.nodeChanged()},zne=(e,t)=>{let o=da(t,e);return o||e},Wne=(e,t,o,s)=>{let l=zne(e.getBody(),s.container()),u=pe(Cl,e),d=zs(u,l,s);return d.bind(m=>o?m.fold(re(D.some(hE(m))),D.none,re(D.some(Zm(m))),D.none):m.fold(D.none,re(D.some(Zm(m))),D.none,re(D.some(hE(m))))).map(BP(e,t)).getOrThunk(()=>{let m=Uc(o,l,s),v=m.bind(b=>zs(u,l,b));return Qn(d,v,()=>va(u,l,s).bind(b=>Hne(b)?D.some(()=>{bl(e,o,T.fromDom(b))}):D.none())).getOrThunk(()=>v.bind(()=>m.map(b=>()=>{o?VP(e,t,s,b):VP(e,t,b,s)})))})},bE=(e,t,o)=>{if(e.selection.isCollapsed()&&hf(e)){let s=j.fromRangeStart(e.selection.getRng());return Wne(e,t,o,s)}return D.none()},qne=e=>l0(e)>1,$P=(e,t)=>{let o=T.fromDom(e.getBody()),s=T.fromDom(e.selection.getStart()),l=bi(s,o);return As(l,t).fold(re(l),u=>l.slice(0,u))},Gne=e=>l0(e)===1,Kne=e=>$P(e,t=>e.schema.isBlock(st(t))||qne(t)),Yne=e=>$P(e,t=>e.schema.isBlock(st(t))),jP=(e,t)=>{let o=pe(Q1,e);return yr(t,s=>o(s)?[s.dom]:[])},UP=e=>{let t=Yne(e);return jP(e,t)},Zne=(e,t,o,s)=>{let l=jP(t,s);if(l.length===0)bl(t,e,o);else{let u=Z1(o.dom,l);t.selection.setRng(u.toRange())}},Qne=(e,t)=>{let o=Te(Kne(e),Gne);return na(o).bind(s=>{let l=j.fromRangeStart(e.selection.getRng());return D1(t,l,s.dom)&&!AC(s)?D.some(()=>Zne(t,e,s,o)):D.none()})},Xne=(e,t)=>{let o=t.parentElement;return Gt(t)&&!ke(o)&&e.dom.isEmpty(o)},Jne=e=>AC(T.fromDom(e)),HP=(e,t)=>{let o=e.selection.getStart(),s=Xne(e,o)||Jne(o)?Z1(o,t):EZ(e.selection.getRng(),t);e.selection.setRng(s.toRange())},ere=(e,t)=>{let o=Dh(t,UP(e));o.length>0&&HP(e,o)},zP=e=>Q(e.startContainer),tre=e=>e.startOffset===0&&zP(e),nre=(e,t)=>{let o=t.startContainer.parentElement;return!ke(o)&&Q1(e,T.fromDom(o))},rre=e=>{let t=e.startContainer.parentNode,o=e.endContainer.parentNode;return!ke(t)&&!ke(o)&&t.isEqualNode(o)},ore=e=>{let t=e.endContainer;return e.endOffset===(Q(t)?t.length:t.childNodes.length)},sre=e=>rre(e)&&ore(e),ire=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),are=e=>sre(e)||ire(e),lre=e=>{let t=e.selection.getRng();return tre(t)&&nre(e,t)&&are(t)},cre=e=>{if(lre(e)){let t=UP(e);return D.some(()=>{Am(e),ere(e,t)})}else return D.none()},CE=(e,t)=>e.selection.isCollapsed()?Qne(e,t):cre(e),ure=(e,t)=>ik(e,o=>to(o.dom),o=>t.isBlock(st(o))),dre=e=>ure(T.fromDom(e.selection.getStart()),e.schema),fre=e=>{let t=e.selection.getRng();return t.collapsed&&(zP(t)||e.dom.isEmpty(t.startContainer))&&!dre(e)},Hf=e=>(fre(e)&&HP(e,[]),!0),wE=(e,t,o)=>G(o)?D.some(()=>{e._selectionOverrides.hideFakeCaret(),bl(e,t,T.fromDom(o))}):D.none(),pre=(e,t)=>{let o=t?If:Af,s=t?Fn.Forwards:Fn.Backwards,l=Cf(s,e.getBody(),e.selection.getRng());return o(l)?wE(e,t,l.getNode(!t)):D.from(so(t,l)).filter(u=>o(u)&&lm(l,u)).bind(u=>wE(e,t,u.getNode(!t)))},hre=(e,t)=>{let o=e.selection.getNode();return Fs(o)?wE(e,t,o):D.none()},EE=(e,t)=>e.selection.isCollapsed()?pre(e,t):hre(e,t),mre=e=>Qa(e,t=>To(t.dom)||Nt(t.dom)).exists(t=>To(t.dom)),DE=e=>Ih(e??"").getOr(0),WP=(e,t)=>{let o=e||zW(t)?"margin":"padding",s=Os(t,"direction")==="rtl"?"-right":"-left";return o+s},gre=(e,t,o,s,l,u)=>{let d=WP(o,T.fromDom(u)),p=DE(e.getStyle(u,d));if(t==="outdent"){let m=Math.max(0,p-s);e.setStyle(u,d,m?m+l:"")}else{let m=p+s+l;e.setStyle(u,d,m)}},vre=(e,t)=>ko(t,o=>{let s=WP(HT(e),o),l=Oh(o,s).map(DE).getOr(0);return e.dom.getContentEditable(o.dom)!=="false"&&l>0}),qP=e=>{let t=KP(e);return!e.mode.isReadOnly()&&(t.length>1||vre(e,t))},GP=e=>U0(e)||Oc(e),yre=e=>es(e).exists(GP),KP=e=>Te(f0(e.selection.getSelectedBlocks()),t=>!GP(t)&&!yre(t)&&mre(t)),YP=(e,t)=>{var o,s;let{dom:l}=e,u=p5(e),d=(s=(o=/[a-z%]+$/i.exec(u))===null||o===void 0?void 0:o[0])!==null&&s!==void 0?s:"px",p=DE(u),m=HT(e);z(KP(e),v=>{gre(l,t,m,p,d,v.dom)})},bre=e=>YP(e,"indent"),ZP=e=>YP(e,"outdent"),QP=e=>{if(e.selection.isCollapsed()&&qP(e)){let t=e.dom,o=e.selection.getRng(),s=j.fromRangeStart(o),l=t.getParent(o.startContainer,t.isBlock);if(l!==null&&ZC(T.fromDom(l),s,e.schema))return D.some(()=>ZP(e))}return D.none()},XP=(e,t,o)=>bc([QP,cE,iE,(s,l)=>bE(s,t,l),rE,uw,dE,EE,oE,CE,uE],s=>s(e,o)).filter(s=>e.selection.isEditable()),Cre=(e,t)=>{XP(e,t,!1).fold(()=>{e.selection.isEditable()&&(Am(e),nw(e))},Ao)},wre=(e,t)=>{XP(e,t,!0).fold(()=>{e.selection.isEditable()&&E1(e)},Ao)},Ere=(e,t)=>{e.addCommand("delete",()=>{Cre(e,t)}),e.addCommand("forwardDelete",()=>{wre(e,t)})},JP=5,Dre=400,eF=e=>e.touches===void 0||e.touches.length!==1?D.none():D.some(e.touches[0]),_re=(e,t)=>{let o=Math.abs(e.clientX-t.x),s=Math.abs(e.clientY-t.y);return o>JP||s>JP},xre=e=>{let t=gi(),o=In(!1),s=$0(l=>{e.dispatch("longpress",Me(W({},l),{type:"longpress"})),o.set(!0)},Dre);e.on("touchstart",l=>{eF(l).each(u=>{s.cancel();let d={x:u.clientX,y:u.clientY,target:l.target};s.throttle(l),o.set(!1),t.set(d)})},!0),e.on("touchmove",l=>{s.cancel(),eF(l).each(u=>{t.on(d=>{_re(u,d)&&(t.clear(),o.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",l=>{s.cancel(),l.type!=="touchcancel"&&t.get().filter(u=>u.target.isEqualNode(l.target)).each(()=>{o.get()?l.preventDefault():e.dispatch("tap",Me(W({},l),{type:"tap"}))})},!0)},_E=(e,t)=>Pe(e,t.nodeName),Sre=(e,t)=>Q(t)?!0:ge(t)?!_E(e.getBlockElements(),t)&&!no(t)&&!rl(e,t)&&!C0(t):!1,Ire=(e,t,o)=>Ht(XN(T.fromDom(o),T.fromDom(t)),s=>_E(e,s.dom)),Are=(e,t)=>{if(Q(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||_E(e,t.nextSibling)||C0(t.nextSibling)}return!1},xE=e=>e.dom.create(tr(e),pf(e)),kre=e=>{let t=e.dom,o=e.selection,s=e.schema,l=s.getBlockElements(),u=o.getStart(),d=e.getBody(),p,m,v=null,b=tr(e);if(!u||!ge(u))return;let C=d.nodeName.toLowerCase();if(!s.isValidChild(C,b.toLowerCase())||Ire(l,d,u))return;if(d.firstChild===d.lastChild&&Gt(d.firstChild)){p=xE(e),p.appendChild(Pc().dom),d.replaceChild(p,d.firstChild),e.selection.setCursorLocation(p,0),e.nodeChanged();return}let E=d.firstChild;for(;E;)if(ge(E)&&k8(s,E),Sre(s,E)){if(Are(l,E)){m=E,E=E.nextSibling,t.remove(m);continue}if(!p){if(!v&&e.hasFocus()&&(v=sP(e.selection.getRng(),()=>document.createElement("span"))),!E.parentNode){E=null;break}p=xE(e),d.insertBefore(p,E)}m=E,E=E.nextSibling,p.appendChild(m)}else p=null,E=E.nextSibling;v&&(e.selection.setRng(iP(v)),e.nodeChanged())},tF=(e,t,o)=>{let s=T.fromDom(xE(e)),l=Pc();pn(s,l),o(t,s);let u=document.createRange();return u.setStartBefore(l.dom),u.setEndBefore(l.dom),u},Tre=e=>{e.on("NodeChange",()=>kre(e))},nF=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,Mre=(e,t,o)=>function(s){let l=arguments,u=l[l.length-2],d=u>0?t.charAt(u-1):"";if(d==='"')return s;if(d===">"){let p=t.lastIndexOf("<",u);if(p!==-1&&t.substring(p,u).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+o+'" data-mce-content="'+e.dom.encode(l[0])+'">'+e.dom.encode(typeof l[1]=="string"?l[1]:l[0])+"</span>"},Nre=(e,t,o)=>{let s=t.length,l=o.content;if(o.format!=="raw"){for(;s--;)l=l.replace(t[s],Mre(e,l,QT(e)));o.content=l}},Rre=(e,t)=>ko(e,o=>{let s=t.match(o);return s!==null&&s[0].length===t.length}),Ore=e=>{let t="contenteditable",o=" "+ee.trim(oq(e))+" ",s=" "+ee.trim(QT(e))+" ",l=nF(o),u=nF(s),d=sq(e);d.length>0&&e.on("BeforeSetContent",p=>{Nre(e,d,p)}),e.parser.addAttributeFilter("class",p=>{let m=p.length;for(;m--;){let v=p[m];l(v)?v.attr(t,"true"):u(v)&&v.attr(t,"false")}}),e.serializer.addAttributeFilter(t,p=>{let m=p.length;for(;m--;){let v=p[m];if(!l(v)&&!u(v))continue;let b=v.attr("data-mce-content");d.length>0&&b?Rre(d,b)?(v.name="#text",v.type=3,v.raw=!0,v.value=b):v.remove():v.attr(t,null)}})},Pre=e=>Nh(T.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),rF=(e,t)=>{t.hasAttribute("data-mce-caret")&&(W0(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},Fre=(e,t)=>{let o=Pre(e);if(o){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),rF(e,o);return}nT(o)&&(rF(e,o),e.undoManager.add())}},Lre=e=>{e.on("keyup compositionstart",pe(Fre,e))},oF=Nt,Bre=(e,t,o)=>MP(t,e,o,ma,ga,oF),Vre=(e,t,o)=>NP(t,e,o,u=>ma(u)||QN(u),u=>ga(u)||KC(u),oF),$re=e=>{let t=e.dom.create(tr(e));return t.innerHTML='<br data-mce-bogus="1">',t},sF=(e,t,o)=>{let s=$s(e.getBody()),l=pe(uC,t===1?s.next:s.prev);if(o.collapsed){let u=e.dom.getParent(o.startContainer,"PRE");if(!u)return;if(!l(j.fromRangeStart(o))){let p=T.fromDom($re(e));t===1?pi(T.fromDom(u),p):xr(T.fromDom(u),p),e.selection.select(p.dom,!0),e.selection.collapse()}}},jre=(e,t)=>{let o=t?Fn.Forwards:Fn.Backwards,s=e.selection.getRng();return Bre(o,e,s).orThunk(()=>(sF(e,o,s),D.none()))},Ure=(e,t)=>{let o=t?1:-1,s=e.selection.getRng();return Vre(o,e,s).orThunk(()=>(sF(e,o,s),D.none()))},Hre=(e,t)=>{let o=t?e.getEnd(!0):e.getStart(!0);return y1(o)?!t:t},iF=(e,t)=>jre(e,Hre(e.selection,t)).exists(o=>(Ei(e,o),!0)),aF=(e,t)=>Ure(e,t).exists(o=>(Ei(e,o),!0)),lF=(e,t)=>RP(e,t,t?ga:ma),ng=(e,t)=>aE(e,!t).map(o=>{let s=o.toRange(),l=e.selection.getRng();return t?s.setStart(l.startContainer,l.startOffset):s.setEnd(l.endContainer,l.endOffset),s}).exists(o=>(Ei(e,o),!0)),zre=e=>ft(["figcaption"],st(e)),Wre=(e,t,o)=>{let s=pe(mt,t);return Qa(T.fromDom(e.container()),l=>o.isBlock(st(l)),s).filter(zre)},qre=(e,t,o)=>t?DP(e.dom,o):EP(e.dom,o),Gre=(e,t)=>{let o=T.fromDom(e.getBody()),s=j.fromRangeStart(e.selection.getRng());return Wre(s,o,e.schema).exists(()=>{if(qre(o,t,s)){let u=tF(e,o,t?pn:Ph);return e.selection.setRng(u),!0}else return!1})},cF=(e,t)=>e.selection.isCollapsed()?Gre(e,t):!1,Kre=(e,t,o)=>{let s=e.selection.getRng(),l=j.fromRangeStart(s);return e.getBody().firstChild===t&&EP(o,l)?(e.execCommand("InsertNewBlockBefore"),!0):!1},Yre=(e,t)=>{let o=e.selection.getRng(),s=j.fromRangeStart(o);return e.getBody().lastChild===t&&DP(t,s)?(e.execCommand("InsertNewBlockAfter"),!0):!1},Zre=(e,t)=>t?D.from(e.dom.getParent(e.selection.getNode(),"details")).map(o=>Yre(e,o)).getOr(!1):D.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(o=>D.from(e.dom.getParent(o,"details")).map(s=>Kre(e,s,o))).getOr(!1),uF=(e,t)=>Zre(e,t),dF={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Qre=e=>rt(e,t=>W(W({},dF),t)),Xre=e=>rt(e,t=>W(W({},dF),t)),fF=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,Jre=(e,t)=>yr(Qre(e),o=>fF(o,t)?[o]:[]),eoe=(e,t)=>yr(Xre(e),o=>fF(o,t)?[o]:[]),Ae=(e,...t)=>()=>e.apply(null,t),zf=(e,t)=>sn(Jre(e,t),o=>o.action()),pF=(e,t)=>bc(eoe(e,t),o=>o.action()),hF=(e,t)=>{let o=t?Fn.Forwards:Fn.Backwards,s=e.selection.getRng();return MP(e,o,s,If,Af,Fs).exists(l=>(Ei(e,l),!0))},mF=(e,t)=>{let o=t?1:-1,s=e.selection.getRng();return NP(e,o,s,If,Af,Fs).exists(l=>(Ei(e,l),!0))},gF=(e,t)=>RP(e,t,t?Af:If),vF=Ls.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),toe=e=>vF.none(e),Wf=Me(W({},vF),{none:toe}),noe=(e,t)=>yF(e,t,Ut),yF=(e,t,o)=>yr(Xn(e),s=>Jo(s,t)?o(s)?[s]:[]:yF(s,t,o)),roe=(e,t,o=wt)=>{if(o(t))return D.none();if(ft(e,st(t)))return D.some(t);let s=l=>Jo(l,"table")||o(l);return qd(t,e.join(","),s)},ooe=(e,t)=>roe(["td","th"],e,t),soe=e=>noe(e,"th,td"),bF=(e,t)=>Ic(e,"table",t),SE=(e,t,o,s,l=Ut)=>{let u=s===1;if(!u&&o<=0)return Wf.first(e[0]);if(u&&o>=e.length-1)return Wf.last(e[e.length-1]);{let d=o+s,p=e[d];return l(p)?Wf.middle(t,p):SE(e,t,d,s,l)}},CF=(e,t)=>bF(e,t).bind(o=>{let s=soe(o);return As(s,u=>mt(e,u)).map(u=>({index:u,all:s}))}),ioe=(e,t,o)=>CF(e,o).fold(()=>Wf.none(e),l=>SE(l.all,e,l.index,1,t)),aoe=(e,t,o)=>CF(e,o).fold(()=>Wf.none(),l=>SE(l.all,e,l.index,-1,t)),loe=e=>FW(e).filter(t=>t.trim().length!==0||t.indexOf(Sn)>-1).isSome(),coe=e=>kh(e)&&jr(e,"contenteditable")==="false",uoe=["img","br"],doe=e=>loe(e)||ft(uoe,st(e))||coe(e),foe=e=>GA(e,doe),poe=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),hoe=(e,t)=>yr(t,o=>{let s=poe(dl(o.getBoundingClientRect()),-1);return[{x:s.left,y:e(s),cell:o},{x:s.right,y:e(s),cell:o}]}),moe=(e,t,o)=>Rn(e,(s,l)=>s.fold(()=>D.some(l),u=>{let d=Math.sqrt(Math.abs(u.x-t)+Math.abs(u.y-o)),p=Math.sqrt(Math.abs(l.x-t)+Math.abs(l.y-o));return D.some(p<d?l:u)}),D.none()),wF=(e,t,o,s,l)=>{let u=Jn(T.fromDom(o),"td,th,caption").map(p=>p.dom),d=Te(hoe(e,u),p=>t(p,l));return moe(d,s,l).map(p=>p.cell)},goe=e=>e.bottom,voe=e=>e.top,yoe=(e,t)=>e.y<t,boe=(e,t)=>e.y>t,Coe=pe(wF,goe,yoe),woe=pe(wF,voe,boe),Eoe=(e,t)=>br(t.getClientRects()).bind(o=>Coe(e,o.left,o.top)).bind(o=>Xm(Ene(o),t)),Doe=(e,t)=>na(t.getClientRects()).bind(o=>woe(e,o.left,o.top)).bind(o=>Xm(wne(o),t)),_oe=(e,t,o)=>o.breakAt.exists(s=>e(t,s).breakAt.isSome()),xoe=e=>e.breakType===wi.Wrap&&e.positions.length===0,Soe=e=>e.breakType===wi.Br&&e.positions.length===1,EF=(e,t,o)=>{let s=e(t,o);return xoe(s)||!Gt(o.getNode())&&Soe(s)?!_oe(e,t,s):s.breakAt.isNone()},Ioe=pe(EF,jf),Aoe=pe(EF,Uf),koe=(e,t,o)=>{let s=j.fromRangeStart(t);return Hc(!e,o).exists(l=>l.isEqual(s))},Toe=(e,t,o,s)=>{let l=e.selection.getRng(),u=t?1:-1;return aM()&&koe(t,l,o)?(Ci(u,e,o,!t,!1).each(d=>{Ei(e,d)}),!0):!1},Moe=(e,t,o)=>Eoe(t,o).orThunk(()=>br(o.getClientRects()).bind(s=>mE(CP(e,j.before(t)),s.left))).getOr(j.before(t)),Noe=(e,t,o)=>Doe(t,o).orThunk(()=>br(o.getClientRects()).bind(s=>mE(wP(e,j.after(t)),s.left))).getOr(j.after(t)),DF=(e,t)=>{let o=t.getNode(e);return Ps(o)?D.some(o):D.none()},Roe=(e,t,o)=>{t.undoManager.transact(()=>{let s=e?pi:xr,l=tF(t,T.fromDom(o),s);Ei(t,l)})},_F=(e,t,o)=>{let s=DF(!!t,o),l=t===!1;s.fold(()=>Ei(e,o.toRange()),u=>Hc(l,e.getBody()).filter(d=>d.isEqual(o)).fold(()=>Ei(e,o.toRange()),d=>Roe(t,e,u)))},Ooe=(e,t,o,s)=>{let l=e.selection.getRng(),u=j.fromRangeStart(l),d=e.getBody();if(!t&&Ioe(s,u)){let p=Moe(d,o,u);return _F(e,t,p),!0}else if(t&&Aoe(s,u)){let p=Noe(d,o,u);return _F(e,t,p),!0}else return!1},xF=(e,t,o)=>D.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(s=>D.from(e.dom.getParent(s,"table")).map(l=>o(e,t,l,s))).getOr(!1),SF=(e,t)=>xF(e,t,Toe),IE=(e,t)=>xF(e,t,Ooe),Poe=e=>{let t=Kc.exact(e,0,e,0);return EG(t)},IF=(e,t,o)=>o.fold(D.none,D.none,(s,l)=>foe(l).map(u=>Poe(u)),s=>(e.execCommand("mceTableInsertRowAfter"),AF(e,t,s))),AF=(e,t,o)=>IF(e,t,ioe(o,Xa)),Foe=(e,t,o)=>IF(e,t,aoe(o,Xa)),kF=(e,t)=>{let o=["table","li","dl"],s=T.fromDom(e.getBody()),l=p=>{let m=st(p);return mt(p,s)||ft(o,m)},u=e.selection.getRng(),d=T.fromDom(t?u.endContainer:u.startContainer);return ooe(d,l).map(p=>(bF(p,l).each(b=>{e.model.table.clearSelectedCells(b.dom)}),e.selection.collapse(!t),(t?AF:Foe)(e,l,p).each(b=>{e.selection.setRng(b)}),!0)).getOr(!1)},Loe=(e,t,o)=>{let s=ct.os.isMacOS()||ct.os.isiOS();zf([{keyCode:ce.RIGHT,action:Ae(iF,e,!0)},{keyCode:ce.LEFT,action:Ae(iF,e,!1)},{keyCode:ce.UP,action:Ae(aF,e,!1)},{keyCode:ce.DOWN,action:Ae(aF,e,!0)},...s?[{keyCode:ce.UP,action:Ae(ng,e,!1),metaKey:!0,shiftKey:!0},{keyCode:ce.DOWN,action:Ae(ng,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:ce.RIGHT,action:Ae(SF,e,!0)},{keyCode:ce.LEFT,action:Ae(SF,e,!1)},{keyCode:ce.UP,action:Ae(IE,e,!1)},{keyCode:ce.DOWN,action:Ae(IE,e,!0)},{keyCode:ce.UP,action:Ae(IE,e,!1)},{keyCode:ce.UP,action:Ae(uF,e,!1)},{keyCode:ce.DOWN,action:Ae(uF,e,!0)},{keyCode:ce.RIGHT,action:Ae(hF,e,!0)},{keyCode:ce.LEFT,action:Ae(hF,e,!1)},{keyCode:ce.UP,action:Ae(mF,e,!1)},{keyCode:ce.DOWN,action:Ae(mF,e,!0)},{keyCode:ce.RIGHT,action:Ae(FP,e,t,!0)},{keyCode:ce.LEFT,action:Ae(FP,e,t,!1)},{keyCode:ce.RIGHT,ctrlKey:!s,altKey:s,action:Ae($ne,e,t)},{keyCode:ce.LEFT,ctrlKey:!s,altKey:s,action:Ae(jne,e,t)},{keyCode:ce.UP,action:Ae(cF,e,!1)},{keyCode:ce.DOWN,action:Ae(cF,e,!0)}],o).each(l=>{o.preventDefault()})},Boe=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||Loe(e,t,o)})},ls=(e,t)=>({container:e,offset:t}),rg=At.DOM,og=e=>t=>e===t?-1:0,Voe=e=>t=>e.isBlock(t)||ft(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",AE=(e,t,o)=>{if(Q(e)&&t>=0)return D.some(ls(e,t));{let s=cl(rg);return D.from(s.backwards(e,t,og(e),o)).map(l=>ls(l.container,l.container.data.length))}},$oe=(e,t,o)=>{if(Q(e)&&t>=e.length)return D.some(ls(e,t));{let s=cl(rg);return D.from(s.forwards(e,t,og(e),o)).map(l=>ls(l.container,0))}},kE=(e,t,o)=>{if(!Q(e))return D.none();let s=e.data;if(t>=0&&t<=s.length)return D.some(ls(e,t));{let l=cl(rg);return D.from(l.backwards(e,t,og(e),o)).bind(u=>{let d=u.container.data;return kE(u.container,t+d.length,o)})}},TF=(e,t,o)=>{if(!Q(e))return D.none();let s=e.data;if(t<=s.length)return D.some(ls(e,t));{let l=cl(rg);return D.from(l.forwards(e,t,og(e),o)).bind(u=>TF(u.container,t-s.length,o))}},TE=(e,t,o,s,l)=>{let u=cl(e,Voe(e));return D.from(u.backwards(t,o,s,l))},joe=e=>e.collapsed&&Q(e.startContainer),Uoe=e=>Ur(e.toString().replace(/\u00A0/g," ")),MF=e=>e!==""&&` \xA0\f
\r	\v`.indexOf(e)!==-1,Hoe=(e,t)=>e.substring(t.length),zoe=(e,t,o,s=!1)=>{let l,u=o.charAt(0);for(l=t-1;l>=0;l--){let d=e.charAt(l);if(!s&&MF(d))return D.none();if(u===d&&Zn(e,o,l,t))break}return D.some(l)},ME=(e,t,o,s=!1)=>{if(!joe(t))return D.none();let l={text:"",offset:0},u=(p,m,v)=>(l.text=v+l.text,l.offset+=m,zoe(l.text,l.offset,o,s).getOr(m)),d=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return TE(e,t.startContainer,t.startOffset,u,d).bind(p=>{let m=t.cloneRange();if(m.setStart(p.container,p.offset),m.setEnd(t.endContainer,t.endOffset),m.collapsed)return D.none();let v=Uoe(m);return v.lastIndexOf(o)!==0?D.none():D.some({text:Hoe(v,o),range:m,trigger:o})})},Woe=e=>e.nodeType===NA,qoe=e=>e.nodeType===Vd,NF=e=>{if(Woe(e))return ls(e,e.data.length);{let t=e.childNodes;return t.length>0?NF(t[t.length-1]):ls(e,t.length)}},RF=(e,t)=>{let o=e.childNodes;return o.length>0&&t<o.length?RF(o[t],0):o.length>0&&qoe(e)&&o.length===t?NF(o[o.length-1]):ls(e,t)},Goe=(e,t)=>{var o;let s=(o=e.getParent(t.container,e.isBlock))!==null&&o!==void 0?o:e.getRoot();return TE(e,t.container,t.offset,(l,u)=>u===0?-1:u,s).filter(l=>{let u=l.container.data.charAt(l.offset-1);return!MF(u)}).isSome()},Koe=e=>t=>{let o=RF(t.startContainer,t.startOffset);return!Goe(e,o)},Yoe=(e,t,o)=>bc(o.triggers,s=>ME(e,t,s)),Zoe=(e,t)=>{let o=t(),s=e.selection.getRng();return Yoe(e.dom,s,o).bind(l=>OF(e,t,l))},OF=(e,t,o,s={})=>{var l;let u=t(),p=(l=e.selection.getRng().startContainer.nodeValue)!==null&&l!==void 0?l:"",m=Te(u.lookupByTrigger(o.trigger),b=>o.text.length>=b.minChars&&b.matches.getOrThunk(()=>Koe(e.dom))(o.range,p,o.text));if(m.length===0)return D.none();let v=Promise.all(rt(m,b=>b.fetch(o.text,b.maxResults,s).then(E=>({matchText:o.text,items:E,columns:b.columns,onAction:b.onAction,highlightOn:b.highlightOn}))));return D.some({lookupData:v,context:o})};var Ws=function(e){return e[e.Error=0]="Error",e[e.Value=1]="Value",e}(Ws||{});let NE=(e,t,o)=>e.stype===Ws.Error?t(e.serror):o(e.svalue),Qoe=e=>{let t=[],o=[];return z(e,s=>{NE(s,l=>o.push(l),l=>t.push(l))}),{values:t,errors:o}},Xoe=(e,t)=>e.stype===Ws.Error?{stype:Ws.Error,serror:t(e.serror)}:e,Joe=(e,t)=>e.stype===Ws.Value?{stype:Ws.Value,svalue:t(e.svalue)}:e,ese=(e,t)=>e.stype===Ws.Value?t(e.svalue):e,tse=(e,t)=>e.stype===Ws.Error?t(e.serror):e,PF=e=>({stype:Ws.Value,svalue:e}),FF=e=>({stype:Ws.Error,serror:e}),Ln={fromResult:e=>e.fold(FF,PF),toResult:e=>NE(e,wr.error,wr.value),svalue:PF,partition:Qoe,serror:FF,bind:ese,bindError:tse,map:Joe,mapError:Xoe,fold:NE},RE=e=>Fe(e)&&_r(e).length>100?" removed due to size":JSON.stringify(e,null,2),nse=e=>{let t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:re("... (only showing first ten failures)")}]):e;return rt(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},sg=(e,t)=>Ln.serror([{path:e,getErrorInfo:t}]),rse=(e,t,o)=>sg(e,()=>'Could not find valid *required* value for "'+t+'" in '+RE(o)),ose=(e,t)=>sg(e,()=>'Choice schema did not contain choice key: "'+t+'"'),sse=(e,t,o)=>sg(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+RE(t)),ise=(e,t)=>sg(e,re(t)),ase=(e,t,o,s)=>Ft(o,s).fold(()=>sse(e,o,s),u=>u.extract(e.concat(["branch: "+s]),t)),lse=(e,t)=>({extract:(l,u)=>Ft(u,e).fold(()=>ose(l,e),p=>ase(l,u,t,p)),toString:()=>"chooseOn("+e+"). Possible values: "+_r(t)}),cse=(e,t)=>t,use=(e,t)=>Le(e)&&Le(t)?ig(e,t):t,LF=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");let o={};for(let s=0;s<t.length;s++){let l=t[s];for(let u in l)Pe(l,u)&&(o[u]=e(o[u],l[u]))}return o},ig=LF(use),BF=LF(cse),VF=()=>({tag:"required",process:{}}),dse=e=>({tag:"defaultedThunk",process:e}),$F=e=>dse(re(e)),fse=()=>({tag:"option",process:{}}),pse=(e,t)=>e.length>0?Ln.svalue(ig(t,BF.apply(void 0,e))):Ln.svalue(t),jF=e=>Mt(Ln.serror,Nd)(e),hse={consolidateObj:(e,t)=>{let o=Ln.partition(e);return o.errors.length>0?jF(o.errors):pse(o.values,t)},consolidateArr:e=>{let t=Ln.partition(e);return t.errors.length>0?jF(t.errors):Ln.svalue(t.values)}},mse=(e,t,o,s)=>({tag:"field",key:e,newKey:t,presence:o,prop:s}),gse=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),UF=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},OE=e=>{let t=(s,l)=>Ln.bindError(e(l),u=>ise(s,u)),o=re("val");return{extract:t,toString:o}},vse=OE(Ln.svalue),yse=(e,t,o,s)=>Ft(t,o).fold(()=>rse(e,o,t),s),HF=(e,t,o,s)=>{let l=Ft(e,t).getOrThunk(()=>o(e));return s(l)},bse=(e,t,o)=>o(Ft(e,t)),Cse=(e,t,o,s)=>{let l=Ft(e,t).map(u=>u===!0?o(e):u);return s(l)},wse=(e,t,o,s,l)=>{let u=p=>l.extract(t.concat([s]),p),d=p=>p.fold(()=>Ln.svalue(D.none()),m=>{let v=l.extract(t.concat([s]),m);return Ln.map(v,D.some)});switch(e.tag){case"required":return yse(t,o,s,u);case"defaultedThunk":return HF(o,s,e.process,u);case"option":return bse(o,s,d);case"defaultedOptionThunk":return Cse(o,s,e.process,d);case"mergeWithThunk":return HF(o,s,re({}),p=>{let m=ig(e.process(o),p);return u(m)})}},Ese=(e,t,o)=>{let s={},l=[];for(let u of o)UF(u,(d,p,m,v)=>{let b=wse(m,e,t,d,v);Ln.fold(b,C=>{l.push(...C)},C=>{s[p]=C})},(d,p)=>{s[d]=p(t)});return l.length>0?Ln.serror(l):Ln.svalue(s)},PE=e=>({extract:(s,l)=>Ese(s,l,e),toString:()=>`obj{
`+rt(e,l=>UF(l,(u,d,p,m)=>u+" -> "+m.toString(),(u,d)=>"state("+u+")")).join(`
`)+"}"}),zF=e=>({extract:(s,l)=>{let u=rt(l,(d,p)=>e.extract(s.concat(["["+p+"]"]),d));return hse.consolidateArr(u)},toString:()=>"array("+e.toString()+")"}),Dse=e=>OE(t=>e(t).fold(Ln.serror,Ln.svalue)),_se=(e,t,o)=>{let s=t.extract([e],o);return Ln.mapError(s,l=>({input:o,errors:l}))},xse=(e,t,o)=>Ln.toResult(_se(e,t,o)),Sse=e=>`Errors: 
`+nse(e.errors).join(`
`)+`

Input object: `+RE(e.input),WF=(e,t)=>lse(e,Od(t,PE)),Ise=re(vse),ag=(e,t)=>OE(o=>{let s=typeof o;return e(o)?Ln.svalue(o):Ln.serror(`Expected type: ${t} but got: ${s}`)}),Ase=ag(Zt,"number"),lg=ag(te,"string"),kse=ag(et,"boolean"),FE=ag(Oe,"function"),qf=mse,qF=gse,Tse=e=>Dse(t=>ft(e,t)?wr.value(t):wr.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),GF=(e,t)=>qf(e,e,VF(),t),KF=e=>GF(e,lg),YF=e=>GF(e,FE),Mse=(e,t)=>qf(e,e,VF(),zF(t)),LE=(e,t)=>qf(e,e,fse(),t),cg=e=>LE(e,lg),Nse=e=>LE(e,FE),Rse=(e,t)=>qf(e,e,$F(t),Ise()),ou=(e,t,o)=>qf(e,e,$F(t),o),ZF=(e,t)=>ou(e,t,Ase),Ose=(e,t)=>ou(e,t,lg),QF=(e,t,o)=>ou(e,t,Tse(o)),BE=(e,t)=>ou(e,t,kse),VE=(e,t)=>ou(e,t,FE),Pse=(e,t,o)=>ou(e,t,zF(o)),Fse=KF("type"),Lse=YF("fetch"),$E=YF("onAction"),Bse=VE("onSetup",()=>Ne),Vse=cg("text"),$se=cg("icon"),jse=cg("tooltip"),Use=cg("label"),Hse=BE("active",!1),zse=BE("enabled",!0),XF=BE("primary",!1),Wse=e=>Rse("columns",e),Gf=e=>Ose("type",e),qse=PE([Fse,KF("trigger"),ZF("minChars",1),Wse(1),ZF("maxResults",10),Nse("matches"),Lse,$E,Pse("highlightOn",[],lg)]),Gse=e=>xse("Autocompleter",qse,e),jE=[zse,jse,$se,Vse,Bse],JF=[Hse].concat(jE),Kse=[VE("predicate",wt),QF("scope","node",["node","editor"]),QF("position","selection",["node","selection","line"])],Yse=jE.concat([Gf("contextformbutton"),XF,$E,qF("original",_n)]),Zse=JF.concat([Gf("contextformbutton"),XF,$E,qF("original",_n)]),Qse=jE.concat([Gf("contextformbutton")]),Xse=JF.concat([Gf("contextformtogglebutton")]),Jse=WF("type",{contextformbutton:Yse,contextformtogglebutton:Zse});PE([Gf("contextform"),VE("initValue",re("")),Use,Mse("commands",Jse),LE("launch",WF("type",{contextformbutton:Qse,contextformtogglebutton:Xse}))].concat(Kse));let eie=e=>{let t=e.ui.registry.getAll().popups,o=Od(t,d=>Gse(d).fold(p=>{throw new Error(Sse(p))},_n)),s=XI(_h(o,d=>d.trigger)),l=Kb(o);return{dataset:o,triggers:s,lookupByTrigger:d=>Te(l,p=>p.trigger===d)}},tie=(e,t)=>{let o=$0(t.load,50);e.on("input",s=>{s.inputType==="insertCompositionText"&&!e.composing||o.throttle()}),e.on("keydown",s=>{let l=s.which;l===8?o.throttle():l===27?(o.cancel(),t.cancelIfNecessary()):(l===38||l===40)&&o.cancel()},!0),e.on("remove",o.cancel)},nie=e=>{let t=gi(),o=In(!1),s=t.isSet,l=()=>{s()&&(G9(e),o.set(!1),t.clear())},u=C=>{s()||t.set({trigger:C.trigger,matchLength:C.text.length})},d=ks(()=>eie(e)),p=C=>t.get().map(E=>ME(e.dom,e.selection.getRng(),E.trigger,!0).bind(x=>OF(e,d,x,C))).getOrThunk(()=>Zoe(e,d)),m=C=>{p(C).fold(l,E=>{u(E.context),E.lookupData.then(x=>{t.get().map(I=>{let S=E.context;I.trigger===S.trigger&&(t.set(Me(W({},I),{matchLength:S.text.length})),o.get()?(kC(e,{range:S.range}),q9(e,{lookupData:x})):(o.set(!0),kC(e,{range:S.range}),W9(e,{lookupData:x})))})})})},v=(C,E)=>{let x=C.compareBoundaryPoints(window.Range.START_TO_START,E),I=C.compareBoundaryPoints(window.Range.END_TO_END,E);return x>=0&&I<=0},b=()=>t.get().bind(({trigger:C})=>{let E=e.selection.getRng();return ME(e.dom,E,C,o.get()).filter(({range:x})=>v(E,x)).map(({range:x})=>x)});e.addCommand("mceAutocompleterReload",(C,E)=>{let x=Fe(E)?E.fetchOptions:{};m(x)}),e.addCommand("mceAutocompleterClose",l),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{b().each(C=>{kC(e,{range:C})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>b().isSome()),tie(e,{cancelIfNecessary:l,load:m})},rie=Ms().browser.isSafari(),eL=e=>aa(T.fromDom(e)),tL=(e,t)=>{var o;return e.startOffset===0&&e.endOffset===((o=t.textContent)===null||o===void 0?void 0:o.length)},ug=(e,t)=>D.from(e.getParent(t.container(),"details")),nL=(e,t)=>ug(e,t).isSome(),oie=(e,t)=>{let o=D.from(e.getParent(t.startContainer,"details")),s=D.from(e.getParent(t.endContainer,"details"));if(o.isSome()||s.isSome()){let l=o.bind(u=>D.from(e.select("summary",u)[0]));return D.some({startSummary:l,startDetails:o,endDetails:s})}else return D.none()},sie=(e,t)=>nr(t).exists(o=>o.isEqual(e)),iie=(e,t)=>Mo(t).exists(o=>Gt(o.getNode())&&Sr(t,o).exists(s=>s.isEqual(e))||o.isEqual(e)),aie=(e,t)=>t.startSummary.exists(o=>sie(e,o)),lie=(e,t)=>t.startSummary.exists(o=>iie(e,o)),cie=(e,t)=>t.startDetails.exists(o=>Sr(o,e).forall(s=>t.startSummary.exists(l=>!l.contains(e.container())&&l.contains(s.container())))),uie=(e,t,o)=>o.startDetails.exists(s=>Er(e,t).forall(l=>!s.contains(l.container()))),rL=(e,t)=>{let o=t.getNode();Ke(o)||e.selection.setCursorLocation(o,t.offset())},oL=(e,t,o)=>{let s=e.dom.getParent(t.container(),"details");if(s&&!s.open){let l=e.dom.select("summary",s)[0];l&&(o?nr(l):Mo(l)).each(d=>rL(e,d))}else rL(e,t)},die=(e,t)=>{let o=m=>m.contains(e.startContainer),s=m=>m.contains(e.endContainer),l=t.startSummary.exists(o),u=t.startSummary.exists(s),d=t.startDetails.forall(m=>t.endDetails.forall(v=>m!==v));return(l||u)&&!(l&&u)||d},sL=(e,t,o)=>{let{dom:s,selection:l}=e,u=e.getBody();if(o==="character"){let d=j.fromRangeStart(l.getRng()),p=s.getParent(d.container(),s.isBlock),m=ug(s,d),v=p&&s.isEmpty(p),b=ke(p?.previousSibling),C=ke(p?.nextSibling);return v&&(t?C:b)&&Uc(!t,u,d).exists(I=>nL(s,I)&&!IA(m,ug(s,I)))?!0:Uc(t,u,d).fold(wt,E=>{let x=ug(s,E);if(nL(s,E)&&!IA(m,x)){if(t||oL(e,E,!1),p&&v){if(t&&b)return!0;if(!t&&C)return!0;oL(e,E,t),e.dom.remove(p)}return!0}else return!1})}else return!1},fie=(e,t,o,s)=>{let u=e.selection.getRng(),d=j.fromRangeStart(u),p=e.getBody();return s==="selection"?die(u,t):o?lie(d,t)||uie(p,d,t):aie(d,t)||cie(d,t)},pie=(e,t,o)=>oie(e.dom,e.selection.getRng()).fold(()=>sL(e,t,o),s=>fie(e,s,t,o)||sL(e,t,o)),hie=(e,t,o)=>{let s=e.selection,l=s.getNode(),u=s.getRng(),d=j.fromRangeStart(u);return p8(l)?(o==="selection"&&tL(u,l)||D1(t,d,l)?eL(l):e.undoManager.transact(()=>{let p=s.getSel(),{anchorNode:m,anchorOffset:v,focusNode:b,focusOffset:C}=p??{},E=()=>{G(m)&&G(v)&&G(b)&&G(C)&&p?.setBaseAndExtent(m,v,b,C)},x=()=>{m=p?.anchorNode,v=p?.anchorOffset,b=p?.focusNode,C=p?.focusOffset},I=(A,M)=>{z(A.childNodes,R=>{Ef(R)&&M.appendChild(R)})},S=e.dom.create("span",{"data-mce-bogus":"1"});I(l,S),l.appendChild(S),E(),(o==="word"||o==="line")&&p?.modify("extend",t?"right":"left",o),!s.isCollapsed()&&tL(s.getRng(),S)?eL(l):(e.execCommand(t?"ForwardDelete":"Delete"),x(),I(S,l),E()),e.dom.remove(S)}),!0):!1},_l=(e,t,o)=>pie(e,t,o)||rie&&hie(e,t,o)?D.some(Ne):D.none(),iL=e=>(t,o,s={})=>{let l=t.getBody(),u={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:l,currentTarget:l,eventPhase:Event.AT_TARGET,originalTarget:l,explicitOriginalTarget:l,isTrusted:!1,srcElement:l,cancelable:!1,preventDefault:Ne,inputType:o},d=$k(new InputEvent(e));return t.dispatch(e,W(W(W({},d),u),s))},Kf=iL("input"),dg=iL("beforeinput"),aL=Ms(),lL=aL.os,cL=lL.isMacOS()||lL.isiOS(),mie=aL.browser.isFirefox(),gie=(e,t,o)=>{let s=o.keyCode===ce.BACKSPACE?"deleteContentBackward":"deleteContentForward",l=e.selection.isCollapsed(),u=l?"character":"selection",d=p=>l?p?"word":"line":"selection";pF([{keyCode:ce.BACKSPACE,action:Ae(QP,e)},{keyCode:ce.BACKSPACE,action:Ae(cE,e,!1)},{keyCode:ce.DELETE,action:Ae(cE,e,!0)},{keyCode:ce.BACKSPACE,action:Ae(iE,e,!1)},{keyCode:ce.DELETE,action:Ae(iE,e,!0)},{keyCode:ce.BACKSPACE,action:Ae(bE,e,t,!1)},{keyCode:ce.DELETE,action:Ae(bE,e,t,!0)},{keyCode:ce.BACKSPACE,action:Ae(uw,e,!1)},{keyCode:ce.DELETE,action:Ae(uw,e,!0)},{keyCode:ce.BACKSPACE,action:Ae(_l,e,!1,u)},{keyCode:ce.DELETE,action:Ae(_l,e,!0,u)},...cL?[{keyCode:ce.BACKSPACE,altKey:!0,action:Ae(_l,e,!1,d(!0))},{keyCode:ce.DELETE,altKey:!0,action:Ae(_l,e,!0,d(!0))},{keyCode:ce.BACKSPACE,metaKey:!0,action:Ae(_l,e,!1,d(!1))}]:[{keyCode:ce.BACKSPACE,ctrlKey:!0,action:Ae(_l,e,!1,d(!0))},{keyCode:ce.DELETE,ctrlKey:!0,action:Ae(_l,e,!0,d(!0))}],{keyCode:ce.BACKSPACE,action:Ae(dE,e,!1)},{keyCode:ce.DELETE,action:Ae(dE,e,!0)},{keyCode:ce.BACKSPACE,action:Ae(EE,e,!1)},{keyCode:ce.DELETE,action:Ae(EE,e,!0)},{keyCode:ce.BACKSPACE,action:Ae(oE,e,!1)},{keyCode:ce.DELETE,action:Ae(oE,e,!0)},{keyCode:ce.BACKSPACE,action:Ae(rE,e,!1)},{keyCode:ce.DELETE,action:Ae(rE,e,!0)},{keyCode:ce.BACKSPACE,action:Ae(CE,e,!1)},{keyCode:ce.DELETE,action:Ae(CE,e,!0)},{keyCode:ce.BACKSPACE,action:Ae(uE,e,!1)},{keyCode:ce.DELETE,action:Ae(uE,e,!0)}],o).filter(p=>e.selection.isEditable()).each(p=>{o.preventDefault(),dg(e,s).isDefaultPrevented()||(p(),Kf(e,s))})},vie=(e,t,o)=>zf([{keyCode:ce.BACKSPACE,action:Ae(nP,e)},{keyCode:ce.DELETE,action:Ae(nP,e)},...cL?[{keyCode:ce.BACKSPACE,altKey:!0,action:Ae(Hf,e)},{keyCode:ce.DELETE,altKey:!0,action:Ae(Hf,e)},...o?[{keyCode:mie?224:91,action:Ae(Hf,e)}]:[]]:[{keyCode:ce.BACKSPACE,ctrlKey:!0,action:Ae(Hf,e)},{keyCode:ce.DELETE,ctrlKey:!0,action:Ae(Hf,e)}]],t),yie=(e,t)=>{let o=!1;e.on("keydown",s=>{o=s.keyCode===ce.BACKSPACE,s.isDefaultPrevented()||gie(e,t,s)}),e.on("keyup",s=>{s.isDefaultPrevented()||vie(e,s,o),o=!1})},bie=e=>{for(;e;){if(ge(e)||Q(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},su=(e,t)=>{let o=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){let u=bie(t.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&t.insertBefore(o.doc.createTextNode(Sn),t.firstChild)}let l=o.createRng();if(t.normalize(),t.hasChildNodes()){let u=new xn(t,t),d=t,p;for(;p=u.current();){if(Q(p)){l.setStart(p,0),l.setEnd(p,0);break}if(s[p.nodeName.toLowerCase()]){l.setStartBefore(p),l.setEndBefore(p);break}d=p,p=u.next()}p||(l.setStart(d,0),l.setEnd(d,0))}else Gt(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)):(l.setStart(t,0),l.setEnd(t,0));e.selection.setRng(l),Sf(e,l)},Yf=(e,t)=>{let o=e.getRoot(),s,l=t;for(;l!==o&&l&&e.getContentEditable(l)!=="false";){if(e.getContentEditable(l)==="true"){s=l;break}l=l.parentNode}return l!==o?s:o},UE=e=>D.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),Cie=e=>UE(e).fold(re(""),t=>t.nodeName.toUpperCase()),wie=e=>UE(e).filter(t=>Oc(T.fromDom(t))).isSome(),HE=e=>{e.innerHTML='<br data-mce-bogus="1">'},Eie=(e,t,o)=>{let s=e.dom;D.from(o.style).map(s.parseStyle).each(m=>{let v=d0(T.fromDom(t)),b=W(W({},v),m);s.setStyles(t,b)});let l=D.from(o.class).map(m=>m.split(/\s+/)),u=D.from(t.className).map(m=>Te(m.split(/\s+/),v=>v!==""));Qn(l,u,(m,v)=>{let b=Te(v,E=>!ft(m,E)),C=[...m,...b];s.setAttrib(t,"class",C.join(" "))});let d=["style","class"],p=Pd(o,(m,v)=>!ft(d,v));s.setAttribs(t,p)},Zf=(e,t)=>{if(tr(e).toLowerCase()===t.tagName.toLowerCase()){let s=pf(e);Eie(e,t,s)}},uL=(e,t,o,s,l=!0,u,d)=>{let p=e.dom,m=e.schema,v=tr(e),b=o?o.nodeName.toUpperCase():"",C=t,E=m.getTextInlineElements(),x;u||b==="TABLE"||b==="HR"?x=p.create(u||v,d||{}):x=o.cloneNode(!1);let I=x;if(!l)p.setAttrib(x,"style",null),p.setAttrib(x,"class",null);else do if(E[C.nodeName]){if(to(C)||no(C))continue;let S=C.cloneNode(!1);p.setAttrib(S,"id",""),x.hasChildNodes()?(S.appendChild(x.firstChild),x.appendChild(S)):(I=S,x.appendChild(S))}while((C=C.parentNode)&&C!==s);return Zf(e,x),HE(I),x},Die=(e,t)=>e.dom.getParent(t,y0),_ie=(e,t,o)=>{let s=t;for(;s&&s!==e&&ke(s.nextSibling);){let l=s.parentElement;if(!l||!o(l))return y0(l);s=l}return!1},xie=(e,t,o)=>!t&&o.nodeName.toLowerCase()===tr(e)&&e.dom.isEmpty(o)&&_ie(e.getBody(),o,s=>Pe(e.schema.getTextBlockElements(),s.nodeName.toLowerCase())),Sie=(e,t,o)=>{var s,l,u;let d=t(tr(e)),p=Die(e,o);p&&(e.dom.insertAfter(d,p),su(e,d),((u=(l=(s=o.parentElement)===null||s===void 0?void 0:s.childNodes)===null||l===void 0?void 0:l.length)!==null&&u!==void 0?u:0)>1&&e.dom.remove(o))},Iie=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,Aie=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},dL=(e,t)=>{let o=e?.parentNode;return G(o)&&o.nodeName===t},fL=e=>G(e)&&/^(OL|UL|LI)$/.test(e.nodeName),zE=e=>G(e)&&/^(LI|DT|DD)$/.test(e.nodeName),kie=e=>fL(e)&&fL(e.parentNode),fg=e=>{let t=e.parentNode;return zE(t)?t:e},pg=(e,t,o)=>{let s=e[o?"firstChild":"lastChild"];for(;s&&!ge(s);)s=s[o?"nextSibling":"previousSibling"];return s===t},pL=e=>Rn(_h(d0(T.fromDom(e)),(t,o)=>`${o}: ${t};`),(t,o)=>t+o,""),Tie=(e,t,o,s,l)=>{let u=e.dom,d=e.selection.getRng(),p=o.parentNode;if(o===e.getBody()||!p)return;kie(o)&&(l="LI");let m=zE(s)?pL(s):void 0,v=zE(s)&&m?t(l,{style:pL(s)}):t(l);if(pg(o,s,!0)&&pg(o,s,!1))if(dL(o,"LI")){let b=fg(o);u.insertAfter(v,b),Aie(o)?u.remove(b):u.remove(o)}else u.replace(v,o);else if(pg(o,s,!0))dL(o,"LI")?(u.insertAfter(v,fg(o)),v.appendChild(u.doc.createTextNode(" ")),v.appendChild(o)):p.insertBefore(v,o),u.remove(s);else if(pg(o,s,!1))u.insertAfter(v,fg(o)),u.remove(s);else{o=fg(o);let b=d.cloneRange();b.setStartAfter(s),b.setEndAfter(o);let C=b.extractContents();if(l==="LI"&&Iie(C,"LI")){let E=Te(rt(v.children,T.fromDom),ai(Th("br")));v=C.firstChild,u.insertAfter(C,o),z(E,x=>Ph(T.fromDom(v),x)),m&&v.setAttribute("style",m)}else u.insertAfter(C,o),u.insertAfter(v,o);u.remove(s)}su(e,v)},Mie=e=>{z(sk(T.fromDom(e),Xr),t=>{let o=t.dom;o.nodeValue=Ur(o.data)})},Nie=(e,t)=>{let o=e.dom.getParent(t,"ol,ul,dl");return o!==null&&e.dom.getContentEditableParent(o)==="false"},Rie=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),WE=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,qE=(e,t)=>G(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",Oie=(e,t,o)=>{var s;let l=[];if(!o)return;let u=o;for(;u=u.firstChild;){if(e.isBlock(u))return;ge(u)&&!t[u.nodeName.toLowerCase()]&&l.push(u)}let d=l.length;for(;d--;)u=l[d],(!u.hasChildNodes()||u.firstChild===u.lastChild&&((s=u.firstChild)===null||s===void 0?void 0:s.nodeValue)===""||Rie(e,u))&&e.remove(u)},GE=(e,t,o)=>Q(t)?e?o===1&&t.data.charAt(o-1)===yn?0:o:o===t.data.length-1&&t.data.charAt(o)===yn?t.data.length:o:o,Pie=e=>{let t=e.cloneRange();return t.setStart(e.startContainer,GE(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,GE(!1,e.endContainer,e.endOffset)),t},Fie=e=>{let t=e;do Q(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},Lie=(e,t,o,s,l)=>{var u,d;let p=e.dom,m=(u=Yf(p,s))!==null&&u!==void 0?u:p.getRoot(),v=p.getParent(s,p.isBlock);if(!v||!qE(p,v)){if(v=v||m,!v.hasChildNodes()){let x=p.create(t);return Zf(e,x),v.appendChild(x),o.setStart(x,0),o.setEnd(x,0),x}let b=s;for(;b&&b.parentNode!==v;)b=b.parentNode;let C;for(;b&&!p.isBlock(b);)C=b,b=b.previousSibling;let E=(d=C?.parentElement)===null||d===void 0?void 0:d.nodeName;if(C&&E&&e.schema.isValidChild(E,t.toLowerCase())){let x=C.parentNode,I=p.create(t);for(Zf(e,I),x.insertBefore(I,C),b=C;b&&!p.isBlock(b);){let S=b.nextSibling;I.appendChild(b),b=S}o.setStart(s,l),o.setEnd(s,l)}}return s},Bie=(e,t)=>{t.normalize();let o=t.lastChild;(!o||ge(o)&&/^(left|right)$/gi.test(e.getStyle(o,"float",!0)))&&e.add(t,"br")},Vie=(e,t)=>{let o=o5(e);return $e(t)?!1:te(o)?ft(ee.explode(o),t.nodeName.toLowerCase()):o},hL={insert:(e,t)=>{let o,s,l,u,d=!1,p=e.dom,m=e.schema,v=m.getNonEmptyElements(),b=e.selection.getRng(),C=tr(e),E=T.fromDom(b.startContainer),x=xc(E,b.startOffset),I=x.exists(H=>kh(H)&&!Xa(H)),S=b.collapsed&&I,A=(H,fe)=>uL(e,o,X,q,r5(e),H,fe),M=H=>{let fe=GE(H,o,s);if(Q(o)&&(H?fe>0:fe<o.data.length))return!1;if((o.parentNode===X||o===X)&&d&&!H||H&&ge(o)&&o===X.firstChild)return!0;if(WE(o,"TABLE")||WE(o,"HR"))return d&&!H||!d&&H;let ye=new xn(o,X);Q(o)&&(H&&fe===0?ye.prev():!H&&fe===o.data.length&&ye.next());let Be;for(;Be=ye.current();){if(ge(Be)){if(!Be.getAttribute("data-mce-bogus")){let Ue=Be.nodeName.toLowerCase();if(v[Ue]&&Ue!=="br")return!1}}else if(Q(Be)&&!Tc(Be.data))return!1;H?ye.prev():ye.next()}return!0},R=()=>{let H;return/^(H[1-6]|PRE|FIGURE)$/.test(l)&&ae!=="HGROUP"?H=A(C):H=A(),Vie(e,u)&&qE(p,u)&&p.isEmpty(X,void 0,{includeZwsp:!0})?H=p.split(u,X):p.insertAfter(H,X),su(e,H),H};bm(p,b).each(H=>{b.setStart(H.startContainer,H.startOffset),b.setEnd(H.endContainer,H.endOffset)}),o=b.startContainer,s=b.startOffset;let N=!!(t&&t.shiftKey),O=!!(t&&t.ctrlKey);ge(o)&&o.hasChildNodes()&&!S&&(d=s>o.childNodes.length-1,o=o.childNodes[Math.min(s,o.childNodes.length-1)]||o,d&&Q(o)?s=o.data.length:s=0);let q=Yf(p,o);if(!q||Nie(e,o))return;N||(o=Lie(e,C,b,o,s));let X=p.getParent(o,p.isBlock)||p.getRoot();u=G(X?.parentNode)?p.getParent(X.parentNode,p.isBlock):null,l=X?X.nodeName.toUpperCase():"";let ae=u?u.nodeName.toUpperCase():"";if(ae==="LI"&&!O){let H=u;X=H,u=H.parentNode,l=ae}if(ge(u)&&xie(e,N,X))return Sie(e,A,X);if(/^(LI|DT|DD)$/.test(l)&&ge(u)&&p.isEmpty(X)){Tie(e,A,u,X,C);return}if(!S&&(X===e.getBody()||!qE(p,X)))return;let U=X.parentNode,F;if(S)F=A(C),x.fold(()=>{pn(E,T.fromDom(F))},H=>{xr(H,T.fromDom(F))}),e.selection.setCursorLocation(F,0);else if(Lc(X))F=W0(X),p.isEmpty(X)&&HE(X),Zf(e,F),su(e,F);else if(M(!1))F=R();else if(M(!0)&&U){let H=j.fromRangeStart(b),fe=KC(H),ye=T.fromDom(X),Ue=Sm(ye,H,e.schema)?r1(ye,H,e.schema).bind(dt=>D.from(dt.getNode())):D.none();F=U.insertBefore(A(),X);let lt=WE(X,"HR")||fe?F:Ue.getOr(X);su(e,lt)}else{let H=Pie(b).cloneRange();H.setEndAfter(X);let fe=H.extractContents();Mie(fe),Fie(fe),F=fe.firstChild,p.insertAfter(fe,X),Oie(p,v,F),Bie(p,X),p.isEmpty(X)&&HE(X),F.normalize(),p.isEmpty(F)?(p.remove(F),R()):(Zf(e,F),su(e,F))}p.setAttrib(F,"id",""),e.dispatch("NewBlock",{newBlock:F})},fakeEventName:"insertParagraph"},$ie=(e,t,o)=>{let s=new xn(t,o),l,u=e.getNonEmptyElements();for(;l=s.next();)if(u[l.nodeName.toLowerCase()]||Q(l)&&l.length>0)return!0;return!1},mL=(e,t,o)=>{let s=e.dom.createRng();o?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),e.selection.setRng(s),Sf(e,s)},jie=(e,t)=>{let o=e.selection,s=e.dom,l=o.getRng(),u,d=!1;bm(s,l).each(x=>{l.setStart(x.startContainer,x.startOffset),l.setEnd(x.endContainer,x.endOffset)});let p=l.startOffset,m=l.startContainer;if(ge(m)&&m.hasChildNodes()){let x=p>m.childNodes.length-1;m=m.childNodes[Math.min(p,m.childNodes.length-1)]||m,x&&Q(m)?p=m.data.length:p=0}let v=s.getParent(m,s.isBlock),b=v&&v.parentNode?s.getParent(v.parentNode,s.isBlock):null,C=b?b.nodeName.toUpperCase():"",E=!!(t&&t.ctrlKey);C==="LI"&&!E&&(v=b),Q(m)&&p>=m.data.length&&($ie(e.schema,m,v||s.getRoot())||(u=s.create("br"),l.insertNode(u),l.setStartAfter(u),l.setEndAfter(u),d=!0)),u=s.create("br"),Q0(s,l,u),mL(e,u,d),e.undoManager.add()},Uie=(e,t)=>{let o=T.fromTag("br");xr(T.fromDom(t),o),e.undoManager.add()},Hie=(e,t)=>{Wie(e.getBody(),t)||pi(T.fromDom(t),T.fromTag("br"));let o=T.fromTag("br");pi(T.fromDom(t),o),mL(e,o.dom,!1),e.undoManager.add()},zie=e=>Gt(e.getNode()),Wie=(e,t)=>zie(j.after(t))?!0:Er(e,j.after(t)).map(o=>Gt(o.getNode())).getOr(!1),gL=e=>e&&e.nodeName==="A"&&"href"in e,qie=e=>e.fold(wt,gL,gL,wt),Gie=e=>{let t=pe(Cl,e),o=j.fromRangeStart(e.selection.getRng());return zs(t,e.getBody(),o).filter(qie)},Kie=(e,t)=>{t.fold(Ne,pe(Uie,e),pe(Hie,e),Ne)},vL={insert:(e,t)=>{let o=Gie(e);o.isSome()?o.each(pe(Kie,e)):jie(e,t)},fakeEventName:"insertLineBreak"},yL=(e,t)=>UE(e).filter(o=>t.length>0&&Jo(T.fromDom(o),t)).isSome(),Yie=e=>yL(e,t5(e)),Zie=e=>yL(e,n5(e)),zr=Ls.generate([{br:[]},{block:[]},{none:[]}]),Qie=(e,t)=>Zie(e),bL=e=>(t,o)=>wie(t)===e,CL=(e,t)=>(o,s)=>Cie(o)===e.toUpperCase()===t,Xie=e=>{let t=Yf(e.dom,e.selection.getStart());return $e(t)},Qf=e=>CL("pre",e),Jie=()=>CL("summary",!0),hg=e=>(t,o)=>J6(t)===e,eae=(e,t)=>Yie(e),mg=(e,t)=>t,tae=e=>{let t=tr(e),o=Yf(e.dom,e.selection.getStart());return G(o)&&e.schema.isValidChild(o.nodeName,t)},nae=e=>{let t=e.selection.getRng(),o=T.fromDom(t.startContainer),l=xc(o,t.startOffset).map(u=>kh(u)&&!Xa(u));return t.collapsed&&l.getOr(!0)},lo=(e,t)=>(o,s)=>Rn(e,(u,d)=>u&&d(o,s),!0)?D.some(t):D.none(),rae=(e,t)=>fP([lo([Qie],zr.none()),lo([Qf(!0),Xie],zr.none()),lo([Jie()],zr.br()),lo([Qf(!0),hg(!1),mg],zr.br()),lo([Qf(!0),hg(!1)],zr.block()),lo([Qf(!0),hg(!0),mg],zr.block()),lo([Qf(!0),hg(!0)],zr.br()),lo([bL(!0),mg],zr.br()),lo([bL(!0)],zr.block()),lo([eae],zr.br()),lo([mg],zr.br()),lo([tae],zr.block()),lo([nae],zr.block())],[e,!!(t&&t.shiftKey)]).getOr(zr.none()),gg=(e,t,o)=>{t.selection.isCollapsed()||RK(t),!(G(o)&&dg(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,o),G(o)&&Kf(t,e.fakeEventName))},wL=(e,t)=>{let o=()=>gg(vL,e,t),s=()=>gg(hL,e,t),l=rae(e,t);switch(e5(e)){case"linebreak":l.fold(o,o,Ne);break;case"block":l.fold(s,s,Ne);break;case"invert":l.fold(s,o,Ne);break;default:l.fold(o,s,Ne);break}},EL=Ms(),oae=EL.os.isiOS()&&EL.browser.isSafari(),DL=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),$X(e.undoManager),e.undoManager.transact(()=>{wL(e,t)}))},sae=e=>{if(!e.collapsed)return!1;let t=e.startContainer;if(Q(t)){let o=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,s=t.data.charAt(e.startOffset-1);return o.test(s)}else return!1},iae=e=>{let t=D.none(),o=l=>{t=D.some(l.selection.getBookmark()),l.undoManager.add()},s=(l,u)=>{l.undoManager.undo(),t.fold(Ne,d=>l.selection.moveToBookmark(d)),DL(l,u),t=D.none()};e.on("keydown",l=>{l.keyCode===ce.ENTER&&(oae&&sae(e.selection.getRng())?o(e):DL(e,l))}),e.on("keyup",l=>{l.keyCode===ce.ENTER&&t.each(()=>s(e,l))})},aae=(e,t,o)=>{let s=ct.os.isMacOS()||ct.os.isiOS();zf([{keyCode:ce.END,action:Ae(lF,e,!0)},{keyCode:ce.HOME,action:Ae(lF,e,!1)},...s?[]:[{keyCode:ce.HOME,action:Ae(ng,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:ce.END,action:Ae(ng,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:ce.END,action:Ae(gF,e,!0)},{keyCode:ce.HOME,action:Ae(gF,e,!1)},{keyCode:ce.END,action:Ae(tg,e,!0,t)},{keyCode:ce.HOME,action:Ae(tg,e,!1,t)}],o).each(l=>{o.preventDefault()})},lae=(e,t)=>{e.on("keydown",o=>{o.isDefaultPrevented()||aae(e,t,o)})},cae=e=>{e.on("input",t=>{t.isComposing||fK(e)})},uae=Ms(),dae=(e,t,o)=>{zf([{keyCode:ce.PAGE_UP,action:Ae(tg,e,!1,t)},{keyCode:ce.PAGE_DOWN,action:Ae(tg,e,!0,t)}],o)},_L=e=>e.stopImmediatePropagation(),xL=e=>e.keyCode===ce.PAGE_UP||e.keyCode===ce.PAGE_DOWN,SL=(e,t,o)=>{o&&!e.get()?t.on("NodeChange",_L,!0):!o&&e.get()&&t.off("NodeChange",_L),e.set(o)},fae=(e,t)=>{if(uae.os.isMacOS())return;let o=In(!1);e.on("keydown",s=>{xL(s)&&SL(o,e,!0)}),e.on("keyup",s=>{s.isDefaultPrevented()||dae(e,t,s),xL(s)&&o.get()&&(SL(o,e,!1),e.nodeChanged())})},pae=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||Ht(t.getTargetRanges(),o=>!AN(e.dom,o)))&&t.preventDefault()})},IL=(e,t)=>{let o=t.container(),s=t.offset();return Q(o)?(o.insertData(s,e),D.some(j(o,s+e.length))):am(t).map(l=>{let u=T.fromText(e);return t.isAtEnd()?pi(l,u):xr(l,u),j(u.dom,e.length)})},AL=pe(IL,Sn),kL=pe(IL," "),hae=(e,t,o)=>c1(e,t,o)?AL(t):kL(t),mae=e=>t=>t.fold(o=>Sr(e.dom,j.before(o)),o=>nr(o),o=>Mo(o),o=>Er(e.dom,j.after(o))),gae=(e,t,o)=>s=>c1(e,s,o)?AL(t):kL(t),TL=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},vae=(e,t)=>e.isEditable(e.getParent(t,"summary")),yae=e=>{let t=j.fromRangeStart(e.selection.getRng()),o=T.fromDom(e.getBody());if(e.selection.isCollapsed()){let s=pe(Cl,e),l=j.fromRangeStart(e.selection.getRng());return zs(s,e.getBody(),l).bind(mae(o)).map(u=>()=>gae(o,t,e.schema)(u).each(TL(e)))}else return D.none()},bae=e=>{let t=()=>{let o=T.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");let s=j.fromRangeStart(e.selection.getRng());hae(o,s,e.schema).each(TL(e))};return Dc(ct.browser.isFirefox()&&e.selection.isEditable()&&vae(e.dom,e.selection.getRng().startContainer),t)},Cae=(e,t)=>{pF([{keyCode:ce.SPACEBAR,action:Ae(yae,e)},{keyCode:ce.SPACEBAR,action:Ae(bae,e)}],t).each(o=>{t.preventDefault(),dg(e,"insertText",{data:" "}).isDefaultPrevented()||(o(),Kf(e,"insertText",{data:" "}))})},wae=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||Cae(e,t)})},Eae=e=>pq(e)?[{keyCode:ce.TAB,action:Ae(kF,e,!0)},{keyCode:ce.TAB,shiftKey:!0,action:Ae(kF,e,!1)}]:[],Dae=(e,t)=>{zf([...Eae(e)],t).each(o=>{t.preventDefault()})},_ae=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||Dae(e,t)})},xae=e=>{if(e.addShortcut("Meta+P","","mcePrint"),nie(e),Hs(e))return In(null);{let t=Vne(e);return pae(e),Lre(e),Boe(e,t),yie(e,t),iae(e),wae(e),cae(e),_ae(e),lae(e,t),fae(e,t),t}};class Sae{constructor(t){this.lastPath=[],this.editor=t;let o,s=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",l=>{let u=t.selection.getRng(),d={startContainer:u.startContainer,startOffset:u.startOffset,endContainer:u.endContainer,endOffset:u.endOffset};(l.type==="nodechange"||!OC(d,o))&&t.dispatch("SelectionChange"),o=d}),t.on("contextmenu",()=>{Em(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{let l=t.selection.getStart(!0);l&&fm(t)&&!s.isSameElementPath(l)&&t.dom.isChildOf(l,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",l=>{!l.isDefaultPrevented()&&fm(t)&&(t.selection.getNode().nodeName==="IMG"?oo.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){let o=this.editor.selection,s;if(this.editor.initialized&&o&&!R5(this.editor)&&!this.editor.mode.isReadOnly()){let l=this.editor.getBody();s=o.getStart(!0)||l,(s.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(s,l))&&(s=l);let u=[];this.editor.dom.getParent(s,d=>d===l?!0:(u.push(d),!1)),this.editor.dispatch("NodeChange",Me(W({},t),{element:s,parents:u}))}}isSameElementPath(t){let o,s=this.editor,l=ta(s.dom.getParents(t,Ut,s.getBody()));if(l.length===this.lastPath.length){for(o=l.length;o>=0&&l[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=l,!0}return this.lastPath=l,!1}}let ML=af("image"),Iae=e=>{let t=e;return D.from(t[ML])},Aae=(e,t)=>{let o=e;o[ML]=t},KE=af("event"),kae=e=>{let t=e;return D.from(t[KE])},vg=e=>t=>{let o=t;o[KE]=e},Tae=(e,t)=>vg(t)(e),NL=vg(0),Mae=vg(2),Nae=vg(1),Rae=(e=>t=>{let o=t;return D.from(o[KE]).exists(s=>s===e)})(0),Oae=()=>Object.freeze({length:0,item:e=>null}),YE=af("mode"),Pae=e=>{let t=e;return D.from(t[YE])},yg=e=>t=>{let o=t;o[YE]=e},RL=(e,t)=>yg(t)(e),OL=yg(0),ZE=yg(2),Fae=yg(1),PL=e=>t=>{let o=t;return D.from(o[YE]).exists(s=>s===e)},iu=PL(0),FL=PL(1),Lae=(e,t)=>Me(W({},t),{get length(){return t.length},add:(o,s)=>{if(iu(e))if(te(o)){if(!Ke(s))return t.add(o,s)}else return t.add(o);return null},remove:o=>{iu(e)&&t.remove(o)},clear:()=>{iu(e)&&t.clear()}}),Bae=["none","copy","link","move"],Vae=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],QE=()=>{let e=new window.DataTransfer,t="move",o="all",s={get dropEffect(){return t},set dropEffect(l){ft(Bae,l)&&(t=l)},get effectAllowed(){return o},set effectAllowed(l){Rae(s)&&ft(Vae,l)&&(o=l)},get items(){return Lae(s,e.items)},get files(){return FL(s)?Oae():e.files},get types(){return e.types},setDragImage:(l,u,d)=>{iu(s)&&(Aae(s,{image:l,x:u,y:d}),e.setDragImage(l,u,d))},getData:l=>FL(s)?"":e.getData(l),setData:(l,u)=>{iu(s)&&e.setData(l,u)},clearData:l=>{iu(s)&&e.clearData(l)}};return OL(s),s},$ae=e=>{let t=QE(),o=Pae(e);return ZE(e),NL(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,Iae(e).each(s=>t.setDragImage(s.image,s.x,s.y)),z(e.types,s=>{s!=="Files"&&t.setData(s,e.getData(s))}),z(e.files,s=>t.items.add(s)),kae(e).each(s=>{Tae(t,s)}),o.each(s=>{RL(e,s),RL(t,s)}),t},jae=e=>{let t=e.getData("text/html");return t===""?D.none():D.some(t)},LL=(e,t)=>e.setData("text/html",t),BL="x-tinymce/html",bg=re(BL),XE="<!-- "+BL+" -->",Uae=e=>XE+e,Hae=e=>e.replace(XE,""),VL=e=>e.indexOf(XE)!==-1,zae=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),Wae=(e,t)=>{let o="<"+e,s=_h(t,(l,u)=>u+'="'+sl.encodeAllRaw(l)+'"');return s.length&&(o+=" "+s.join(" ")),o+">"},qae=(e,t,o)=>{let s=e.split(/\n\n/),l=Wae(t,o),u="</"+t+">",d=rt(s,m=>m.split(/\n/).join("<br />")),p=m=>l+m+u;return d.length===1?d[0]:rt(d,p).join("")},$L="%MCEPASTEBIN%",Gae=(e,t)=>{let{dom:o,selection:s}=e,l=e.getBody();t.set(s.getRng());let u=o.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},$L);ct.browser.isFirefox()&&o.setStyle(u,"left",o.getStyle(l,"direction",!0)==="rtl"?65535:-65535),o.bind(u,"beforedeactivate focusin focusout",d=>{d.stopPropagation()}),u.focus(),s.select(u,!0)},Kae=(e,t)=>{let o=e.dom;if(JE(e)){let s,l=t.get();for(;s=JE(e);)o.remove(s),o.unbind(s);l&&e.selection.setRng(l)}t.set(null)},JE=e=>e.dom.get("mcepastebin"),Yae=e=>G(e)&&e.id==="mcepastebin",Zae=e=>{let t=e.dom,o=(d,p)=>{d.appendChild(p),t.remove(p,!0)},[s,...l]=Te(e.getBody().childNodes,Yae);z(l,d=>{o(s,d)});let u=t.select("div[id=mcepastebin]",s);for(let d=u.length-1;d>=0;d--){let p=t.create("div");s.insertBefore(p,u[d]),o(p,u[d])}return s?s.innerHTML:""},jL=e=>e===$L,Qae=e=>{let t=In(null);return{create:()=>Gae(e,t),remove:()=>Kae(e,t),getEl:()=>JE(e),getHtml:()=>Zae(e),getLastRng:t.get}},UL=(e,t)=>(ee.each(t,o=>{_e(o,RegExp)?e=e.replace(o,""):e=e.replace(o[0],o[1])}),e),Xae=e=>{let t=ia(),o=Jc({},t),s="",l=t.getVoidElements(),u=ee.makeMap("script noscript style textarea video audio iframe object"," "),d=t.getBlockElements(),p=m=>{let v=m.name,b=m;if(v==="br"){s+=`
`;return}if(v!=="wbr"){if(l[v]&&(s+=" "),u[v]){s+=" ";return}if(m.type===3&&(s+=m.value),!(m.name in t.getVoidElements())){let C=m.firstChild;if(C)do p(C);while(C=C.next)}d[v]&&b.next&&(s+=`
`,v==="p"&&(s+=`
`))}};return e=UL(e,[/<!\[[^\]]+\]>/g]),p(o.parse(e)),s},HL=e=>(e=UL(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(o,s,l)=>!s&&!l?" ":Sn],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),Jae=e=>{let t=0;return()=>e+t++},ele=e=>{let t=e.toLowerCase(),o={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return ee.hasOwn(o,t)?"image/"+o[t]:"image/"+t},tle=(e,t)=>{let o=Jc({sanitize:XT(e),sandbox_iframes:eM(e),sandbox_iframes_exclusions:iC(e),convert_unsafe_embeds:gq(e)},e.schema);o.addNodeFilter("meta",l=>{ee.each(l,u=>{u.remove()})});let s=o.parse(t,{forced_root_block:!1,isRootContent:!0});return pa({validate:!0},e.schema).serialize(s)},zL=(e,t)=>({content:e,cancelled:t}),nle=(e,t,o)=>{let s=e.dom.create("div",{style:"display:none"},t),l=Y9(e,s,o);return zL(l.node.innerHTML,l.isDefaultPrevented())},rle=(e,t,o)=>{let s=K9(e,t,o),l=tle(e,s.content);return e.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()?nle(e,l,o):zL(l,s.isDefaultPrevented())},ole=(e,t,o)=>rle(e,t,o),eD=(e,t)=>(e.insertContent(t,{merge:Q5(e),paste:!0}),!0),tD=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),sle=(e,t)=>tD(t)&&Ht(JT(e),o=>Xb(t.toLowerCase(),`.${o.toLowerCase()}`)),ile=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),ale=(e,t,o)=>(e.undoManager.extra(()=>{o(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),lle=(e,t,o)=>!e.selection.isCollapsed()&&tD(t)?ale(e,t,o):!1,cle=(e,t,o)=>sle(e,t)?ile(e,t,o):!1,ule=(e,t)=>{ee.each([lle,cle,eD],o=>!o(e,t,eD))},dle=(e,t,o)=>{o||!X5(e)?eD(e,t):ule(e,t)},fle=Jae("mceclip"),ple=e=>{let t=QE();return LL(t,e),ZE(t),t},WL=(e,t,o,s,l)=>{let u=ole(e,t,o);if(!u.cancelled){let d=u.content,p=()=>dle(e,d,s);l?dg(e,"insertFromPaste",{dataTransfer:ple(d)}).isDefaultPrevented()||(p(),Kf(e,"insertFromPaste")):p()}},Cg=(e,t,o,s)=>{let l=o||VL(t);WL(e,Hae(t),l,!1,s)},nD=(e,t,o)=>{let s=e.dom.encode(t).replace(/\r\n/g,`
`),l=ck(s,eq(e)),u=qae(l,tr(e),pf(e));WL(e,u,!1,!0,o)},qL=e=>{let t={};if(e&&e.types)for(let o=0;o<e.types.length;o++){let s=e.types[o];try{t[s]=e.getData(s)}catch{t[s]=""}}return t},ya=(e,t)=>t in e&&e[t].length>0,GL=e=>ya(e,"text/html")||ya(e,"text/plain"),hle=(e,t)=>{let o=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return G(o)?e.dom.encode(o[1]):void 0},mle=(e,t,o,s)=>{let l=fle(),u=$T(e)&&G(o.name),d=u?hle(e,o.name):l,p=u?o.name:void 0,m=t.create(l,o,s,d,p);return t.add(m),m},gle=(e,t)=>{Nw(t.uri).each(({data:o,type:s,base64Encoded:l})=>{let u=l?o:btoa(o),d=t.file,p=e.editorUpload.blobCache,m=p.getByData(u,s),v=m??mle(e,p,d,u);Cg(e,`<img src="${v.blobUri()}">`,!1,!0)})},vle=e=>e.type==="paste",yle=e=>Promise.all(rt(e,t=>MR(t).then(o=>({file:t,uri:o})))),ble=e=>{let t=JT(e);return o=>vn(o.type,"image/")&&Ht(t,s=>ele(s)===o.type)},Cle=(e,t)=>{let o=t.items?yr(Vr(t.items),l=>l.kind==="file"?[l.getAsFile()]:[]):[],s=t.files?Vr(t.files):[];return Te(o.length>0?o:s,ble(e))},KL=(e,t,o)=>{let s=vle(t)?t.clipboardData:t.dataTransfer;if(sm(e)&&s){let l=Cle(e,s);if(l.length>0)return t.preventDefault(),yle(l).then(u=>{o&&e.selection.setRng(o),z(u,d=>{gle(e,d)})}),!0}return!1},wle=e=>{var t,o;return ct.os.isAndroid()&&((o=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||o===void 0?void 0:o.length)===0},Ele=e=>ce.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,rD=(e,t,o,s,l)=>{let u=HL(o),d=ya(t,bg())||VL(o),p=!d&&zae(u),m=tD(u);(jL(u)||!u.length||p&&!m)&&(s=!0),(s||m)&&(ya(t,"text/plain")&&p?u=t["text/plain"]:u=Xae(u)),!jL(u)&&(s?nD(e,u,l):Cg(e,u,d,l))},Dle=(e,t,o)=>{let s,l=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",u=>{Ele(u)&&!u.isDefaultPrevented()&&(s=u.shiftKey&&u.keyCode===86)}),e.on("paste",u=>{if(u.isDefaultPrevented()||wle(u))return;let d=o.get()==="text"||s;s=!1;let p=qL(u.clipboardData);!GL(p)&&KL(e,u,l())||(ya(p,"text/html")?(u.preventDefault(),rD(e,p,p["text/html"],d,!0)):ya(p,"text/plain")&&ya(p,"text/uri-list")?(u.preventDefault(),rD(e,p,p["text/plain"],d,!0)):(t.create(),oo.setEditorTimeout(e,()=>{let m=t.getHtml();t.remove(),rD(e,p,m,d,!1)},0)))})},_le=e=>{let t=l=>vn(l,"webkit-fake-url"),o=l=>vn(l,"data:"),s=l=>{var u;return((u=l.data)===null||u===void 0?void 0:u.paste)===!0};e.parser.addNodeFilter("img",(l,u,d)=>{if(!sm(e)&&s(d))for(let p of l){let m=p.attr("src");te(m)&&!p.attr("data-mce-object")&&m!==ct.transparentSrc&&(t(m)||!tq(e)&&o(m))&&p.remove()}})},xle=(e,t,o)=>{Dle(e,t,o),_le(e)},Sle=(e,t)=>{t.get()==="text"?(t.set("html"),eN(e,!1)):(t.set("text"),eN(e,!0)),e.focus()},Ile=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{Sle(e,t)}),e.addCommand("mceInsertClipboardContent",(o,s)=>{s.html&&Cg(e,s.html,s.internal,!1),s.text&&nD(e,s.text,!1)})},Ale=(e,t,o)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",o),e.setData(bg(),t),!0}catch{return!1}else return!1},YL=(e,t,o,s)=>{Ale(e.clipboardData,t.html,t.text)?(e.preventDefault(),s()):o(t.html,s)},ZL=e=>(t,o)=>{let{dom:s,selection:l}=e,u=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),d=s.create("div",{contenteditable:"true"},t);s.setStyles(u,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),u.appendChild(d),s.add(e.getBody(),u);let p=l.getRng();d.focus();let m=s.createRng();m.selectNodeContents(d),l.setRng(m),oo.setEditorTimeout(e,()=>{l.setRng(p),s.remove(u),o()},0)},QL=e=>({html:Uae(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),kle=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),XL=e=>!e.selection.isCollapsed()||kle(e),Tle=e=>t=>{!t.isDefaultPrevented()&&XL(e)&&e.selection.isEditable()&&YL(t,QL(e),ZL(e),()=>{if(ct.browser.isChromium()||ct.browser.isFirefox()){let o=e.selection.getRng();oo.setEditorTimeout(e,()=>{e.selection.setRng(o),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},Mle=e=>t=>{!t.isDefaultPrevented()&&XL(e)&&YL(t,QL(e),ZL(e),Ne)},Nle=e=>{e.on("cut",Tle(e)),e.on("copy",Mle(e))},JL=(e,t)=>{var o,s;return yl.getCaretRangeFromPoint((o=t.clientX)!==null&&o!==void 0?o:0,(s=t.clientY)!==null&&s!==void 0?s:0,e.getDoc())},Rle=e=>{let t=e["text/plain"];return t?t.indexOf("file://")===0:!1},eB=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},Ole=e=>Ht(e.files,t=>/^image\//.test(t.type)),Ple=(e,t,o,s)=>{let l=e.getParent(o,d=>rl(t,d));if(!ke(e.getParent(o,"summary")))return!0;if(l&&Pe(s,"text/html")){let d=new DOMParser().parseFromString(s["text/html"],"text/html").body;return!ke(d.querySelector(l.nodeName.toLowerCase()))}else return!1},Fle=e=>{e.on("input",t=>{let o=s=>ke(s.querySelector("summary"));if(t.inputType==="deleteByDrag"){let s=Te(e.dom.select("details"),o);z(s,l=>{Gt(l.firstChild)&&l.firstChild.remove();let u=e.dom.create("summary");u.appendChild(Pc().dom),l.prepend(u)})}})},Lle=(e,t)=>{W5(e)&&e.on("dragend dragover draggesture dragdrop drop drag",o=>{o.preventDefault(),o.stopPropagation()}),sm(e)||e.on("drop",o=>{let s=o.dataTransfer;s&&Ole(s)&&o.preventDefault()}),e.on("drop",o=>{if(o.isDefaultPrevented())return;let s=JL(e,o);if($e(s))return;let l=qL(o.dataTransfer),u=ya(l,bg());if((!GL(l)||Rle(l))&&KL(e,o,s))return;let d=l[bg()],p=d||l["text/html"]||l["text/plain"],m=Ple(e.dom,e.schema,s.startContainer,l),v=t.get();v&&!m||p&&(o.preventDefault(),oo.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(d||v&&m)&&e.execCommand("Delete"),eB(e,s);let b=HL(p);l["text/html"]?Cg(e,b,u,!0):nD(e,b,!0)})}))}),e.on("dragstart",o=>{t.set(!0)}),e.on("dragover dragend",o=>{sm(e)&&!t.get()&&(o.preventDefault(),eB(e,JL(e,o))),o.type==="dragend"&&t.set(!1)}),Fle(e)},Ble=e=>{let t=l=>u=>{l(e,u)},o=q5(e);Oe(o)&&e.on("PastePreProcess",t(o));let s=G5(e);Oe(s)&&e.on("PastePostProcess",t(s))},Vle=(e,t)=>{e.on("PastePreProcess",o=>{o.content=t(e,o.content,o.internal)})},$le=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,tB=e=>ee.trim(e).replace($le,Xd).toLowerCase(),jle=(e,t,o)=>{let s=Y5(e);if(o||s==="all"||!Z5(e))return t;let l=s?s.split(/[, ]/):[];if(l&&s!=="none"){let u=e.dom,d=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(p,m,v,b)=>{let C=u.parseStyle(u.decode(v)),E={};for(let I=0;I<l.length;I++){let S=C[l[I]],A=S,M=u.getStyle(d,l[I],!0);/color/.test(l[I])&&(A=tB(A),M=tB(M)),M!==A&&(E[l[I]]=S)}let x=u.serializeStyle(E,"span");return x?m+' style="'+x+'"'+b:m+b})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(u,d,p,m)=>d+' style="'+p+'"'+m),t},Ule=e=>{(ct.browser.isChromium()||ct.browser.isSafari())&&Vle(e,jle)},Hle=e=>{let t=In(!1),o=In(J5(e)?"text":"html"),s=Qae(e);Ule(e),Ile(e,o),Ble(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>o.get()==="text"),e.on("PreInit",()=>{Nle(e),Lle(e,t),xle(e,s,o)})},zle=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},Wle=e=>{e.parser.addNodeFilter("details",t=>{let o=hq(e);z(t,s=>{o==="expanded"?s.attr("open","open"):o==="collapsed"&&s.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{let o=mq(e);z(t,s=>{o==="expanded"?s.attr("open","open"):o==="collapsed"&&s.attr("open",null)})})},qle=e=>{zle(e),Wle(e)},Gle=Gt,nB=Q,Kle=e=>Nt(e.dom),Yle=e=>To(e.dom),rB=e=>t=>mt(T.fromDom(e),t),Zle=(e,t,o)=>Qa(T.fromDom(e),s=>Yle(s)||o.isBlock(st(s)),rB(t)).getOr(T.fromDom(t)).dom,oB=(e,t)=>Qa(T.fromDom(e),Kle,rB(t)),sB=(e,t,o)=>{let s=new xn(e,t),l=o?s.next.bind(s):s.prev.bind(s),u=e;for(let d=o?e:l();d&&!Gle(d);d=l())os(d)&&(u=d);return u},Qle=(e,t,o)=>{let l=j.fromRangeStart(e).getNode(),u=Zle(l,t,o),d=sB(l,u,!1),p=sB(l,u,!0),m=document.createRange();return oB(d,u).fold(()=>{nB(d)?m.setStart(d,0):m.setStartBefore(d)},v=>m.setStartBefore(v.dom)),oB(p,u).fold(()=>{nB(p)?m.setEnd(p,p.data.length):m.setEndAfter(p)},v=>m.setEndAfter(v.dom)),m},Xle=e=>{let t=Qle(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(gw(t))},Jle=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),Xle(e))})};var Xf=function(e){return e.Before="before",e.After="after",e}(Xf||{});let ece=(e,t)=>Math.abs(e.left-t),tce=(e,t)=>Math.abs(e.right-t),nce=(e,t)=>e>=t.top&&e<=t.bottom,rce=(e,t)=>e.top<t.bottom&&e.bottom>t.top,oce=(e,t)=>{let o=r6(e,t)/Math.min(e.height,t.height);return rce(e,t)&&o>.5},sce=(e,t)=>{let o=Te(e,s=>nce(t,s));return n6(o).fold(()=>[[],e],s=>{let{pass:l,fail:u}=ea(e,d=>oce(d,s));return[l,u]})},ice=(e,t)=>({node:e.node,position:ece(e,t)<tce(e,t)?Xf.Before:Xf.After}),ace=(e,t,o)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),oD=(e,t,o,s)=>{let l=C=>os(C.node)?D.some(C):ge(C.node)?oD(Vr(C.node.childNodes),t,o,!1):D.none(),u=(C,E,x)=>l(E).filter(I=>Math.abs(x(C,t,o)-x(I,t,o))<2&&Q(I.node)),d=(C,E)=>{let x=Ga(C,(I,S)=>E(I,t,o)-E(S,t,o));return bc(x,l).map(I=>s&&!Q(I.node)&&x.length>1?u(I,x[1],E).getOr(I):I)},[p,m]=sce(IP(e),o),{pass:v,fail:b}=ea(m,C=>C.top<o);return d(p,ace).orThunk(()=>d(b,iT)).orThunk(()=>d(v,iT))},lce=(e,t,o,s)=>{let l=(u,d)=>{let p=v=>ge(v)&&v.classList.contains("mce-drag-container"),m=Te(u.dom.childNodes,ai(p));return d.fold(()=>oD(m,o,s,!0),v=>{let b=Te(m,C=>C!==v.dom);return oD(b,o,s,!0)}).orThunk(()=>(mt(u,e)?D.none():Mh(u)).bind(b=>l(b,D.some(u))))};return l(t,D.none())},cce=(e,t,o)=>{let s=T.fromDom(e),l=di(s),d=T.fromPoint(l,t,o).filter(p=>Cr(s,p)).getOr(s);return lce(s,d,t,o)},iB=(e,t,o)=>cce(e,t,o).filter(s=>gf(s.node)).map(s=>ice(s,t)),aB=e=>{var t,o;let s=e.getBoundingClientRect(),l=e.ownerDocument,u=l.documentElement,d=l.defaultView;return{top:s.top+((t=d?.scrollY)!==null&&t!==void 0?t:0)-u.clientTop,left:s.left+((o=d?.scrollX)!==null&&o!==void 0?o:0)-u.clientLeft}},uce=e=>e.inline?aB(e.getBody()):{left:0,top:0},dce=e=>{let t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},fce=e=>{let t=e.getBody(),o=e.getDoc().documentElement,s={left:t.scrollLeft,top:t.scrollTop},l={left:t.scrollLeft||o.scrollLeft,top:t.scrollTop||o.scrollTop};return e.inline?s:l},pce=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){let o=aB(e.getContentAreaContainer()),s=fce(e);return{left:t.pageX-o.left+s.left,top:t.pageY-o.top+s.top}}return{left:t.pageX,top:t.pageY}},hce=(e,t,o)=>({pageX:o.left-e.left+t.left,pageY:o.top-e.top+t.top}),mce=(e,t)=>hce(uce(e),dce(e),pce(e,t)),lB=e=>({target:e,srcElement:e}),gce=(e,t,o,s)=>W(Me(W({},t),{dataTransfer:s,type:e}),lB(o)),vce=(e,t,o)=>{let s=Xi("Function not supported on simulated event.");return W({bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:s,initEvent:s,preventDefault:Ne,stopImmediatePropagation:Ne,stopPropagation:Ne,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:s,initMouseEvent:s,getModifierState:s,dataTransfer:o},lB(t))},yce=(e,t)=>{let o=$ae(e);return t==="dragstart"?(NL(o),OL(o)):t==="drop"?(Mae(o),ZE(o)):(Nae(o),Fae(o)),o},bce=(e,t,o,s)=>{let l=yce(o,e);return Ke(s)?vce(e,t,l):gce(e,s,t,l)},wg=32,Cce=100,Eg=8,Dg=16,cB=Nt,wce=a6(cB,To),Ece=(e,t,o)=>cB(o)&&o!==t&&e.isEditable(o.parentElement),Dce=(e,t,o)=>$e(t)||t===o||e.dom.isChildOf(t,o)?!1:e.dom.isEditable(t),_ce=(e,t,o,s)=>{let l=e.dom,u=t.cloneNode(!0);l.setStyles(u,{width:o,height:s}),l.setAttrib(u,"data-mce-selected",null);let d=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(d,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:s}),l.setStyles(u,{margin:0,boxSizing:"border-box"}),d.appendChild(u),d},xce=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},_g=(e,t)=>o=>()=>{let s=e==="left"?o.scrollX:o.scrollY;o.scroll({[e]:s+t,behavior:"smooth"})},uB=_g("left",-wg),dB=_g("left",wg),fB=_g("top",-wg),pB=_g("top",wg),Sce=(e,t,o,s,l,u,d,p,m,v,b,C)=>{let E=0,x=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+o>l&&(E=t.pageX+o-l),t.pageY+s>u&&(x=t.pageY+s-u),e.style.width=o-E+"px",e.style.height=s-x+"px";let I=m.clientHeight,S=m.clientWidth,A=d+m.getBoundingClientRect().top,M=p+m.getBoundingClientRect().left;b.on(R=>{R.intervalId.clear(),R.dragging&&C&&(d+Eg>=I?R.intervalId.set(pB(v)):d-Eg<=0?R.intervalId.set(fB(v)):p+Eg>=S?R.intervalId.set(dB(v)):p-Eg<=0?R.intervalId.set(uB(v)):A+Dg>=window.innerHeight?R.intervalId.set(pB(window)):A-Dg<=0?R.intervalId.set(fB(window)):M+Dg>=window.innerWidth?R.intervalId.set(dB(window)):M-Dg<=0&&R.intervalId.set(uB(window)))})},hB=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Ice=(e,t)=>{let o=e.getParent(t.parentNode,e.isBlock);hB(t),o&&o!==e.getRoot()&&e.isEmpty(o)&&aa(T.fromDom(o))},Ace=e=>e.button===0,kce=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),Tce=(e,t)=>o=>{if(Ace(o)){let s=sn(t.dom.getParents(o.target),wce).getOr(null);if(G(s)&&Ece(t.dom,t.getBody(),s)){let l=t.dom.getPos(s),u=t.getBody(),d=t.getDoc().documentElement;e.set({element:s,dataTransfer:QE(),dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(t.inline?u.scrollWidth:d.offsetWidth)-2,maxY:(t.inline?u.scrollHeight:d.offsetHeight)-2,relX:o.pageX-l.x,relY:o.pageY-l.y,width:s.offsetWidth,height:s.offsetHeight,ghost:_ce(t,s,s.offsetWidth,s.offsetHeight),intervalId:E8(Cce)})}}},Mce=(e,t,o)=>{e._selectionOverrides.hideFakeCaret(),iB(e.getBody(),t,o).fold(()=>e.selection.placeCaretAt(t,o),s=>{let l=e._selectionOverrides.showCaret(1,s.node,s.position===Xf.Before,!1);l?e.selection.setRng(l):e.selection.placeCaretAt(t,o)})},Jf=(e,t,o,s,l)=>{t==="dragstart"&&LL(s,e.dom.getOuterHTML(o));let u=bce(t,o,s,l);return e.dispatch(t,u)},Nce=(e,t)=>{let o=Gh((l,u)=>Mce(t,l,u),0);t.on("remove",o.cancel);let s=e;return l=>e.on(u=>{let d=Math.max(Math.abs(l.screenX-u.screenX),Math.abs(l.screenY-u.screenY));if(!u.dragging&&d>10){let p=Jf(t,"dragstart",u.element,u.dataTransfer,l);if(G(p.dataTransfer)&&(u.dataTransfer=p.dataTransfer),p.isDefaultPrevented())return;u.dragging=!0,t.focus()}if(u.dragging){let p=l.currentTarget===t.getDoc().documentElement,m=kce(u,mce(t,l));xce(u.ghost,t.getBody()),Sce(u.ghost,m,u.width,u.height,u.maxX,u.maxY,l.clientY,l.clientX,t.getContentAreaContainer(),t.getWin(),s,p),o.throttle(l.clientX,l.clientY)}})},Rce=e=>{let t=e.getSel();if(G(t)){let s=t.getRangeAt(0).startContainer;return Q(s)?s.parentNode:s}else return null},Oce=(e,t)=>o=>{e.on(s=>{var l;if(s.intervalId.clear(),s.dragging){if(Dce(t,Rce(t.selection),s.element)){let u=(l=t.getDoc().elementFromPoint(o.clientX,o.clientY))!==null&&l!==void 0?l:t.getBody();Jf(t,"drop",u,s.dataTransfer,o).isDefaultPrevented()||t.undoManager.transact(()=>{Ice(t.dom,s.element),jae(s.dataTransfer).each(p=>t.insertContent(p)),t._selectionOverrides.hideFakeCaret()})}Jf(t,"dragend",t.getBody(),s.dataTransfer,o)}}),gB(e)},mB=(e,t,o)=>{e.on(s=>{s.intervalId.clear(),s.dragging&&o.fold(()=>Jf(t,"dragend",s.element,s.dataTransfer),l=>Jf(t,"dragend",s.element,s.dataTransfer,l))}),gB(e)},Pce=(e,t)=>o=>mB(e,t,D.some(o)),gB=e=>{e.on(t=>{t.intervalId.clear(),hB(t.ghost)}),e.clear()},Fce=e=>{let t=gi(),o=At.DOM,s=document,l=Tce(t,e),u=Nce(t,e),d=Oce(t,e),p=Pce(t,e);e.on("mousedown",l),e.on("mousemove",u),e.on("mouseup",d),o.bind(s,"mousemove",u),o.bind(s,"mouseup",p),e.on("remove",()=>{o.unbind(s,"mousemove",u),o.unbind(s,"mouseup",p)}),e.on("keydown",m=>{m.keyCode===ce.ESC&&mB(t,e,D.none())})},Lce=e=>{let t=l=>{if(!l.isDefaultPrevented()){let u=l.dataTransfer;u&&(ft(u.types,"Files")||u.files.length>0)&&(l.preventDefault(),l.type==="drop"&&Wm(e,"Dropped file type is not supported"))}},o=l=>{Dm(e,l.target)&&t(l)},s=()=>{let l=At.DOM,u=e.dom,d=document,p=e.inline?e.getBody():e.getDoc(),m=["drop","dragover"];z(m,v=>{l.bind(d,v,o),u.bind(p,v,t)}),e.on("remove",()=>{z(m,v=>{l.unbind(d,v,o),u.unbind(p,v,t)})})};e.on("init",()=>{oo.setEditorTimeout(e,s,0)})},Bce=e=>{Fce(e),F5(e)&&Lce(e)},Vce=e=>{let t=Gh(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){let o=e.selection.getRng();if(o.collapsed){let s=sE(e,o,!1);e.selection.setRng(s)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},$ce=e=>{e.on("init",()=>{e.on("focusin",t=>{let o=t.target;if(Fs(o)){let s=wl(e.getBody(),o),l=Nt(s)?s:o;e.selection.getNode()!==l&&$f(e,l).each(u=>e.selection.setRng(u))}})})},ep=Nt,vB=(e,t)=>wl(e.getBody(),t),jce=e=>{let t=e.selection,o=e.dom,s=e.getBody(),l=Tq(e,s,o.isBlock,()=>Zc(e)),u="sel-"+o.uniqueId(),d="data-mce-selected",p,m=ae=>G(ae)&&o.hasClass(ae,"mce-offscreen-selection"),v=ae=>ae!==s&&(ep(ae)||Fs(ae))&&o.isChildOf(ae,s)&&o.isEditable(ae.parentNode),b=ae=>{ae&&t.setRng(ae)},C=(ae,U,F,H=!0)=>e.dispatch("ShowCaret",{target:U,direction:ae,before:F}).isDefaultPrevented()?null:(H&&t.scrollIntoView(U,ae===-1),l.show(F,U)),E=ae=>{ae.hasAttribute("data-mce-caret")&&(W0(ae),t.scrollIntoView(ae))},x=()=>{e.on("click",U=>{o.isEditable(U.target)||(U.preventDefault(),e.focus())}),e.on("blur NewBlock",O),e.on("ResizeWindow FullscreenStateChanged",l.reposition),e.on("tap",U=>{let F=U.target,H=vB(e,F);ep(H)?(U.preventDefault(),$f(e,H).each(N)):v(F)&&$f(e,F).each(N)},!0),e.on("mousedown",U=>{let F=U.target;if(F!==s&&F.nodeName!=="HTML"&&!o.isChildOf(F,s)||!xee(e,U.clientX,U.clientY))return;O(),X();let H=vB(e,F);ep(H)?(U.preventDefault(),$f(e,H).each(N)):iB(s,U.clientX,U.clientY).each(fe=>{U.preventDefault();let ye=C(1,fe.node,fe.position===Xf.Before,!1);b(ye),hi(H)?H.focus():e.getBody().focus()})}),e.on("keypress",U=>{ce.modifierPressed(U)||ep(t.getNode())&&U.preventDefault()}),e.on("GetSelectionRange",U=>{let F=U.range;if(p){if(!p.parentNode){p=null;return}F=F.cloneRange(),F.selectNode(p),U.range=F}}),e.on("SetSelectionRange",U=>{U.range=A(U.range);let F=N(U.range,U.forward);F&&(U.range=F)});let ae=U=>ge(U)&&U.id==="mcepastebin";e.on("AfterSetSelectionRange",U=>{let F=U.range,H=F.startContainer.parentElement;!S(F)&&!ae(H)&&X(),m(H)||O()}),Bce(e),Vce(e),$ce(e)},I=ae=>Jr(ae)||Qh(ae)||Xh(ae),S=ae=>I(ae.startContainer)||I(ae.endContainer),A=ae=>{let U=e.schema.getVoidElements(),F=o.createRng(),H=ae.startContainer,fe=ae.startOffset,ye=ae.endContainer,Be=ae.endOffset;return Pe(U,H.nodeName.toLowerCase())?fe===0?F.setStartBefore(H):F.setStartAfter(H):F.setStart(H,fe),Pe(U,ye.nodeName.toLowerCase())?Be===0?F.setEndBefore(ye):F.setEndAfter(ye):F.setEnd(ye,Be),F},M=(ae,U)=>{let F=T.fromDom(e.getBody()),H=e.getDoc(),fe=Nh(F,"#"+u).getOrThunk(()=>{let Ue=T.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',H);return On(Ue,"id",u),pn(F,Ue),Ue}),ye=o.createRng();Ac(fe),Ja(fe,[T.fromText(Sn,H),T.fromDom(U),T.fromText(Sn,H)]),ye.setStart(fe.dom.firstChild,1),ye.setEnd(fe.dom.lastChild,0),Rh(fe,{top:o.getPos(ae,e.getBody()).y+"px"}),CN(fe);let Be=t.getSel();return Be&&(Be.removeAllRanges(),Be.addRange(ye)),ye},R=ae=>{let U=ae.cloneNode(!0),F=e.dispatch("ObjectSelected",{target:ae,targetClone:U});if(F.isDefaultPrevented())return null;let H=M(ae,F.targetClone),fe=T.fromDom(ae);return z(Jn(T.fromDom(e.getBody()),`*[${d}]`),ye=>{mt(fe,ye)||Pn(ye,d)}),o.getAttrib(ae,d)||ae.setAttribute(d,"1"),p=ae,X(),H},N=(ae,U)=>{if(!ae)return null;if(ae.collapsed){if(!S(ae)){let ye=U?1:-1,Be=Cf(ye,s,ae),Ue=Be.getNode(!U);if(G(Ue)){if(gf(Ue))return C(ye,Ue,U?!Be.isAtEnd():!1,!1);if(la(Ue)&&Nt(Ue.nextSibling)){let dt=o.createRng();return dt.setStart(Ue,0),dt.setEnd(Ue,0),dt}}let lt=Be.getNode(U);if(G(lt)){if(gf(lt))return C(ye,lt,U?!1:!Be.isAtEnd(),!1);if(la(lt)&&Nt(lt.previousSibling)){let dt=o.createRng();return dt.setStart(lt,1),dt.setEnd(lt,1),dt}}}return null}let F=ae.startContainer,H=ae.startOffset,fe=ae.endOffset;if(Q(F)&&H===0&&ep(F.parentNode)&&(F=F.parentNode,H=o.nodeIndex(F),F=F.parentNode),!ge(F))return null;if(fe===H+1&&F===ae.endContainer){let ye=F.childNodes[H];if(v(ye))return R(ye)}return null},O=()=>{p&&p.removeAttribute(d),Nh(T.fromDom(e.getBody()),"#"+u).each(Lt),p=null},q=()=>{l.destroy(),p=null},X=()=>{l.hide()};return Hs(e)||x(),{showCaret:C,showBlockCaretContainer:E,hideFakeCaret:X,destroy:q}},Uce=(e,t)=>{let o=t;for(let s=e.previousSibling;Q(s);s=s.previousSibling)o+=s.data.length;return o},yB=(e,t,o,s,l)=>{if(Q(o)&&(s<0||s>o.data.length))return[];let u=l&&Q(o)?[Uce(o,s)]:[s],d=o;for(;d!==t&&d.parentNode;)u.push(e.nodeIndex(d,l)),d=d.parentNode;return d===t?u.reverse():[]},sD=(e,t,o,s,l,u,d=!1)=>{let p=yB(e,t,o,s,d),m=yB(e,t,l,u,d);return{start:p,end:m}},bB=(e,t)=>{let o=t.slice(),s=o.pop();return Zt(s)?Rn(o,(u,d)=>u.bind(p=>D.from(p.childNodes[d])),D.some(e)).bind(u=>Q(u)&&(s<0||s>u.data.length)?D.none():D.some({node:u,offset:s})):D.none()},CB=(e,t)=>bB(e,t.start).bind(({node:o,offset:s})=>bB(e,t.end).map(({node:l,offset:u})=>{let d=document.createRange();return d.setStart(o,s),d.setEnd(l,u),d})),Hce=(e,t,o,s=!1)=>sD(e,t,o.startContainer,o.startOffset,o.endContainer,o.endOffset,s),au=(e,t,o)=>{if(t&&e.isEmpty(t)&&!o(t)){let s=t.parentNode;e.remove(t,Q(t.firstChild)&&Tc(t.firstChild.data)),au(e,s,o)}},xg=(e,t,o,s=!0)=>{let l=t.startContainer.parentNode,u=t.endContainer.parentNode;t.deleteContents(),s&&!o(t.startContainer)&&(Q(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),Q(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),au(e,l,o),l!==u&&au(e,u,o))},Sg=(e,t)=>D.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),iD=(e,t,o)=>{let s=e.dynamicPatternsLookup({text:o,block:t});return Me(W({},e),{blockPatterns:NT(s).concat(e.blockPatterns),inlinePatterns:RT(s).concat(e.inlinePatterns)})},aD=(e,t,o,s)=>{let l=e.createRng();return l.setStart(t,0),l.setEnd(o,s),l.toString()},wB=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),Ig=(e,t)=>{let o=e.createRng();return o.setStartAfter(t.start),o.setEndBefore(t.end),o},EB=(e,t,o)=>{let s=CB(e.getRoot(),o).getOrDie("Unable to resolve path range"),l=s.startContainer,u=s.endContainer,d=s.endOffset===0?u:u.splitText(s.endOffset),p=s.startOffset===0?l:l.splitText(s.startOffset),m=p.parentNode,v=d.parentNode;return{prefix:t,end:v.insertBefore(wB(e,t+"-end"),d),start:m.insertBefore(wB(e,t+"-start"),p)}},DB=(e,t,o)=>{au(e,e.get(t.prefix+"-end"),o),au(e,e.get(t.prefix+"-start"),o)},lD=e=>e.start.length===0,zce=e=>(t,o)=>{let l=t.data.substring(0,o),u=l.lastIndexOf(e.charAt(e.length-1)),d=l.lastIndexOf(e);return d!==-1?d+e.length:u!==-1?u+1:-1},_B=(e,t,o,s)=>{let l=t.start;return TE(e,s.container,s.offset,zce(l),o).bind(d=>{var p,m;let v=(m=(p=o.textContent)===null||p===void 0?void 0:p.indexOf(l))!==null&&m!==void 0?m:-1;if(v!==-1&&d.offset>=v+l.length){let C=e.createRng();return C.setStart(d.container,d.offset-l.length),C.setEnd(d.container,d.offset),D.some(C)}else{let C=d.offset-l.length;return kE(d.container,C,o).map(E=>{let x=e.createRng();return x.setStart(E.container,E.offset),x.setEnd(d.container,d.offset),x}).filter(E=>E.toString()===l).orThunk(()=>_B(e,t,o,ls(d.container,0)))}})},Wce=(e,t,o,s,l,u=!1)=>{if(t.start.length===0&&!u){let d=e.createRng();return d.setStart(o,s),d.setEnd(o,s),D.some(d)}return AE(o,s,l).bind(d=>_B(e,t,l,d).bind(m=>{var v;if(u){if(m.endContainer===d.container&&m.endOffset===d.offset)return D.none();if(d.offset===0&&((v=m.endContainer.textContent)===null||v===void 0?void 0:v.length)===m.endOffset)return D.none()}return D.some(m)}))},qce=(e,t,o,s)=>{let l=e.dom,u=l.getRoot(),d=o.pattern,p=o.position.container,m=o.position.offset;return kE(p,m-o.pattern.end.length,t).bind(v=>{let b=sD(l,u,v.container,v.offset,p,m,s);if(lD(d))return D.some({matches:[{pattern:d,startRng:b,endRng:b}],position:v});{let C=Ag(e,o.remainingPatterns,v.container,v.offset,t,s),E=C.getOr({matches:[],position:v}),x=E.position;return Wce(l,d,x.container,x.offset,t,C.isNone()).map(S=>{let A=Hce(l,u,S,s);return{matches:E.matches.concat([{pattern:d,startRng:A,endRng:b}]),position:ls(S.startContainer,S.startOffset)}})}})},Ag=(e,t,o,s,l,u)=>{let d=e.dom;return AE(o,s,d.getRoot()).bind(p=>{let m=aD(d,l,o,s);for(let v=0;v<t.length;v++){let b=t[v];if(!Xb(m,b.end))continue;let C=t.slice();C.splice(v,1);let E=qce(e,l,{pattern:b,remainingPatterns:C,position:p},u);if(E.isNone()&&s>0)return Ag(e,t,o,s-1,l,u);if(E.isSome())return E}return D.none()})},xB=(e,t,o)=>{e.selection.setRng(o),t.type==="inline-format"?z(t.format,s=>{e.formatter.apply(s)}):e.execCommand(t.cmd,!1,t.value)},Gce=(e,t,o,s)=>{let l=Ig(e.dom,o);xg(e.dom,l,s),xB(e,t,l)},Kce=(e,t,o,s,l)=>{let u=e.dom,d=Ig(u,s),p=Ig(u,o);xg(u,p,l),xg(u,d,l);let m={prefix:o.prefix,start:o.end,end:s.start},v=Ig(u,m);xB(e,t,v)},Yce=(e,t)=>{let o=af("mce_textpattern"),s=Qr(t,(l,u)=>{let d=EB(e,o+`_end${l.length}`,u.endRng);return l.concat([Me(W({},u),{endMarker:d})])},[]);return Qr(s,(l,u)=>{let d=s.length-l.length-1,p=lD(u.pattern)?u.endMarker:EB(e,o+`_start${d}`,u.startRng);return l.concat([Me(W({},u),{startMarker:p})])},[])},Zce=e=>Ga(e,(t,o)=>o.end.length-t.end.length),Qce=(e,t)=>{let o=ko(e,s=>Ht(t,l=>s.pattern.start===l.pattern.start&&s.pattern.end===l.pattern.end));return e.length===t.length?o?e:t:e.length>t.length?e:t},SB=(e,t,o,s,l,u)=>{let d=Ag(e,l.inlinePatterns,o,s,t,u).fold(()=>[],m=>m.matches),p=Ag(e,Zce(l.inlinePatterns),o,s,t,u).fold(()=>[],m=>m.matches);return Qce(d,p)},IB=(e,t)=>{if(t.length===0)return;let o=e.dom,s=e.selection.getBookmark(),l=Yce(o,t);z(l,u=>{let d=o.getParent(u.startMarker.start,o.isBlock),p=m=>m===d;lD(u.pattern)?Gce(e,u.pattern,u.endMarker,p):Kce(e,u.pattern,u.startMarker,u.endMarker,p),DB(o,u.endMarker,p),DB(o,u.startMarker,p)}),e.selection.moveToBookmark(s)},AB=(e,t,o)=>$oe(t,0,t).map(s=>{let l=s.container;return TF(l,o.start.length,t).each(u=>{let d=e.createRng();d.setStart(l,0),d.setEnd(u.container,u.offset),xg(e,d,p=>p===t)}),l}),kB=e=>(t,o)=>{let s=t.dom,l=o.pattern,u=CB(s.getRoot(),o.range).getOrDie("Unable to resolve path range"),d=(p,m)=>{let v=m.get(p);return Ie(v)&&br(v).exists(b=>Pe(b,"block"))};return Sg(t,u).each(p=>{l.type==="block-format"?d(l.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,p,l),t.formatter.apply(l.format)}):l.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,p,l),t.execCommand(l.cmd,!1,l.value)})}),!0},Xce=e=>Ga(e,(t,o)=>o.start.length-t.start.length),TB=e=>(t,o)=>{let s=Xce(t),l=o.replace(Sn," ");return sn(s,u=>e(u,o,l))},MB=(e,t)=>(o,s,l,u,d)=>{var p;d===void 0&&(d=(p=s.textContent)!==null&&p!==void 0?p:"");let m=o.dom,v=tr(o);return m.is(s,v)?e(l.blockPatterns,d).map(b=>t&&ee.trim(d).length===b.start.length?[]:[{pattern:b,range:sD(m,m.getRoot(),s,0,s,0,u)}]).getOr([]):[]},Jce=e=>/^\s[^\s]/.test(e),eue=kB((e,t,o)=>{AB(e,t,o).each(s=>{let l=T.fromDom(s),u=Kh(l);Jce(u)&&LW(l,u.slice(1))})}),tue=TB((e,t,o)=>t.indexOf(e.start)===0||o.indexOf(e.start)===0),nue=MB(tue,!0),rue=(e,t)=>{let o=e.selection.getRng();return Sg(e,o).map(s=>{var l;let u=Math.max(0,o.startOffset),d=iD(t,s,(l=s.textContent)!==null&&l!==void 0?l:""),p=SB(e,s,o.startContainer,u,d,!0),m=nue(e,s,d,!0);return{inlineMatches:p,blockMatches:m}}).filter(({inlineMatches:s,blockMatches:l})=>l.length>0||s.length>0)},oue=(e,t)=>{if(t.length===0)return;let o=e.selection.getBookmark();z(t,s=>eue(e,s)),e.selection.moveToBookmark(o)},sue=kB(AB),iue=TB((e,t,o)=>t===e.start||o===e.start),aue=MB(iue,!1),lue=(e,t)=>{let o=e.selection.getRng();return Sg(e,o).map(s=>{let l=Math.max(0,o.startOffset),u=aD(e.dom,s,o.startContainer,l),d=iD(t,s,u);return aue(e,s,d,!1,u)}).filter(s=>s.length>0)},cue=(e,t)=>{z(t,o=>sue(e,o))},uue=(e,t)=>rue(e,t).fold(wt,({inlineMatches:o,blockMatches:s})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{YW(e),IB(e,o),oue(e,s);let l=e.selection.getRng(),u=AE(l.startContainer,l.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),u.each(d=>{let p=d.container;p.data.charAt(d.offset-1)===Kd&&(p.deleteData(d.offset-1,1),au(e.dom,p.parentNode,m=>m===e.dom.getRoot()))})}),!0)),due=(e,t)=>{let o=e.selection.getRng();Sg(e,o).map(s=>{let l=Math.max(0,o.startOffset-1),u=aD(e.dom,s,o.startContainer,l),d=iD(t,s,u),p=SB(e,s,o.startContainer,l,d,!1);p.length>0&&e.undoManager.transact(()=>{IB(e,p)})})},fue=(e,t)=>lue(e,t).fold(wt,o=>(e.undoManager.transact(()=>{cue(e,o)}),!0)),NB=(e,t,o)=>{for(let s=0;s<e.length;s++)if(o(e[s],t))return!0;return!1},pue=(e,t)=>NB(e,t,(o,s)=>o===s.keyCode&&!ce.modifierPressed(s)),hue=(e,t)=>NB(e,t,(o,s)=>o.charCodeAt(0)===s.charCode),mue=e=>{let t=[",",".",";",":","!","?"],o=[32],s=()=>H6(nq(e),rq(e)),l=()=>cq(e);e.on("keydown",d=>{if(d.keyCode===13&&!ce.modifierPressed(d)&&e.selection.isCollapsed()){let p=tC(s(),"enter");(p.inlinePatterns.length>0||p.blockPatterns.length>0||l())&&uue(e,p)&&d.preventDefault()}},!0),e.on("keydown",d=>{if(d.keyCode===32&&e.selection.isCollapsed()){let p=tC(s(),"space");(p.blockPatterns.length>0||l())&&fue(e,p)&&d.preventDefault()}},!0);let u=()=>{if(e.selection.isCollapsed()){let d=tC(s(),"space");(d.inlinePatterns.length>0||l())&&due(e,d)}};e.on("keyup",d=>{pue(o,d)&&u()}),e.on("keypress",d=>{hue(t,d)&&oo.setEditorTimeout(e,u)})},gue=e=>{mue(e)},vue=e=>{let t=ee.each,o=ce.BACKSPACE,s=ce.DELETE,l=e.dom,u=e.selection,d=e.parser,p=ct.browser,m=p.isFirefox(),v=p.isChromium()||p.isSafari(),b=ct.deviceType.isiPhone()||ct.deviceType.isiPad(),C=ct.os.isMacOS()||ct.os.isiOS(),E=(se,we)=>{try{e.getDoc().execCommand(se,!1,String(we))}catch{}},x=se=>se.isDefaultPrevented(),I=()=>{let se=je=>{let ie=l.create("body"),Ve=je.cloneContents();return ie.appendChild(Ve),u.serializer.serialize(ie,{format:"html"})},we=je=>{let ie=se(je),Ve=l.createRng();Ve.selectNode(e.getBody());let ze=se(Ve);return ie===ze};e.on("keydown",je=>{let ie=je.keyCode;if(!x(je)&&(ie===s||ie===o)&&e.selection.isEditable()){let Ve=e.selection.isCollapsed(),ze=e.getBody();if(Ve&&!mi(e.schema,ze)||!Ve&&!we(e.selection.getRng()))return;je.preventDefault(),e.setContent(""),ze.firstChild&&l.isBlock(ze.firstChild)?e.selection.setCursorLocation(ze.firstChild,0):e.selection.setCursorLocation(ze,0),e.nodeChanged()}})},S=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},A=()=>{e.inline||l.bind(e.getDoc(),"mousedown mouseup",se=>{let we;if(se.target===e.getDoc().documentElement)if(we=u.getRng(),e.getBody().focus(),se.type==="mousedown"){if(Jr(we.startContainer))return;u.placeCaretAt(se.clientX,se.clientY)}else u.setRng(we)})},M=()=>{e.on("keydown",se=>{if(!x(se)&&se.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(u.isCollapsed()&&u.getRng().startOffset===0){let we=u.getNode(),je=we.previousSibling;if(we.nodeName==="HR"){l.remove(we),se.preventDefault();return}je&&je.nodeName&&je.nodeName.toLowerCase()==="hr"&&(l.remove(je),se.preventDefault())}}})},R=()=>{Range.prototype.getClientRects||e.on("mousedown",se=>{if(!x(se)&&se.target.nodeName==="HTML"){let we=e.getBody();we.blur(),oo.setEditorTimeout(e,()=>{we.focus()})}})},N=()=>{let se=YT(e);e.on("click",we=>{let je=we.target;/^(IMG|HR)$/.test(je.nodeName)&&l.isEditable(je)&&(we.preventDefault(),e.selection.select(je),e.nodeChanged()),je.nodeName==="A"&&l.hasClass(je,se)&&je.childNodes.length===0&&l.isEditable(je.parentNode)&&(we.preventDefault(),u.select(je))})},O=()=>{let se=()=>{let je=l.getAttribs(u.getStart().cloneNode(!1));return()=>{let ie=u.getStart();ie!==e.getBody()&&(l.setAttrib(ie,"style",null),t(je,Ve=>{ie.setAttributeNode(Ve.cloneNode(!0))}))}},we=()=>!u.isCollapsed()&&l.getParent(u.getStart(),l.isBlock)!==l.getParent(u.getEnd(),l.isBlock);e.on("keypress",je=>{let ie;return!x(je)&&(je.keyCode===8||je.keyCode===46)&&we()?(ie=se(),e.getDoc().execCommand("delete",!1),ie(),je.preventDefault(),!1):!0}),l.bind(e.getDoc(),"cut",je=>{if(!x(je)&&we()){let ie=se();oo.setEditorTimeout(e,()=>{ie()})}})},q=()=>{e.on("keydown",se=>{if(!x(se)&&se.keyCode===o&&u.isCollapsed()&&u.getRng().startOffset===0){let we=u.getNode().previousSibling;if(we&&we.nodeName&&we.nodeName.toLowerCase()==="table")return se.preventDefault(),!1}return!0})},X=()=>{e.on("keydown",se=>{if(x(se)||se.keyCode!==ce.BACKSPACE)return;let we=u.getRng(),je=we.startContainer,ie=we.startOffset,Ve=l.getRoot(),ze=je;if(!(!we.collapsed||ie!==0)){for(;ze.parentNode&&ze.parentNode.firstChild===ze&&ze.parentNode!==Ve;)ze=ze.parentNode;ze.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,ze),we=l.createRng(),we.setStart(je,0),we.setEnd(je,0),u.setRng(we))}})},ae=()=>{let se=()=>{E("StyleWithCSS",!1),E("enableInlineTableEditing",!1),WT(e)||E("enableObjectResizing",!1)};GT(e)||e.on("BeforeExecCommand mousedown",se)},U=()=>{let se=()=>{t(l.select("a:not([data-mce-block])"),we=>{var je;let ie=we.parentNode,Ve=l.getRoot();if(ie?.lastChild===we){for(;ie&&!l.isBlock(ie);){if(((je=ie.parentNode)===null||je===void 0?void 0:je.lastChild)!==ie||ie===Ve)return;ie=ie.parentNode}l.add(ie,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",we=>{(we.type==="setcontent"||we.command==="mceInsertLink")&&se()})},F=()=>{e.on("init",()=>{E("DefaultParagraphSeparator",tr(e))})},H=se=>{let we=se.getBody(),je=se.selection.getRng();return je.startContainer===je.endContainer&&je.startContainer===we&&je.startOffset===0&&je.endOffset===we.childNodes.length},fe=()=>{e.on("keyup focusin mouseup",se=>{!ce.modifierPressed(se)&&!H(e)&&u.normalize()},!0)},ye=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Be=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},Ue=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",se=>{let we;se.target.nodeName==="HTML"&&(we=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(we),e.selection.normalize(),e.nodeChanged())}))},lt=()=>{C&&e.on("keydown",se=>{ce.metaKeyPressed(se)&&!se.shiftKey&&(se.keyCode===37||se.keyCode===39)&&(se.preventDefault(),e.selection.getSel().modify("move",se.keyCode===37?"backward":"forward","lineboundary"))})},dt=()=>{e.on("click",se=>{let we=se.target;do if(we.tagName==="A"){se.preventDefault();return}while(we=we.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},zt=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",se=>{se.preventDefault()})})},An=()=>{d.addNodeFilter("br",se=>{let we=se.length;for(;we--;)se[we].attr("class")==="Apple-interchange-newline"&&se[we].remove()})},vt=Ne,ne=()=>{if(!m||e.removed)return!1;let se=e.selection.getSel();return!se||!se.rangeCount||se.rangeCount===0},me=()=>{v&&(A(),N(),zt(),S(),b&&(Be(),Ue(),dt())),m&&(R(),ae(),ye(),lt())},Je=()=>{X(),I(),ct.windowsPhone||fe(),v&&(A(),N(),F(),zt(),q(),An(),b?(Be(),Ue(),dt()):S()),m&&(M(),R(),O(),ae(),U(),ye(),lt(),q())};return Hs(e)?me():Je(),{refreshContentEditable:vt,isHidden:ne}},yue=e=>e.toLowerCase()==="gpl",bue=e=>e.length>=64&&e.length<=255,Cue=e=>yue(e)||bue(e)?"VALID":"INVALID",wue=e=>{let t=vq(e);!te(yq(e))&&(Ke(t)||Cue(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},cD=At.DOM,Eue=(e,t)=>{let o=T.fromDom(e.getBody()),s=u0(ra(o)),l=T.fromTag("style");On(l,"type","text/css"),pn(l,T.fromText(t)),pn(s,l),e.on("remove",()=>{Lt(l)})},Due=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,uD=e=>Pd(e,t=>Ke(t)===!1),RB=e=>{let t=e.options.get,o=e.editorUpload.blobCache;return uD({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:Due(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:iC(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:o,document:e.getDoc()})},OB=e=>{let t=e.options.get;return uD({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},_ue=e=>{let t=e.options.get;return W(W(W({},RB(e)),OB(e)),uD({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")}))},xue=e=>{let t=Jc(RB(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(o,s)=>{let l=e.dom,u="data-mce-"+s,d=o.length;for(;d--;){let p=o[d],m=p.attr(s);if(m&&!p.attr(u)){if(m.indexOf("data:")===0||m.indexOf("blob:")===0)continue;s==="style"?(m=l.serializeStyle(l.parseStyle(m),p.name),m.length||(m=null),p.attr(u,m),p.attr(s,m)):s==="tabindex"?(p.attr(u,m),p.attr(s,null)):p.attr(u,e.convertURL(m,s,p.name))}}}),t.addNodeFilter("script",o=>{let s=o.length;for(;s--;){let l=o[s],u=l.attr("type")||"no/type";u.indexOf("mce-")!==0&&l.attr("type","mce-"+u)}}),iq(e)&&t.addNodeFilter("#cdata",o=>{var s;let l=o.length;for(;l--;){let u=o[l];u.type=8,u.name="#comment",u.value="[CDATA["+e.dom.encode((s=u.value)!==null&&s!==void 0?s:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",o=>{let s=o.length,l=e.schema.getNonEmptyElements();for(;s--;){let u=o[s];u.isEmpty(l)&&u.getAll("br").length===0&&u.append(new fr("br",1))}}),t},Sue=e=>{let t=U5(e);t&&oo.setEditorTimeout(e,()=>{let o;t===!0?o=e:o=e.editorManager.get(t),o&&!o.destroyed&&(o.focus(),o.selection.scrollIntoView())},100)},Iue=e=>{let t=e.dom.getRoot();!e.inline&&(!fm(e)||e.selection.getStart(!0)===t)&&nr(t).each(o=>{let s=o.getNode(),l=Ps(s)?nr(s).getOr(o):o;e.selection.setRng(l.toRange())})},Aue=e=>{e.bindPendingEventDelegates(),e.initialized=!0,j9(e),e.focus(!0),Iue(e),e.nodeChanged({initial:!0});let t=$5(e);Oe(t)&&t.call(e,e),Sue(e)},dD=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,kue=(e,t,o)=>{let{pass:s,fail:l}=ea(t,p=>tinymce.Resource.has(eE(p))),d=[...s.map(p=>{let m=tinymce.Resource.get(eE(p));return te(m)?Promise.resolve(dD(e).loadRawCss(p,m)):Promise.resolve()}),dD(e).loadAll(l)];return e.inline?d:d.concat([e.ui.styleSheetLoader.loadAll(o)])},PB=e=>{let t=dD(e),o=zT(e),s=e.contentCSS,l=()=>{t.unloadAll(s),e.inline||e.ui.styleSheetLoader.unloadAll(o)},u=()=>{e.removed?l():e.on("remove",l)};if(e.contentStyles.length>0){let m="";ee.each(e.contentStyles,v=>{m+=v+`\r
`}),e.dom.addStyle(m)}let d=Promise.all(kue(e,s,o)).then(u).catch(u),p=m5(e);return p&&Eue(e,p),d},Tue=e=>{let t=e.getDoc(),o=e.getBody();V9(e),H5(e)||(t.body.spellcheck=!1,cD.setAttrib(o,"spellcheck","false")),e.quirks=vue(e),$9(e);let s=g5(e);s!==void 0&&(o.dir=s);let l=z5(e);l&&e.on("BeforeSetContent",u=>{ee.each(l,d=>{u.content=u.content.replace(d,p=>"<!--mce:protected "+escape(p)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",u=>{e.composing=u.type==="compositionstart"})},Mue=e=>{Hs(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},fD=e=>{e.removed!==!0&&(Mue(e),Aue(e))},Nue=e=>{let t=!1,o=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(o),t=!0,e.setProgressState(!1)}},FB=e=>{let t=e.getElement(),o=e.getDoc();e.inline&&(cD.addClass(t,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);let s=e.getBody();s.disabled=!0,e.readonly=GT(e),e._editableRoot=O5(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&cD.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,e.editorUpload=Xee(e),e.schema=ia(OB(e)),e.dom=At(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:d5(e),referrerPolicy:rC(e),onSetAttrib:d=>{e.dispatch("SetAttrib",d)}}),e.parser=xue(e),e.serializer=_O(_ue(e),e),e.selection=DO(e.dom,e.getWin(),e.serializer,e),e.annotator=GM(e),e.formatter=VO(e),e.undoManager=jO(e),e._nodeChangeDispatcher=new Sae(e),e._selectionOverrides=jce(e),xre(e),qle(e),Ore(e),Hs(e)||(Jle(e),gue(e));let l=xae(e);Ere(e,l),Tre(e),pte(e),Hle(e);let u=nJ(e);Tue(e),wue(e),u.fold(()=>{let d=Nue(e);PB(e).then(()=>{fD(e),d()})},d=>{e.setProgressState(!0),PB(e).then(()=>{d().then(p=>{e.setProgressState(!1),fD(e),yO(e)},p=>{e.notificationManager.open({type:"error",text:String(p)}),fD(e),yO(e)})})})},Rue=Ut,Oue=(e,t,o)=>K4(e,t,Rue,o),pD=At.DOM,Pue=(e,t,o,s)=>{let l=T.fromTag("iframe");return s.each(u=>On(l,"tabindex",u)),ci(l,o),ci(l,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),_c(l,"tox-edit-area__iframe"),l},Fue=e=>{let t=Z6(e)+"<html><head>";LT(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';let o=Q6(e),s=X6(e),l=e.translate(ZT(e));return BT(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+BT(e)+'" />'),t+=`</head><body id="${o}" class="mce-content-body ${s}" data-id="${e.id}" aria-label="${l}"><br></body></html>`,t},Lue=(e,t)=>{let o=ct.browser.isFirefox()?ZT(e):"Rich Text Area",s=e.translate(o),l=ui(T.fromDom(e.getElement()),"tabindex").bind(Ih),u=Pue(e.id,s,Y6(e),l).dom;u.onload=()=>{u.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=u,e.iframeHTML=Fue(e),pD.add(t.iframeContainer,u)},Bue=e=>{let t=e.iframeElement,o=()=>{e.contentDocument=t.contentDocument,FB(e)};if(lq(e)||ct.browser.isFirefox()){let s=e.getDoc();s.open(),s.write(e.iframeHTML),s.close(),o()}else{let s=Oue(T.fromDom(t),"load",()=>{s.unbind(),o()});t.srcdoc=e.iframeHTML}},Vue=(e,t)=>{Lue(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=pD.isHidden(t.editorContainer)),e.getElement().style.display="none",pD.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,Bue(e)},LB=At.DOM,$ue=(e,t,o)=>{let s=tu.get(o),l=tu.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=ee.trim(o),s&&ee.inArray(t,o)===-1){if(e.plugins[o])return;try{let u=s(e,l)||{};e.plugins[o]=u,Oe(u.init)&&(u.init(e,l),t.push(o))}catch(u){Fee(e,o,u)}}},jue=e=>e.replace(/^\-/,""),Uue=e=>{let t=[];z(om(e),o=>{$ue(e,t,jue(o))})},Hue=e=>{let t=ee.trim(jT(e)),o=e.ui.registry.getAll().icons,s=W(W({},zm.get("default").icons),zm.get(t).icons);kt(s,(l,u)=>{Pe(o,u)||e.ui.registry.addIcon(u,l)})},zue=e=>{let t=Vc(e);if(te(t)){let o=Dl.get(t);e.theme=o(e,Dl.urls[t])||{},Oe(e.theme.init)&&e.theme.init(e,Dl.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},Wue=e=>{let t=oC(e),o=eu.get(t);e.model=o(e,eu.urls[t])},que=e=>{let t=e.theme.renderUI;return t?t():VB(e)},Gue=e=>{let t=e.getElement(),s=Vc(e)(e,t);return s.editorContainer.nodeType&&(s.editorContainer.id=s.editorContainer.id||e.id+"_parent"),s.iframeContainer&&s.iframeContainer.nodeType&&(s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"),s.height=s.iframeHeight?s.iframeHeight:t.offsetHeight,s},BB=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),Kue=e=>{let t=LB.create("div");return LB.insertAfter(t,e),BB(t,t)},VB=e=>{let t=e.getElement();return e.inline?BB(null):Kue(t)},Yue=e=>{let t=e.getElement();return e.orgDisplay=t.style.display,te(Vc(e))?que(e):Oe(Vc(e))?Gue(e):VB(e)},Zue=(e,t)=>{let o={show:D.from(t.show).getOr(Ne),hide:D.from(t.hide).getOr(Ne),isEnabled:D.from(t.isEnabled).getOr(Ut),setEnabled:s=>{e.mode.isReadOnly()||D.from(t.setEnabled).each(l=>l(s))}};e.ui=W(W({},e.ui),o)},Que=e=>pt(this,null,function*(){e.dispatch("ScriptsLoaded"),Hue(e),zue(e),Wue(e),Uue(e);let t=yield Yue(e);Zue(e,D.from(t.api).getOr({})),e.editorContainer=t.editorContainer,jee(e),e.inline?FB(e):Vue(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})}),xl=At.DOM,$B=e=>e.charAt(0)==="-",Xue=(e,t)=>{let o=UT(t),s=f5(t);if(!rs.hasCode(o)&&o!=="en"){let l=Ts(s)?s:`${t.editorManager.baseURL}/langs/${o}.js`;e.add(l).catch(()=>{Ree(t,l,o)})}},Jue=(e,t)=>{let o=Vc(e);if(te(o)&&!$B(o)&&!Pe(Dl.urls,o)){let s=w5(e),l=s?e.documentBaseURI.toAbsolute(s):`themes/${o}/theme${t}.js`;Dl.load(o,l).catch(()=>{Oee(e,l,o)})}},ede=(e,t)=>{let o=oC(e);if(o!=="plugin"&&!Pe(eu.urls,o)){let s=E5(e),l=te(s)?e.documentBaseURI.toAbsolute(s):`models/${o}/model${t}.js`;eu.load(o,l).catch(()=>{Pee(e,l,o)})}},tde=e=>D.from(i5(e)).filter(Ts).map(t=>({url:t,name:D.none()})),jB=(e,t,o)=>D.from(t).filter(s=>Ts(s)&&!zm.has(s)).map(s=>({url:`${e.editorManager.baseURL}/icons/${s}/icons${o}.js`,name:D.some(s)})),nde=(e,t,o)=>{let s=jB(t,"default",o),l=tde(t).orThunk(()=>jB(t,jT(t),""));z(s4([s,l]),u=>{e.add(u.url).catch(()=>{Nee(t,u.url,u.name.getOrUndefined())})})},rde=(e,t)=>{let o=(s,l)=>{tu.load(s,l).catch(()=>{Mee(e,l,s)})};kt(P5(e),(s,l)=>{o(l,s),e.options.set("plugins",om(e).concat(l))}),z(om(e),s=>{s=ee.trim(s),s&&!tu.urls[s]&&!$B(s)&&o(s,`plugins/${s}/plugin${t}.js`)})},ode=e=>{let t=Vc(e);return!te(t)||G(Dl.get(t))},sde=e=>{let t=oC(e);return G(eu.get(t))},ide=(e,t)=>{let o=vi.ScriptLoader,s=()=>{!e.removed&&ode(e)&&sde(e)&&Que(e)};Jue(e,t),ede(e,t),Xue(o,e),nde(o,e,t),rde(e,t),o.loadQueue().then(s,s)},ade=(e,t)=>Ek.forElement(e,{contentCssCors:KT(t),referrerPolicy:rC(t)}),lde=e=>{let t=e.id;rs.setCode(UT(e));let o=()=>{xl.unbind(window,"ready",o),e.render()};if(!il.Event.domLoaded){xl.bind(window,"ready",o);return}if(!e.getElement())return;let s=T.fromDom(e.getElement()),l=PA(s);e.on("remove",()=>{Td(s.dom.attributes,d=>Pn(s,d.name)),ci(s,l)}),e.ui.styleSheetLoader=ade(s,e),sC(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");let u=e.getElement().form||xl.getParent(t,"form");u&&(e.formElement=u,A5(e)&&!g0(e.getElement())&&(xl.insertAfter(xl.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=d=>{e.dispatch(d.type,d)},xl.bind(u,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),k5(e)&&!u.submit.nodeType&&!u.submit.length&&!u._mceOldSubmit&&(u._mceOldSubmit=u.submit,u.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),u._mceOldSubmit(u)))),e.windowManager=MO(e),e.notificationManager=TO(e),fq(e)&&e.on("GetContent",d=>{d.save&&(d.content=xl.encode(d.content))}),T5(e)&&e.on("submit",()=>{e.initialized&&e.save()}),M5(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),ide(e,e.suffix)},cde=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,e.readonly||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),Z9(e,t))},ude=e=>e._editableRoot,dde=(e,t)=>({sections:re(e),options:re(t)}),UB=Ms().deviceType,HB=UB.isPhone(),fde=UB.isTablet(),tp=e=>{if($e(e))return[];{let t=Ie(e)?e:e.split(/[ ,]/),o=rt(t,wc);return Te(o,Ts)}},pde=(e,t)=>{let o=Mz(t,(s,l)=>ft(e,l));return dde(o.t,o.f)},hde=(e,t,o={})=>{let s=e.sections(),l=Ft(s,t).getOr({});return ee.extend({},o,l)},hD=(e,t)=>Pe(e.sections(),t),mde=(e,t)=>hD(e,t)?e.sections()[t]:{},gde=(e,t)=>{let o={table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Ft(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},s={menubar:!1};return W(W({},o),t?s:{})},vde=(e,t)=>{var o;let s=(o=t.external_plugins)!==null&&o!==void 0?o:{};return e&&e.external_plugins?ee.extend({},e.external_plugins,s):s},yde=(e,t)=>[...tp(e),...tp(t)],bde=(e,t,o,s)=>e&&hD(t,"mobile")?s:o,Cde=(e,t,o,s)=>{let l=tp(o.forced_plugins),u=tp(s.plugins),d=mde(t,"mobile"),p=d.plugins?tp(d.plugins):u,m=bde(e,t,u,p),v=yde(l,m);return ee.extend(s,{forced_plugins:l,plugins:v})},wde=(e,t)=>e&&hD(t,"mobile"),Ede=(e,t,o,s,l)=>{var u;let d=e?{mobile:gde((u=l.mobile)!==null&&u!==void 0?u:{},t)}:{},p=pde(["mobile"],ig(d,l)),m=ee.extend(o,s,p.options(),wde(e,p)?hde(p,"mobile"):{},{external_plugins:vde(s,p.options())});return Cde(e,p,s,m)},Dde=(e,t)=>{let o=BF(t);return Ede(HB||fde,HB,o,e,o)},_de=(e,t)=>IJ(e,t),xde=e=>{let t=(s,l)=>{e.formatter.toggle(s,l),e.nodeChanged()},o=s=>()=>{z("left,center,right,justify".split(","),l=>{s!==l&&e.formatter.remove("align"+l)}),s!=="none"&&t("align"+s)};e.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})},Sde=e=>{let t=o=>()=>{let s=e.selection,l=s.isCollapsed()?[e.dom.getParent(s.getNode(),e.dom.isBlock)]:s.getSelectedBlocks();return Ht(l,u=>G(e.formatter.matchNode(u,o)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},Ide=e=>{xde(e),Sde(e)},Ade=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{let o=e.getDoc(),s;try{o.execCommand(t)}catch{s=!0}if(t==="paste"&&!o.queryCommandEnabled(t)&&(s=!0),s||!o.queryCommandSupported(t)){let l=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(ct.os.isMacOS()||ct.os.isiOS())&&(l=l.replace(/Ctrl\+/g,"\u2318+")),e.notificationManager.open({text:l,type:"error"})}}})},kde=(e,t,o,s)=>{let l=T.fromDom(e.getRoot());return kf(l,j.fromRangeStart(t),s)?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),Tf(l,j.fromRangeEnd(t),s)?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},Tde=e=>{if(typeof e!="string"){let t=ee.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},Mde=(e,t)=>{let o=e.selection,s=e.dom;return/^ | $/.test(t)?kde(s,o.getRng(),t,e.schema):t},kg=(e,t)=>{if(e.selection.isEditable()){let{content:o,details:s}=Tde(t);Hw(e,Me(W({},s),{content:Mde(e,o),format:"html",set:!1,selection:!0})).each(l=>{let u=xJ(e,l.content,s);zw(e,u,l),e.addVisual()})}},Nde=e=>{e.editorCommands.addCommands({mceCleanup:()=>{let t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,o,s)=>{kg(e,e.dom.createHTML("img",{src:s}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,o,s)=>{kg(e,e.dom.encode(s))},insertHTML:(t,o,s)=>{kg(e,s)},mceInsertContent:(t,o,s)=>{kg(e,s)},mceSetContent:(t,o,s)=>{e.setContent(s)},mceReplaceContent:(t,o,s)=>{e.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(K5(e))}})},Rde={"font-size":"size","font-family":"face"},Ode=Th("font"),Pde=(e,t,o)=>{let s=u=>Oh(u,e).orThunk(()=>Ode(u)?Ft(Rde,e).bind(d=>ui(u,d)):D.none()),l=u=>mt(T.fromDom(t),u);return Cw(T.fromDom(o),u=>s(u),l)},Fde=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),Lde=(e,t)=>D.from(At.DOM.getStyle(t,e,!0)),zB=e=>(t,o)=>D.from(o).map(T.fromDom).filter($r).bind(s=>Pde(e,t,s.dom).or(Lde(e,s.dom))).getOr(""),Bde=zB("font-size"),Vde=Mt(Fde,zB("font-family")),$de=e=>nr(e.getBody()).bind(t=>{let o=t.container();return D.from(Q(o)?o.parentNode:o)}),jde=e=>D.from(e.selection.getRng()).bind(t=>{let o=e.getBody();return t.startContainer===o&&t.startOffset===0?D.none():D.from(e.selection.getStart(!0))}),Ude=(e,t)=>jde(e).orThunk(pe($de,e)).map(T.fromDom).filter($r).bind(t),mD=(e,t)=>Ude(e,Yn(D.some,t)),WB=(e,t)=>{if(/^[0-9.]+$/.test(t)){let o=parseInt(t,10);if(o>=1&&o<=7){let s=uq(e),l=dq(e);return l.length>0?l[o-1]||t:s[o-1]||t}else return t}else return t},Hde=e=>{let t=e.split(/\s*,\s*/);return rt(t,o=>o.indexOf(" ")!==-1&&!(vn(o,'"')||vn(o,"'"))?`'${o}'`:o).join(",")},zde=(e,t)=>{let o=WB(e,t);e.formatter.toggle("fontname",{value:Hde(o)}),e.nodeChanged()},Wde=e=>mD(e,t=>Vde(e.getBody(),t.dom)).getOr(""),qde=(e,t)=>{e.formatter.toggle("fontsize",{value:WB(e,t)}),e.nodeChanged()},Gde=e=>mD(e,t=>Bde(e.getBody(),t.dom)).getOr(""),Kde=e=>mD(e,t=>{let o=T.fromDom(e.getBody()),s=Cw(t,u=>Oh(u,"line-height"),pe(mt,o)),l=()=>{let u=parseFloat(Os(t,"line-height")),d=parseFloat(Os(t,"font-size"));return String(u/d)};return s.getOrThunk(l)}).getOr(""),Yde=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},Zde=e=>{let t=(o,s)=>{e.formatter.toggle(o,s),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{t(o)},"ForeColor,HiliteColor":(o,s,l)=>{t(o,{value:l})},BackColor:(o,s,l)=>{t("hilitecolor",{value:l})},FontName:(o,s,l)=>{zde(e,l)},FontSize:(o,s,l)=>{qde(e,l)},LineHeight:(o,s,l)=>{Yde(e,l)},Lang:(o,s,l)=>{var u;t(o,{value:l.code,customValue:(u=l.customCode)!==null&&u!==void 0?u:null})},RemoveFormat:o=>{e.formatter.remove(o)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(o,s,l)=>{t(te(l)?l:"p")},mceToggleFormat:(o,s,l)=>{t(l)}})},Qde=e=>{let t=o=>e.formatter.match(o);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>t(o),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>Wde(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>Gde(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>Kde(e))},Xde=e=>{Zde(e),Qde(e)},Jde=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},efe=e=>{e.editorCommands.addCommands({Indent:()=>{bre(e)},Outdent:()=>{ZP(e)}}),e.editorCommands.addCommands({Outdent:()=>qP(e)},"state")},tfe=e=>{let t=(o,s,l)=>{let u=te(l)?{href:l}:l,d=e.dom.getParent(e.selection.getNode(),"a");Fe(u)&&te(u.href)&&(u.href=u.href.replace(/ /g,"%20"),(!d||!u.href)&&e.formatter.remove("link"),u.href&&e.formatter.apply("link",u,d))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){let o=e.dom.getParent(e.selection.getStart(),"a");o&&e.dom.remove(o,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},nfe=(e,t,o,s)=>{let l=e.dom,u=p=>l.isBlock(p)&&p.parentElement===o,d=u(t)?t:l.getParent(s,u,o);return D.from(d).map(T.fromDom)},qB=(e,t)=>{let o=e.dom,s=e.selection.getRng(),l=t?e.selection.getStart():e.selection.getEnd(),u=t?s.startContainer:s.endContainer,d=Yf(o,u);if(!d||!d.isContentEditable)return;let p=t?xr:pi,m=tr(e);nfe(e,l,d,u).each(v=>{let b=uL(e,u,v.dom,d,!1,m);p(v,T.fromDom(b)),e.selection.setCursorLocation(b,0),e.dispatch("NewBlock",{newBlock:b}),Kf(e,"insertParagraph")})},rfe=e=>qB(e,!0),ofe=e=>qB(e,!1),sfe=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{rfe(e)},InsertNewBlockAfter:()=>{ofe(e)}})},ife=e=>{e.editorCommands.addCommands({insertParagraph:()=>{gg(hL,e)},mceInsertNewLine:(t,o,s)=>{wL(e,s)},InsertLineBreak:(t,o,s)=>{gg(vL,e)}})},afe=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,o,s)=>{let l=0;e.dom.getParent(e.selection.getNode(),u=>ge(u)&&l++===s?(e.selection.select(u),!1):!0,e.getBody())},mceSelectNode:(t,o,s)=>{e.selection.select(s)},selectAll:()=>{let t=e.dom.getParent(e.selection.getStart(),To);if(t){let o=e.dom.createRng();o.selectNodeContents(t),e.selection.setRng(o)}}})},lfe=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,o,s)=>{let l=s??e.selection.getNode();if(l!==e.getBody()){let u=e.selection.getBookmark();e.dom.remove(l,!0),e.selection.moveToBookmark(u)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,o,s)=>{C7(e,s===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},cfe=e=>{Ide(e),Ade(e),Jde(e),afe(e),Nde(e),tfe(e),efe(e),sfe(e),ife(e),Xde(e),lfe(e)},ufe=["toggleview"],GB=e=>ft(ufe,e.toLowerCase());class KB{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,o=!1,s,l){let u=this.editor,d=t.toLowerCase(),p=l?.skip_focus;if(u.removed||(d!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(d)&&!p?u.focus():e7(u)),u.dispatch("BeforeExecCommand",{command:t,ui:o,value:s}).isDefaultPrevented()))return!1;let v=this.commands.exec[d];return Oe(v)?(v(d,o,s),u.dispatch("ExecCommand",{command:t,ui:o,value:s}),!0):!1}queryCommandState(t){if(!GB(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;let o=t.toLowerCase(),s=this.commands.state[o];return Oe(s)?s(o):!1}queryCommandValue(t){if(!GB(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";let o=t.toLowerCase(),s=this.commands.value[o];return Oe(s)?s(o):""}addCommands(t,o="exec"){let s=this.commands;kt(t,(l,u)=>{z(u.toLowerCase().split(","),d=>{s[o][d]=l})})}addCommand(t,o,s){let l=t.toLowerCase();this.commands.exec[l]=(u,d,p)=>o.call(s??this.editor,d,p)}queryCommandSupported(t){let o=t.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(t,o,s){this.commands.state[t.toLowerCase()]=()=>o.call(s??this.editor)}addQueryValueHandler(t,o,s){this.commands.value[t.toLowerCase()]=()=>o.call(s??this.editor)}}let Sl="data-mce-contenteditable",dfe=(e,t,o)=>{r0(e,t)&&!o?Ud(e,t):o&&_c(e,t)},gD=(e,t,o)=>{try{e.getDoc().execCommand(t,!1,String(o))}catch{}},Tg=(e,t)=>{e.dom.contentEditable=t?"true":"false"},ffe=e=>{z(Jn(e,'*[contenteditable="true"]'),t=>{On(t,Sl,"true"),Tg(t,!1)})},pfe=e=>{z(Jn(e,`*[${Sl}="true"]`),t=>{Pn(t,Sl),Tg(t,!0)})},hfe=e=>{D.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},mfe=e=>{e.selection.setRng(e.selection.getRng())},gfe=(e,t)=>{let o=T.fromDom(e.getBody());dfe(o,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),hfe(e),e.readonly=!0,Tg(o,!1),ffe(o)):(e.readonly=!1,e.hasEditableRoot()&&Tg(o,!0),pfe(o),gD(e,"StyleWithCSS",!1),gD(e,"enableInlineTableEditing",!1),gD(e,"enableObjectResizing",!1),IN(e)&&e.focus(),mfe(e),e.nodeChanged())},Il=e=>e.readonly,YB=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Il(e)&&z(t,o=>{o.attr(Sl,o.attr("contenteditable")),o.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Sl,t=>{Il(e)&&z(t,o=>{o.attr("contenteditable",o.attr(Sl))})}),e.serializer.addTempAttr(Sl)},vfe=e=>{e.serializer?YB(e):e.on("PreInit",()=>{YB(e)})},yfe=e=>e.type==="click",bfe=["copy"],Cfe=e=>ft(bfe,e.type),wfe=(e,t)=>Ic(t,"a",s=>mt(s,T.fromDom(e.getBody()))).bind(s=>ui(s,"href")),Efe=(e,t)=>{if(yfe(t)&&!ce.metaKeyPressed(t)){let o=T.fromDom(t.target);wfe(e,o).each(s=>{if(t.preventDefault(),/^#/.test(s)){let l=e.dom.select(`${s},[name="${oA(s,"#")}"]`);l.length&&e.selection.scrollIntoView(l[0],!0)}else window.open(s,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Cfe(t)&&e.dispatch(t.type,t)},Dfe=e=>{e.on("ShowCaret",t=>{Il(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{Il(e)&&t.preventDefault()})},_fe=ee.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class vD{static isNative(t){return!!_fe[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||wt}fire(t,o){return this.dispatch(t,o)}dispatch(t,o){let s=t.toLowerCase(),l=P0(s,o??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);let u=this.bindings[s];if(u)for(let d=0,p=u.length;d<p;d++){let m=u[d];if(!m.removed){if(m.once&&this.off(s,m.func),l.isImmediatePropagationStopped())return l;if(m.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l}on(t,o,s,l){if(o===!1&&(o=wt),o){let u={func:o,removed:!1};l&&ee.extend(u,l);let d=t.toLowerCase().split(" "),p=d.length;for(;p--;){let m=d[p],v=this.bindings[m];v||(v=[],this.toggleEvent(m,!0)),s?v=[u,...v]:v=[...v,u],this.bindings[m]=v}}return this}off(t,o){if(t){let s=t.toLowerCase().split(" "),l=s.length;for(;l--;){let u=s[l],d=this.bindings[u];if(!u)return kt(this.bindings,(p,m)=>{this.toggleEvent(m,!1),delete this.bindings[m]}),this;if(d){if(!o)d.length=0;else{let p=ea(d,m=>m.func===o);d=p.fail,this.bindings[u]=d,z(p.pass,m=>{m.removed=!0})}d.length||(this.toggleEvent(t,!1),delete this.bindings[u])}}}else kt(this.bindings,(s,l)=>{this.toggleEvent(l,!1)}),this.bindings={};return this}once(t,o,s){return this.on(t,o,s,{once:!0})}has(t){t=t.toLowerCase();let o=this.bindings[t];return!(!o||o.length===0)}}let np=e=>(e._eventDispatcher||(e._eventDispatcher=new vD({scope:e,toggleEvent:(t,o)=>{vD.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,o)}})),e._eventDispatcher),yD={fire(e,t,o){return this.dispatch(e,t,o)},dispatch(e,t,o){let s=this;if(s.removed&&e!=="remove"&&e!=="detach")return P0(e.toLowerCase(),t??{},s);let l=np(s).dispatch(e,t);if(o!==!1&&s.parent){let u=s.parent();for(;u&&!l.isPropagationStopped();)u.dispatch(e,l,!1),u=u.parent?u.parent():void 0}return l},on(e,t,o){return np(this).on(e,t,o)},off(e,t){return np(this).off(e,t)},once(e,t){return np(this).once(e,t)},hasEventListeners(e){return np(this).has(e)}},Mg=At.DOM,Al,Ng=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;let o=qT(e);return o?(e.eventRoot||(e.eventRoot=Mg.select(o)[0]),e.eventRoot):e.getBody()},xfe=e=>!e.hidden&&!Il(e),ZB=(e,t,o)=>{xfe(e)?e.dispatch(t,o):Il(e)&&Efe(e,o)},QB=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;let o=Ng(e,t);if(qT(e)){if(Al||(Al={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Al&&(kt(Al,(l,u)=>{e.dom.unbind(Ng(e,u))}),Al=null)})),Al[t])return;let s=l=>{let u=l.target,d=e.editorManager.get(),p=d.length;for(;p--;){let m=d[p].getBody();(m===u||Mg.isChildOf(u,m))&&ZB(d[p],t,l)}};Al[t]=s,Mg.bind(o,t,s)}else{let s=l=>{ZB(e,t,l)};Mg.bind(o,t,s),e.delegates[t]=s}},XB=Me(W({},yD),{bindPendingEventDelegates(){let e=this;ee.each(e._pendingNativeEvents,t=>{QB(e,t)})},toggleNativeEvent(e,t){let o=this;e==="focus"||e==="blur"||o.removed||(t?o.initialized?QB(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&o.delegates&&(o.dom.unbind(Ng(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents(){let e=this,t=e.getBody(),o=e.dom;e.delegates&&(kt(e.delegates,(s,l)=>{e.dom.unbind(Ng(e,l),l,s)}),delete e.delegates),!e.inline&&t&&o&&(t.onload=null,o.unbind(e.getWin()),o.unbind(e.getDoc())),o&&(o.unbind(t),o.unbind(e.getContainer()))}}),Sfe=e=>te(e)?{value:e.split(/[ ,]/),valid:!0}:on(e,te)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},Ife=e=>{let t=(()=>{switch(e){case"array":return Ie;case"boolean":return et;case"function":return Oe;case"number":return Zt;case"object":return Fe;case"string":return te;case"string[]":return Sfe;case"object[]":return o=>on(o,Fe);case"regexp":return o=>_e(o,RegExp);default:return Ut}})();return o=>bD(o,t,`The value must be a ${e}.`)},Afe=e=>te(e.processor),JB=(e,t)=>{let o=Bd(t.message)?"":`. ${t.message}`;return e+o},eV=e=>e.valid,bD=(e,t,o="")=>{let s=t(e);return et(s)?s?{value:e,valid:!0}:{valid:!1,message:o}:s},kfe=(e,t,o)=>{if(!Ke(t)){let s=bD(t,o);if(eV(s))return s.value;console.error(JB(`Invalid default value passed for the "${e}" option`,s))}},Tfe=(e,t,o=t)=>{let s={},l={},u=(x,I,S)=>{let A=bD(I,S);return eV(A)?(l[x]=A.value,!0):(console.warn(JB(`Invalid value passed for the ${x} option`,A)),!1)},d=(x,I)=>{let S=Afe(I)?Ife(I.processor):I.processor,A=kfe(x,I.default,S);s[x]=Me(W({},I),{default:A,processor:S}),Ft(l,x).orThunk(()=>Ft(t,x)).each(R=>u(x,R,S))},p=x=>Pe(s,x);return{register:d,isRegistered:p,get:x=>Ft(l,x).orThunk(()=>Ft(s,x).map(I=>I.default)).getOrUndefined(),set:(x,I)=>{if(p(x)){let S=s[x];return S.immutable?(console.error(`"${x}" is an immutable option and cannot be updated`),!1):u(x,I,S.processor)}else return console.warn(`"${x}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:x=>{let I=p(x);return I&&delete l[x],I},isSet:x=>Pe(l,x),debug:()=>{try{console.log(JSON.parse(JSON.stringify(o,(x,I)=>et(I)||Zt(I)||te(I)||ke(I)||Ie(I)||Le(I)?I:Object.prototype.toString.call(I))))}catch(x){console.error(x)}}}},Mfe=["design","readonly"],tV=(e,t,o,s)=>{let l=o[t.get()],u=o[s];try{u.activate()}catch(d){console.error(`problem while activating editor mode ${s}:`,d);return}l.deactivate(),l.editorReadOnly!==u.editorReadOnly&&gfe(e,u.editorReadOnly),t.set(s),F9(e,s)},Nfe=(e,t,o,s)=>{if(s!==o.get()){if(!Pe(t,s))throw new Error(`Editor mode '${s}' is invalid`);e.initialized?tV(e,o,t,s):e.on("init",()=>tV(e,o,t,s))}},Rfe=(e,t,o)=>{if(ft(Mfe,t))throw new Error(`Cannot override default mode ${t}`);return Me(W({},e),{[t]:Me(W({},o),{deactivate:()=>{try{o.deactivate()}catch(s){console.error(`problem while deactivating editor mode ${t}:`,s)}}})})},Ofe=e=>{let t=In("design"),o=In({design:{activate:Ne,deactivate:Ne,editorReadOnly:!1},readonly:{activate:Ne,deactivate:Ne,editorReadOnly:!0}});return vfe(e),Dfe(e),{isReadOnly:()=>Il(e),set:s=>Nfe(e,o.get(),t,s),get:()=>t.get(),register:(s,l)=>{o.set(Rfe(o.get(),s,l))}}},CD=ee.each,wD=ee.explode,Pfe={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},nV=ee.makeMap("alt,ctrl,shift,meta,access"),Ffe=e=>e in nV,Lfe=e=>{let t={},o=ct.os.isMacOS()||ct.os.isiOS();CD(wD(e.toLowerCase(),"+"),u=>{Ffe(u)?t[u]=!0:/^[0-9]{2,}$/.test(u)?t.keyCode=parseInt(u,10):(t.charCode=u.charCodeAt(0),t.keyCode=Pfe[u]||u.toUpperCase().charCodeAt(0))});let s=[t.keyCode],l;for(l in nV)t[l]?s.push(l):t[l]=!1;return t.id=s.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class rV{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;let o=this;t.on("keyup keypress keydown",s=>{(o.hasModifier(s)||o.isFunctionKey(s))&&!s.isDefaultPrevented()&&(CD(o.shortcuts,l=>{o.matchShortcut(s,l)&&(o.pendingPatterns=l.subpatterns.slice(0),s.type==="keydown"&&o.executeShortcutAction(l))}),o.matchShortcut(s,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&s.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(t,o,s,l){let u=this,d=u.normalizeCommandFunc(s);return CD(wD(ee.trim(t)),p=>{let m=u.createShortcut(p,o,d,l);u.shortcuts[m.id]=m}),!0}remove(t){let o=this.createShortcut(t);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1}normalizeCommandFunc(t){let o=this,s=t;return typeof s=="string"?()=>{o.editor.execCommand(s,!1,null)}:ee.isArray(s)?()=>{o.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(t,o,s,l){let u=ee.map(wD(t,">"),Lfe);return u[u.length-1]=ee.extend(u[u.length-1],{func:s,scope:l||this.editor}),ee.extend(u[0],{desc:this.editor.translate(o),subpatterns:u.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,o){return!o||o.ctrl!==t.ctrlKey||o.meta!==t.metaKey||o.alt!==t.altKey||o.shift!==t.shiftKey?!1:t.keyCode===o.keyCode||t.charCode&&t.charCode===o.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}let Bfe=()=>{let e={},t={},o={},s={},l={},u={},d={},p={},m=(b,C)=>(E,x)=>{b[E.toLowerCase()]=Me(W({},x),{type:C})},v=(b,C)=>s[b.toLowerCase()]=C;return{addButton:m(e,"button"),addGroupToolbarButton:m(e,"grouptoolbarbutton"),addToggleButton:m(e,"togglebutton"),addMenuButton:m(e,"menubutton"),addSplitButton:m(e,"splitbutton"),addMenuItem:m(t,"menuitem"),addNestedMenuItem:m(t,"nestedmenuitem"),addToggleMenuItem:m(t,"togglemenuitem"),addAutocompleter:m(o,"autocompleter"),addContextMenu:m(l,"contextmenu"),addContextToolbar:m(u,"contexttoolbar"),addContextForm:m(u,"contextform"),addSidebar:m(d,"sidebar"),addView:m(p,"views"),addIcon:v,getAll:()=>({buttons:e,menuItems:t,icons:s,popups:o,contextMenus:l,contextToolbars:u,sidebars:d,views:p})}},Vfe=()=>{let e=Bfe();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},kl=At.DOM,oV=ee.extend,$fe=ee.each;class Rg{constructor(t,o,s){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=s,this.documentBaseUrl=s.documentBaseURL,oV(this,XB);let l=this;this.id=t,this.hidden=!1;let u=Dde(s.defaultOptions,o);this.options=Tfe(l,u,o),K6(l);let d=this.options.get;d("deprecation_warnings")&&fee(o,u);let p=d("suffix");p&&(s.suffix=p),this.suffix=s.suffix;let m=d("base_url");m&&s._setBaseUrl(m),this.baseUri=s.baseURI;let v=rC(l);v&&(vi.ScriptLoader._setReferrerPolicy(v),At.DOM.styleSheetLoader._setReferrerPolicy(v));let b=KT(l);G(b)&&At.DOM.styleSheetLoader._setContentCssCors(b),dr.languageLoad=d("language_load"),dr.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new Ro(LT(l),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=sC(l),this.hasVisual=L5(l),this.shortcuts=new rV(this),this.editorCommands=new KB(this),cfe(this);let C=d("cache_suffix");C&&(ct.cacheSuffix=C.replace(/^[\?\&]+/,"")),this.ui={registry:Vfe(),styleSheetLoader:void 0,show:Ne,hide:Ne,setEnabled:Ne,isEnabled:Ut},this.mode=Ofe(l),s.dispatch("SetupEditor",{editor:this});let E=V5(l);Oe(E)&&E.call(l,l)}render(){lde(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return Zc(this)}translate(t){return rs.translate(t)}getParam(t,o,s){let l=this.options;return l.isRegistered(t)||(G(s)?l.register(t,{processor:s,default:o}):l.register(t,{processor:Ut,default:o})),!l.isSet(t)&&!Ke(o)?o:l.get(t)}hasPlugin(t,o){return ft(om(this),t)?o?tu.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,o,s){this.editorCommands.addCommand(t,o,s)}addQueryStateHandler(t,o,s){this.editorCommands.addQueryStateHandler(t,o,s)}addQueryValueHandler(t,o,s){this.editorCommands.addQueryValueHandler(t,o,s)}addShortcut(t,o,s,l){this.shortcuts.add(t,o,s,l)}execCommand(t,o,s,l){return this.editorCommands.execCommand(t,o,s,l)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){let t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(kl.show(t.getContainer()),kl.hide(t.id)),t.load(),t.dispatch("show"))}hide(){let t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(kl.hide(t.getContainer()),kl.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,o){this.dispatch("ProgressState",{state:t,time:o})}load(t={}){let o=this,s=o.getElement();if(o.removed)return"";if(s){let l=Me(W({},t),{load:!0}),u=g0(s)?s.value:s.innerHTML,d=o.setContent(u,l);return l.no_events||o.dispatch("LoadContent",Me(W({},l),{element:s})),d}else return""}save(t={}){let o=this,s=o.getElement();if(!s||!o.initialized||o.removed)return"";let l=Me(W({},t),{save:!0,element:s}),u=o.getContent(l),d=Me(W({},l),{content:u});if(d.no_events||o.dispatch("SaveContent",d),d.format==="raw"&&o.dispatch("RawSaveContent",d),u=d.content,g0(s))s.value=u;else{(t.is_removing||!o.inline)&&(s.innerHTML=u);let p=kl.getParent(o.id,"form");p&&$fe(p.elements,m=>m.name===o.id?(m.value=u,!1):!0)}return d.element=l.element=s=null,d.set_dirty!==!1&&o.setDirty(!1),u}setContent(t,o){return Jw(this,t,o)}getContent(t){return JJ(this,t)}insertContent(t,o){o&&(t=oV({content:t},o)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?Jw(this,this.startContent,{format:"raw"}):Jw(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){let o=!this.isNotDirty;this.isNotDirty=!t,t&&t!==o&&this.dispatch("dirty")}getContainer(){let t=this;return t.container||(t.container=t.editorContainer||kl.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=kl.get(this.id)),this.targetElm}getWin(){let t=this;if(!t.contentWindow){let o=t.iframeElement;o&&(t.contentWindow=o.contentWindow)}return t.contentWindow}getDoc(){let t=this;if(!t.contentDocument){let o=t.getWin();o&&(t.contentDocument=o.document)}return t.contentDocument}getBody(){var t,o;let s=this.getDoc();return(o=(t=this.bodyElement)!==null&&t!==void 0?t:s?.body)!==null&&o!==void 0?o:null}convertURL(t,o,s){let l=this,u=l.options.get,d=j5(l);if(Oe(d))return d.call(l,t,s,!0,o);if(!u("convert_urls")||s==="link"||Fe(s)&&s.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;let p=new Ro(t);return p.protocol!=="http"&&p.protocol!=="https"&&p.protocol!==""?t:u("relative_urls")?l.documentBaseURI.toRelative(t):(t=l.documentBaseURI.toAbsolute(t,u("remove_script_host")),t)}addVisual(t){_de(this,t)}setEditableRoot(t){cde(this,t)}hasEditableRoot(){return ude(this)}remove(){gee(this)}destroy(t){vee(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}let lu=At.DOM,Og=ee.each,sV=!1,Pg,Dr=[],Fg=e=>{let t=e.type;Og(ba.get(),o=>{switch(t){case"scroll":o.dispatch("ScrollWindow",e);break;case"resize":o.dispatch("ResizeWindow",e);break}})},iV=e=>{if(e!==sV){let t=At.DOM;e?(t.bind(window,"resize",Fg),t.bind(window,"scroll",Fg)):(t.unbind(window,"resize",Fg),t.unbind(window,"scroll",Fg)),sV=e}},aV=e=>{let t=Dr;return Dr=Te(Dr,o=>e!==o),ba.activeEditor===e&&(ba.activeEditor=Dr.length>0?Dr[0]:null),ba.focusedEditor===e&&(ba.focusedEditor=null),t.length!==Dr.length},jfe=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(aV(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},Ufe=document.compatMode!=="CSS1Compat",ba=Me(W({},yD),{baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"2.1",releaseDate:"2024-07-03",i18n:rs,activeEditor:null,focusedEditor:null,setup(){let e=this,t="",o="",s=Ro.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));let l=window.tinymce||window.tinyMCEPreInit;if(l)t=l.base||l.baseURL,o=l.suffix;else{let u=document.getElementsByTagName("script");for(let d=0;d<u.length;d++){let p=u[d].src||"";if(p==="")continue;let m=p.substring(p.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(p)){m.indexOf(".min")!==-1&&(o=".min"),t=p.substring(0,p.lastIndexOf("/"));break}}if(!t&&document.currentScript){let d=document.currentScript.src;d.indexOf(".min")!==-1&&(o=".min"),t=d.substring(0,d.lastIndexOf("/"))}}e.baseURL=new Ro(s).toAbsolute(t),e.documentBaseURL=s,e.baseURI=new Ro(e.baseURL),e.suffix=o,d7(e)},overrideDefaults(e){let t=e.base_url;t&&this._setBaseUrl(t);let o=e.suffix;o&&(this.suffix=o),this.defaultOptions=e;let s=e.plugin_base_urls;s!==void 0&&kt(s,(l,u)=>{dr.PluginManager.urls[u]=l})},init(e){let t=this,o,s=ee.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=(b,C)=>b.inline&&C.tagName.toLowerCase()in s,u=b=>{let C=b.id;return C||(C=Ft(b,"name").filter(E=>!lu.get(E)).getOrThunk(lu.uniqueId),b.setAttribute("id",C)),C},d=b=>{let C=e[b];if(C)return C.apply(t,[])},p=b=>ct.browser.isIE()||ct.browser.isEdge()?(qm("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):Ufe?(qm("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):te(b.selector)?lu.select(b.selector):G(b.target)?[b.target]:[],m=b=>{o=b},v=()=>{let b=0,C=[],E,x=(I,S,A)=>{let M=new Rg(I,S,t);C.push(M),M.on("init",()=>{++b===E.length&&m(C)}),M.targetElm=M.targetElm||A,M.render()};lu.unbind(window,"ready",v),d("onpageload"),E=ZI(p(e)),ee.each(E,I=>{jfe(t.get(I.id))}),E=ee.grep(E,I=>!t.get(I.id)),E.length===0?m([]):Og(E,I=>{l(e,I)?qm("Could not initialize inline editor on invalid inline target element",I):x(u(I),e,I)})};return lu.bind(window,"ready",v),new Promise(b=>{o?b(o):m=C=>{b(C)}})},get(e){return arguments.length===0?Dr.slice(0):te(e)?sn(Dr,t=>t.id===e).getOr(null):Zt(e)&&Dr[e]?Dr[e]:null},add(e){let t=this,o=t.get(e.id);return o===e||(o===null&&Dr.push(e),iV(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),Pg||(Pg=s=>{let l=t.dispatch("BeforeUnload");if(l.returnValue)return s.preventDefault(),s.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",Pg))),e},createEditor(e,t){return this.add(new Rg(e,t,this))},remove(e){let t=this,o;if(!e){for(let s=Dr.length-1;s>=0;s--)t.remove(Dr[s]);return}if(te(e)){Og(lu.select(e),s=>{o=t.get(s.id),o&&t.remove(o)});return}return o=e,ke(t.get(o.id))?null:(aV(o)&&t.dispatch("RemoveEditor",{editor:o}),Dr.length===0&&window.removeEventListener("beforeunload",Pg),o.remove(),iV(Dr.length>0),o)},execCommand(e,t,o){var s;let l=this,u=Fe(o)?(s=o.id)!==null&&s!==void 0?s:o.index:o;switch(e){case"mceAddEditor":{if(!l.get(u)){let d=o.options;new Rg(u,d,l).render()}return!0}case"mceRemoveEditor":{let d=l.get(u);return d&&d.remove(),!0}case"mceToggleEditor":{let d=l.get(u);return d?(d.isHidden()?d.show():d.hide(),!0):(l.execCommand("mceAddEditor",!1,o),!0)}}return l.activeEditor?l.activeEditor.execCommand(e,t,o):!1},triggerSave:()=>{Og(Dr,e=>{e.save()})},addI18n:(e,t)=>{rs.add(e,t)},translate:e=>rs.translate(e),setActive(e){let t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Ro(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Ro(this.baseURL)}});ba.setup();let Hfe=(()=>{let e=gi(),t=u=>({items:u,types:_r(u),getType:d=>Ft(u,d).getOrUndefined()}),o=u=>{e.set(u)},s=()=>e.get().getOrUndefined(),l=e.clear;return{FakeClipboardItem:t,write:o,read:s,clear:l}})(),lV=Math.min,cu=Math.max,Lg=Math.round,cV=(e,t,o)=>{let s=t.x,l=t.y,u=e.w,d=e.h,p=t.w,m=t.h,v=(o||"").split("");return v[0]==="b"&&(l+=m),v[1]==="r"&&(s+=p),v[0]==="c"&&(l+=Lg(m/2)),v[1]==="c"&&(s+=Lg(p/2)),v[3]==="b"&&(l-=d),v[4]==="r"&&(s-=u),v[3]==="c"&&(l-=Lg(d/2)),v[4]==="c"&&(s-=Lg(u/2)),uu(s,l,u,d)},zfe=(e,t,o,s)=>{for(let l=0;l<s.length;l++){let u=cV(e,t,s[l]);if(u.x>=o.x&&u.x+u.w<=o.w+o.x&&u.y>=o.y&&u.y+u.h<=o.h+o.y)return s[l]}return null},Wfe=(e,t,o)=>uu(e.x-t,e.y-o,e.w+t*2,e.h+o*2),qfe=(e,t)=>{let o=cu(e.x,t.x),s=cu(e.y,t.y),l=lV(e.x+e.w,t.x+t.w),u=lV(e.y+e.h,t.y+t.h);return l-o<0||u-s<0?null:uu(o,s,l-o,u-s)},Gfe=(e,t,o)=>{let s=e.x,l=e.y,u=e.x+e.w,d=e.y+e.h,p=t.x+t.w,m=t.y+t.h,v=cu(0,t.x-s),b=cu(0,t.y-l),C=cu(0,u-p),E=cu(0,d-m);return s+=v,l+=b,o&&(u+=v,d+=b,s-=C,l-=E),u-=C,d-=E,uu(s,l,u-s,d-l)},uu=(e,t,o,s)=>({x:e,y:t,w:o,h:s}),Kfe={inflate:Wfe,relativePosition:cV,findBestRelativePosition:zfe,intersect:qfe,clamp:Gfe,create:uu,fromClientRect:e=>uu(e.left,e.top,e.width,e.height)},Yfe=(e,t,o=1e3)=>{let s=!1,l=null,u=v=>(...b)=>{s||(s=!0,l!==null&&(clearTimeout(l),l=null),v.apply(null,b))},d=u(e),p=u(t);return{start:(...v)=>{!s&&l===null&&(l=setTimeout(()=>p.apply(null,v),o))},resolve:d,reject:p}},Zfe=(()=>{let e={},t={},o={};return{load:(m,v)=>{let b=`Script at URL "${v}" failed to load`,C=`Script at URL "${v}" did not call \`tinymce.Resource.add('${m}', data)\` within 1 second`;if(e[m]!==void 0)return e[m];{let E=new Promise((x,I)=>{let S=Yfe(x,I);t[m]=S.resolve,vi.ScriptLoader.loadScript(v).then(()=>S.start(C),()=>S.reject(b))});return e[m]=E,E}},add:(m,v)=>{t[m]!==void 0&&(t[m](v),delete t[m]),e[m]=Promise.resolve(v),o[m]=v},has:m=>m in o,get:m=>o[m],unload:m=>{delete e[m],delete o[m]}}})(),Qfe=()=>(()=>{let e={},t=[],o={getItem:s=>{let l=e[s];return l||null},setItem:(s,l)=>{t.push(s),e[s]=String(l)},key:s=>t[s],removeItem:s=>{t=t.filter(l=>l===s),delete e[s]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(o,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),o})(),rp;try{let e="__storage_test__";rp=window.localStorage,rp.setItem(e,e),rp.removeItem(e)}catch{rp=Qfe()}var Xfe=rp;let Jfe={geom:{Rect:Kfe},util:{Delay:oo,Tools:ee,VK:ce,URI:Ro,EventDispatcher:vD,Observable:yD,I18n:rs,LocalStorage:Xfe,ImageUploader:Yee},dom:{EventUtils:il,TreeWalker:xn,TextSeeker:cl,DOMUtils:At,ScriptLoader:vi,RangeUtils:yl,Serializer:_O,StyleSheetLoader:wk,ControlSelection:nN,BookmarkManager:_f,Selection:DO,Event:il.Event},html:{Styles:O0,Entities:sl,Node:fr,Schema:ia,DomParser:Jc,Writer:HN,Serializer:pa},Env:ct,AddOnManager:dr,Annotator:GM,Formatter:VO,UndoManager:jO,EditorCommands:KB,WindowManager:MO,NotificationManager:TO,EditorObservable:XB,Shortcuts:rV,Editor:Rg,FocusManager:xN,EditorManager:ba,DOM:At.DOM,ScriptLoader:vi.ScriptLoader,PluginManager:tu,ThemeManager:Dl,ModelManager:eu,IconManager:zm,Resource:Zfe,FakeClipboard:Hfe,trim:ee.trim,isArray:ee.isArray,is:ee.is,toArray:ee.toArray,makeMap:ee.makeMap,each:ee.each,map:ee.map,grep:ee.grep,inArray:ee.inArray,extend:ee.extend,walk:ee.walk,resolve:ee.resolve,explode:ee.explode,_addCacheSuffix:ee._addCacheSuffix},uV=ee.extend(ba,Jfe),epe=e=>{if(typeof mI=="object")try{mI.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(uV),epe(uV)})()});var wV=null;var ID=1,AD=Symbol("SIGNAL");function Bt(r){let n=wV;return wV=r,n}var EV={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ppe(r){if(!(MD(r)&&!r.dirty)&&!(!r.dirty&&r.lastCleanEpoch===ID)){if(!r.producerMustRecompute(r)&&!kD(r)){r.dirty=!1,r.lastCleanEpoch=ID;return}r.producerRecomputeValue(r),r.dirty=!1,r.lastCleanEpoch=ID}}function DV(r){return r&&(r.nextProducerIndex=0),Bt(r)}function _V(r,n){if(Bt(n),!(!r||r.producerNode===void 0||r.producerIndexOfThis===void 0||r.producerLastReadVersion===void 0)){if(MD(r))for(let i=r.nextProducerIndex;i<r.producerNode.length;i++)TD(r.producerNode[i],r.producerIndexOfThis[i]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function kD(r){Ug(r);for(let n=0;n<r.producerNode.length;n++){let i=r.producerNode[n],a=r.producerLastReadVersion[n];if(a!==i.version||(ppe(i),a!==i.version))return!0}return!1}function xV(r){if(Ug(r),MD(r))for(let n=0;n<r.producerNode.length;n++)TD(r.producerNode[n],r.producerIndexOfThis[n]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function TD(r,n){if(hpe(r),Ug(r),r.liveConsumerNode.length===1)for(let a=0;a<r.producerNode.length;a++)TD(r.producerNode[a],r.producerIndexOfThis[a]);let i=r.liveConsumerNode.length-1;if(r.liveConsumerNode[n]=r.liveConsumerNode[i],r.liveConsumerIndexOfThis[n]=r.liveConsumerIndexOfThis[i],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,n<r.liveConsumerNode.length){let a=r.liveConsumerIndexOfThis[n],c=r.liveConsumerNode[n];Ug(c),c.producerIndexOfThis[a]=n}}function MD(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Ug(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}function hpe(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}function mpe(){throw new Error}var gpe=mpe;function SV(r){gpe=r}function Qe(r){return typeof r=="function"}function pu(r){let i=r(a=>{Error.call(a),a.stack=new Error().stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var Hg=pu(r=>function(i){r(this),this.message=i?`${i.length} errors occurred during unsubscription:
${i.map((a,c)=>`${c+1}) ${a.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=i});function sp(r,n){if(r){let i=r.indexOf(n);0<=i&&r.splice(i,1)}}var Hn=class r{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(let f of i)f.remove(this);else i.remove(this);let{initialTeardown:a}=this;if(Qe(a))try{a()}catch(f){n=f instanceof Hg?f.errors:[f]}let{_finalizers:c}=this;if(c){this._finalizers=null;for(let f of c)try{IV(f)}catch(h){n=n??[],h instanceof Hg?n=[...n,...h.errors]:n.push(h)}}if(n)throw new Hg(n)}}add(n){var i;if(n&&n!==this)if(this.closed)IV(n);else{if(n instanceof r){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(n)}}_hasParent(n){let{_parentage:i}=this;return i===n||Array.isArray(i)&&i.includes(n)}_addParent(n){let{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(n),i):i?[i,n]:n}_removeParent(n){let{_parentage:i}=this;i===n?this._parentage=null:Array.isArray(i)&&sp(i,n)}remove(n){let{_finalizers:i}=this;i&&sp(i,n),n instanceof r&&n._removeParent(this)}};Hn.EMPTY=(()=>{let r=new Hn;return r.closed=!0,r})();var ND=Hn.EMPTY;function zg(r){return r instanceof Hn||r&&"closed"in r&&Qe(r.remove)&&Qe(r.add)&&Qe(r.unsubscribe)}function IV(r){Qe(r)?r():r.unsubscribe()}var us={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var hu={setTimeout(r,n,...i){let{delegate:a}=hu;return a?.setTimeout?a.setTimeout(r,n,...i):setTimeout(r,n,...i)},clearTimeout(r){let{delegate:n}=hu;return(n?.clearTimeout||clearTimeout)(r)},delegate:void 0};function Wg(r){hu.setTimeout(()=>{let{onUnhandledError:n}=us;if(n)n(r);else throw r})}function ip(){}var AV=RD("C",void 0,void 0);function kV(r){return RD("E",void 0,r)}function TV(r){return RD("N",r,void 0)}function RD(r,n,i){return{kind:r,value:n,error:i}}var Ml=null;function mu(r){if(us.useDeprecatedSynchronousErrorHandling){let n=!Ml;if(n&&(Ml={errorThrown:!1,error:null}),r(),n){let{errorThrown:i,error:a}=Ml;if(Ml=null,i)throw a}}else r()}function MV(r){us.useDeprecatedSynchronousErrorHandling&&Ml&&(Ml.errorThrown=!0,Ml.error=r)}var Nl=class extends Hn{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,zg(n)&&n.add(this)):this.destination=bpe}static create(n,i,a){return new xi(n,i,a)}next(n){this.isStopped?PD(TV(n),this):this._next(n)}error(n){this.isStopped?PD(kV(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?PD(AV,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vpe=Function.prototype.bind;function OD(r,n){return vpe.call(r,n)}var FD=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:i}=this;if(i.next)try{i.next(n)}catch(a){qg(a)}}error(n){let{partialObserver:i}=this;if(i.error)try{i.error(n)}catch(a){qg(a)}else qg(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(i){qg(i)}}},xi=class extends Nl{constructor(n,i,a){super();let c;if(Qe(n)||!n)c={next:n??void 0,error:i??void 0,complete:a??void 0};else{let f;this&&us.useDeprecatedNextContext?(f=Object.create(n),f.unsubscribe=()=>this.unsubscribe(),c={next:n.next&&OD(n.next,f),error:n.error&&OD(n.error,f),complete:n.complete&&OD(n.complete,f)}):c=n}this.destination=new FD(c)}};function qg(r){us.useDeprecatedSynchronousErrorHandling?MV(r):Wg(r)}function ype(r){throw r}function PD(r,n){let{onStoppedNotification:i}=us;i&&hu.setTimeout(()=>i(r,n))}var bpe={closed:!0,next:ip,error:ype,complete:ip};var gu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ho(r){return r}function LD(...r){return BD(r)}function BD(r){return r.length===0?ho:r.length===1?r[0]:function(i){return r.reduce((a,c)=>c(a),i)}}var Pt=(()=>{class r{constructor(i){i&&(this._subscribe=i)}lift(i){let a=new r;return a.source=this,a.operator=i,a}subscribe(i,a,c){let f=wpe(i)?i:new xi(i,a,c);return mu(()=>{let{operator:h,source:g}=this;f.add(h?h.call(f,g):g?this._subscribe(f):this._trySubscribe(f))}),f}_trySubscribe(i){try{return this._subscribe(i)}catch(a){i.error(a)}}forEach(i,a){return a=NV(a),new a((c,f)=>{let h=new xi({next:g=>{try{i(g)}catch(y){f(y),h.unsubscribe()}},error:f,complete:c});this.subscribe(h)})}_subscribe(i){var a;return(a=this.source)===null||a===void 0?void 0:a.subscribe(i)}[gu](){return this}pipe(...i){return BD(i)(this)}toPromise(i){return i=NV(i),new i((a,c)=>{let f;this.subscribe(h=>f=h,h=>c(h),()=>a(f))})}}return r.create=n=>new r(n),r})();function NV(r){var n;return(n=r??us.Promise)!==null&&n!==void 0?n:Promise}function Cpe(r){return r&&Qe(r.next)&&Qe(r.error)&&Qe(r.complete)}function wpe(r){return r&&r instanceof Nl||Cpe(r)&&zg(r)}function VD(r){return Qe(r?.lift)}function St(r){return n=>{if(VD(n))return n.lift(function(i){try{return r(i,this)}catch(a){this.error(a)}});throw new TypeError("Unable to lift unknown Observable type")}}function It(r,n,i,a,c){return new $D(r,n,i,a,c)}var $D=class extends Nl{constructor(n,i,a,c,f,h){super(n),this.onFinalize=f,this.shouldUnsubscribe=h,this._next=i?function(g){try{i(g)}catch(y){n.error(y)}}:super._next,this._error=c?function(g){try{c(g)}catch(y){n.error(y)}finally{this.unsubscribe()}}:super._error,this._complete=a?function(){try{a()}catch(g){n.error(g)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:i}=this;super.unsubscribe(),!i&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function vu(){return St((r,n)=>{let i=null;r._refCount++;let a=It(n,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount){i=null;return}let c=r._connection,f=i;i=null,c&&(!f||c===f)&&c.unsubscribe(),n.unsubscribe()});r.subscribe(a),a.closed||(i=r.connect())})}var yu=class extends Pt{constructor(n,i){super(),this.source=n,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,VD(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Hn;let i=this.getSubject();n.add(this.source.subscribe(It(i,void 0,()=>{this._teardown(),i.complete()},a=>{this._teardown(),i.error(a)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Hn.EMPTY)}return n}refCount(){return vu()(this)}};var RV=pu(r=>function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var kn=(()=>{class r extends Pt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){let a=new Gg(this,this);return a.operator=i,a}_throwIfClosed(){if(this.closed)throw new RV}next(i){mu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let a of this.currentObservers)a.next(i)}})}error(i){mu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;let{observers:a}=this;for(;a.length;)a.shift().error(i)}})}complete(){mu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){let{hasError:a,isStopped:c,observers:f}=this;return a||c?ND:(this.currentObservers=null,f.push(i),new Hn(()=>{this.currentObservers=null,sp(f,i)}))}_checkFinalizedStatuses(i){let{hasError:a,thrownError:c,isStopped:f}=this;a?i.error(c):f&&i.complete()}asObservable(){let i=new Pt;return i.source=this,i}}return r.create=(n,i)=>new Gg(n,i),r})(),Gg=class extends kn{constructor(n,i){super(),this.destination=n,this.source=i}next(n){var i,a;(a=(i=this.destination)===null||i===void 0?void 0:i.next)===null||a===void 0||a.call(i,n)}error(n){var i,a;(a=(i=this.destination)===null||i===void 0?void 0:i.error)===null||a===void 0||a.call(i,n)}complete(){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||i===void 0||i.call(n)}_subscribe(n){var i,a;return(a=(i=this.source)===null||i===void 0?void 0:i.subscribe(n))!==null&&a!==void 0?a:ND}};var zn=class extends kn{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let i=super._subscribe(n);return!i.closed&&n.next(this._value),i}getValue(){let{hasError:n,thrownError:i,_value:a}=this;if(n)throw i;return this._throwIfClosed(),a}next(n){super.next(this._value=n)}};var jD={now(){return(jD.delegate||Date).now()},delegate:void 0};var Kg=class extends kn{constructor(n=1/0,i=1/0,a=jD){super(),this._bufferSize=n,this._windowTime=i,this._timestampProvider=a,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,i)}next(n){let{isStopped:i,_buffer:a,_infiniteTimeWindow:c,_timestampProvider:f,_windowTime:h}=this;i||(a.push(n),!c&&a.push(f.now()+h)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let i=this._innerSubscribe(n),{_infiniteTimeWindow:a,_buffer:c}=this,f=c.slice();for(let h=0;h<f.length&&!n.closed;h+=a?1:2)n.next(f[h]);return this._checkFinalizedStatuses(n),i}_trimBuffer(){let{_bufferSize:n,_timestampProvider:i,_buffer:a,_infiniteTimeWindow:c}=this,f=(c?1:2)*n;if(n<1/0&&f<a.length&&a.splice(0,a.length-f),!c){let h=i.now(),g=0;for(let y=1;y<a.length&&a[y]<=h;y+=2)g=y;g&&a.splice(0,g+1)}}};var mo=new Pt(r=>r.complete());function OV(r){return r&&Qe(r.schedule)}function PV(r){return r[r.length-1]}function Yg(r){return Qe(PV(r))?r.pop():void 0}function wa(r){return OV(PV(r))?r.pop():void 0}function LV(r,n,i,a){function c(f){return f instanceof i?f:new i(function(h){h(f)})}return new(i||(i=Promise))(function(f,h){function g(_){try{w(a.next(_))}catch(k){h(k)}}function y(_){try{w(a.throw(_))}catch(k){h(k)}}function w(_){_.done?f(_.value):c(_.value).then(g,y)}w((a=a.apply(r,n||[])).next())})}function FV(r){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&r[n],a=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rl(r){return this instanceof Rl?(this.v=r,this):new Rl(r)}function BV(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(r,n||[]),c,f=[];return c={},g("next"),g("throw"),g("return",h),c[Symbol.asyncIterator]=function(){return this},c;function h($){return function(oe){return Promise.resolve(oe).then($,k)}}function g($,oe){a[$]&&(c[$]=function(ue){return new Promise(function(Ee,_e){f.push([$,ue,Ee,_e])>1||y($,ue)})},oe&&(c[$]=oe(c[$])))}function y($,oe){try{w(a[$](oe))}catch(ue){V(f[0][3],ue)}}function w($){$.value instanceof Rl?Promise.resolve($.value.v).then(_,k):V(f[0][2],$)}function _($){y("next",$)}function k($){y("throw",$)}function V($,oe){$(oe),f.shift(),f.length&&y(f[0][0],f[0][1])}}function VV(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],i;return n?n.call(r):(r=typeof FV=="function"?FV(r):r[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(f){i[f]=r[f]&&function(h){return new Promise(function(g,y){h=r[f](h),c(g,y,h.done,h.value)})}}function c(f,h,g,y){Promise.resolve(y).then(function(w){f({value:w,done:g})},h)}}var bu=r=>r&&typeof r.length=="number"&&typeof r!="function";function Zg(r){return Qe(r?.then)}function Qg(r){return Qe(r[gu])}function Xg(r){return Symbol.asyncIterator&&Qe(r?.[Symbol.asyncIterator])}function Jg(r){return new TypeError(`You provided ${r!==null&&typeof r=="object"?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Epe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ev=Epe();function tv(r){return Qe(r?.[ev])}function nv(r){return BV(this,arguments,function*(){let i=r.getReader();try{for(;;){let{value:a,done:c}=yield Rl(i.read());if(c)return yield Rl(void 0);yield yield Rl(a)}}finally{i.releaseLock()}})}function rv(r){return Qe(r?.getReader)}function ln(r){if(r instanceof Pt)return r;if(r!=null){if(Qg(r))return Dpe(r);if(bu(r))return _pe(r);if(Zg(r))return xpe(r);if(Xg(r))return $V(r);if(tv(r))return Spe(r);if(rv(r))return Ipe(r)}throw Jg(r)}function Dpe(r){return new Pt(n=>{let i=r[gu]();if(Qe(i.subscribe))return i.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function _pe(r){return new Pt(n=>{for(let i=0;i<r.length&&!n.closed;i++)n.next(r[i]);n.complete()})}function xpe(r){return new Pt(n=>{r.then(i=>{n.closed||(n.next(i),n.complete())},i=>n.error(i)).then(null,Wg)})}function Spe(r){return new Pt(n=>{for(let i of r)if(n.next(i),n.closed)return;n.complete()})}function $V(r){return new Pt(n=>{Ape(r,n).catch(i=>n.error(i))})}function Ipe(r){return $V(nv(r))}function Ape(r,n){var i,a,c,f;return LV(this,void 0,void 0,function*(){try{for(i=VV(r);a=yield i.next(),!a.done;){let h=a.value;if(n.next(h),n.closed)return}}catch(h){c={error:h}}finally{try{a&&!a.done&&(f=i.return)&&(yield f.call(i))}finally{if(c)throw c.error}}n.complete()})}function Wr(r,n,i,a=0,c=!1){let f=n.schedule(function(){i(),c?r.add(this.schedule(null,a)):this.unsubscribe()},a);if(r.add(f),!c)return f}function ov(r,n=0){return St((i,a)=>{i.subscribe(It(a,c=>Wr(a,r,()=>a.next(c),n),()=>Wr(a,r,()=>a.complete(),n),c=>Wr(a,r,()=>a.error(c),n)))})}function sv(r,n=0){return St((i,a)=>{a.add(r.schedule(()=>i.subscribe(a),n))})}function jV(r,n){return ln(r).pipe(sv(n),ov(n))}function UV(r,n){return ln(r).pipe(sv(n),ov(n))}function HV(r,n){return new Pt(i=>{let a=0;return n.schedule(function(){a===r.length?i.complete():(i.next(r[a++]),i.closed||this.schedule())})})}function zV(r,n){return new Pt(i=>{let a;return Wr(i,n,()=>{a=r[ev](),Wr(i,n,()=>{let c,f;try{({value:c,done:f}=a.next())}catch(h){i.error(h);return}f?i.complete():i.next(c)},0,!0)}),()=>Qe(a?.return)&&a.return()})}function iv(r,n){if(!r)throw new Error("Iterable cannot be null");return new Pt(i=>{Wr(i,n,()=>{let a=r[Symbol.asyncIterator]();Wr(i,n,()=>{a.next().then(c=>{c.done?i.complete():i.next(c.value)})},0,!0)})})}function WV(r,n){return iv(nv(r),n)}function qV(r,n){if(r!=null){if(Qg(r))return jV(r,n);if(bu(r))return HV(r,n);if(Zg(r))return UV(r,n);if(Xg(r))return iv(r,n);if(tv(r))return zV(r,n);if(rv(r))return WV(r,n)}throw Jg(r)}function gn(r,n){return n?qV(r,n):ln(r)}function it(...r){let n=wa(r);return gn(r,n)}function Cu(r,n){let i=Qe(r)?r:()=>r,a=c=>c.error(i());return new Pt(n?c=>n.schedule(a,0,c):a)}function UD(r){return!!r&&(r instanceof Pt||Qe(r.lift)&&Qe(r.subscribe))}var Si=pu(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});function Et(r,n){return St((i,a)=>{let c=0;i.subscribe(It(a,f=>{a.next(r.call(n,f,c++))}))})}var{isArray:kpe}=Array;function Tpe(r,n){return kpe(n)?r(...n):r(n)}function wu(r){return Et(n=>Tpe(r,n))}var{isArray:Mpe}=Array,{getPrototypeOf:Npe,prototype:Rpe,keys:Ope}=Object;function av(r){if(r.length===1){let n=r[0];if(Mpe(n))return{args:n,keys:null};if(Ppe(n)){let i=Ope(n);return{args:i.map(a=>n[a]),keys:i}}}return{args:r,keys:null}}function Ppe(r){return r&&typeof r=="object"&&Npe(r)===Rpe}function lv(r,n){return r.reduce((i,a,c)=>(i[a]=n[c],i),{})}function ap(...r){let n=wa(r),i=Yg(r),{args:a,keys:c}=av(r);if(a.length===0)return gn([],n);let f=new Pt(Fpe(a,n,c?h=>lv(c,h):ho));return i?f.pipe(wu(i)):f}function Fpe(r,n,i=ho){return a=>{GV(n,()=>{let{length:c}=r,f=new Array(c),h=c,g=c;for(let y=0;y<c;y++)GV(n,()=>{let w=gn(r[y],n),_=!1;w.subscribe(It(a,k=>{f[y]=k,_||(_=!0,g--),g||a.next(i(f.slice()))},()=>{--h||a.complete()}))},a)},a)}}function GV(r,n,i){r?Wr(i,r,n):n()}function KV(r,n,i,a,c,f,h,g){let y=[],w=0,_=0,k=!1,V=()=>{k&&!y.length&&!w&&n.complete()},$=ue=>w<a?oe(ue):y.push(ue),oe=ue=>{f&&n.next(ue),w++;let Ee=!1;ln(i(ue,_++)).subscribe(It(n,_e=>{c?.(_e),f?$(_e):n.next(_e)},()=>{Ee=!0},void 0,()=>{if(Ee)try{for(w--;y.length&&w<a;){let _e=y.shift();h?Wr(n,h,()=>oe(_e)):oe(_e)}V()}catch(_e){n.error(_e)}}))};return r.subscribe(It(n,$,()=>{k=!0,V()})),()=>{g?.()}}function wn(r,n,i=1/0){return Qe(n)?wn((a,c)=>Et((f,h)=>n(a,f,c,h))(ln(r(a,c))),i):(typeof n=="number"&&(i=n),St((a,c)=>KV(a,c,r,i)))}function Eu(r=1/0){return wn(ho,r)}function YV(){return Eu(1)}function Du(...r){return YV()(gn(r,wa(r)))}function cv(r){return new Pt(n=>{ln(r()).subscribe(n)})}function HD(...r){let n=Yg(r),{args:i,keys:a}=av(r),c=new Pt(f=>{let{length:h}=i;if(!h){f.complete();return}let g=new Array(h),y=h,w=h;for(let _=0;_<h;_++){let k=!1;ln(i[_]).subscribe(It(f,V=>{k||(k=!0,w--),g[_]=V},()=>y--,void 0,()=>{(!y||!k)&&(w||f.next(a?lv(a,g):g),f.complete())}))}});return n?c.pipe(wu(n)):c}var Lpe=["addListener","removeListener"],Bpe=["addEventListener","removeEventListener"],Vpe=["on","off"];function _u(r,n,i,a){if(Qe(i)&&(a=i,i=void 0),a)return _u(r,n,i).pipe(wu(a));let[c,f]=Upe(r)?Bpe.map(h=>g=>r[h](n,g,i)):$pe(r)?Lpe.map(ZV(r,n)):jpe(r)?Vpe.map(ZV(r,n)):[];if(!c&&bu(r))return wn(h=>_u(h,n,i))(ln(r));if(!c)throw new TypeError("Invalid event target");return new Pt(h=>{let g=(...y)=>h.next(1<y.length?y:y[0]);return c(g),()=>f(g)})}function ZV(r,n){return i=>a=>r[i](n,a)}function $pe(r){return Qe(r.addListener)&&Qe(r.removeListener)}function jpe(r){return Qe(r.on)&&Qe(r.off)}function Upe(r){return Qe(r.addEventListener)&&Qe(r.removeEventListener)}function Tr(r,n){return St((i,a)=>{let c=0;i.subscribe(It(a,f=>r.call(n,f,c++)&&a.next(f)))})}function Ea(r){return St((n,i)=>{let a=null,c=!1,f;a=n.subscribe(It(i,void 0,void 0,h=>{f=ln(r(h,Ea(r)(n))),a?(a.unsubscribe(),a=null,f.subscribe(i)):c=!0})),c&&(a.unsubscribe(),a=null,f.subscribe(i))})}function QV(r,n,i,a,c){return(f,h)=>{let g=i,y=n,w=0;f.subscribe(It(h,_=>{let k=w++;y=g?r(y,_,k):(g=!0,_),a&&h.next(y)},c&&(()=>{g&&h.next(y),h.complete()})))}}function Ol(r,n){return Qe(n)?wn(r,n,1):wn(r,1)}function Da(r){return St((n,i)=>{let a=!1;n.subscribe(It(i,c=>{a=!0,i.next(c)},()=>{a||i.next(r),i.complete()}))})}function Ii(r){return r<=0?()=>mo:St((n,i)=>{let a=0;n.subscribe(It(i,c=>{++a<=r&&(i.next(c),r<=a&&i.complete())}))})}function zD(r){return Et(()=>r)}function uv(r=Hpe){return St((n,i)=>{let a=!1;n.subscribe(It(i,c=>{a=!0,i.next(c)},()=>a?i.complete():i.error(r())))})}function Hpe(){return new Si}function lp(r){return St((n,i)=>{try{n.subscribe(i)}finally{i.add(r)}})}function go(r,n){let i=arguments.length>=2;return a=>a.pipe(r?Tr((c,f)=>r(c,f,a)):ho,Ii(1),i?Da(n):uv(()=>new Si))}function xu(r){return r<=0?()=>mo:St((n,i)=>{let a=[];n.subscribe(It(i,c=>{a.push(c),r<a.length&&a.shift()},()=>{for(let c of a)i.next(c);i.complete()},void 0,()=>{a=null}))})}function WD(r,n){let i=arguments.length>=2;return a=>a.pipe(r?Tr((c,f)=>r(c,f,a)):ho,xu(1),i?Da(n):uv(()=>new Si))}function qD(r,n){return St(QV(r,n,arguments.length>=2,!0))}function XV(r={}){let{connector:n=()=>new kn,resetOnError:i=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=r;return f=>{let h,g,y,w=0,_=!1,k=!1,V=()=>{g?.unsubscribe(),g=void 0},$=()=>{V(),h=y=void 0,_=k=!1},oe=()=>{let ue=h;$(),ue?.unsubscribe()};return St((ue,Ee)=>{w++,!k&&!_&&V();let _e=y=y??n();Ee.add(()=>{w--,w===0&&!k&&!_&&(g=GD(oe,c))}),_e.subscribe(Ee),!h&&w>0&&(h=new xi({next:te=>_e.next(te),error:te=>{k=!0,V(),g=GD($,i,te),_e.error(te)},complete:()=>{_=!0,V(),g=GD($,a),_e.complete()}}),ln(ue).subscribe(h))})(f)}}function GD(r,n,...i){if(n===!0){r();return}if(n===!1)return;let a=new xi({next:()=>{a.unsubscribe(),r()}});return ln(n(...i)).subscribe(a)}function KD(r,n,i){let a,c=!1;return r&&typeof r=="object"?{bufferSize:a=1/0,windowTime:n=1/0,refCount:c=!1,scheduler:i}=r:a=r??1/0,XV({connector:()=>new Kg(a,n,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}function YD(...r){let n=wa(r);return St((i,a)=>{(n?Du(r,i,n):Du(r,i)).subscribe(a)})}function Mr(r,n){return St((i,a)=>{let c=null,f=0,h=!1,g=()=>h&&!c&&a.complete();i.subscribe(It(a,y=>{c?.unsubscribe();let w=0,_=f++;ln(r(y,_)).subscribe(c=It(a,k=>a.next(n?n(y,k,_,w++):k),()=>{c=null,g()}))},()=>{h=!0,g()}))})}function Pl(r){return St((n,i)=>{ln(r).subscribe(It(i,()=>i.complete(),ip)),!i.closed&&n.subscribe(i)})}function hr(r,n,i){let a=Qe(r)||n||i?{next:r,error:n,complete:i}:r;return a?St((c,f)=>{var h;(h=a.subscribe)===null||h===void 0||h.call(a);let g=!0;c.subscribe(It(f,y=>{var w;(w=a.next)===null||w===void 0||w.call(a,y),f.next(y)},()=>{var y;g=!1,(y=a.complete)===null||y===void 0||y.call(a),f.complete()},y=>{var w;g=!1,(w=a.error)===null||w===void 0||w.call(a,y),f.error(y)},()=>{var y,w;g&&((y=a.unsubscribe)===null||y===void 0||y.call(a)),(w=a.finalize)===null||w===void 0||w.call(a)}))}):ho}var j2="https://g.co/ng/security#xss",He=class extends Error{constructor(n,i){super(hx(n,i)),this.code=n}};function hx(r,n){return`${`NG0${Math.abs(r)}`}${n?": "+n:""}`}function Cp(r){return{toString:r}.toString()}var dv="__parameters__";function zpe(r){return function(...i){if(r){let a=r(...i);for(let c in a)this[c]=a[c]}}}function U2(r,n,i){return Cp(()=>{let a=zpe(n);function c(...f){if(this instanceof c)return a.apply(this,f),this;let h=new c(...f);return g.annotation=h,g;function g(y,w,_){let k=y.hasOwnProperty(dv)?y[dv]:Object.defineProperty(y,dv,{value:[]})[dv];for(;k.length<=_;)k.push(null);return(k[_]=k[_]||[]).push(h),y}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}var vo=globalThis;function Jt(r){for(let n in r)if(r[n]===Jt)return n;throw Error("Could not find renamed property on target object.")}function Wpe(r,n){for(let i in n)n.hasOwnProperty(i)&&!r.hasOwnProperty(i)&&(r[i]=n[i])}function Rr(r){if(typeof r=="string")return r;if(Array.isArray(r))return"["+r.map(Rr).join(", ")+"]";if(r==null)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;let n=r.toString();if(n==null)return""+n;let i=n.indexOf(`
`);return i===-1?n:n.substring(0,i)}function JV(r,n){return r==null||r===""?n===null?"":n:n==null||n===""?r:r+" "+n}var qpe=Jt({__forward_ref__:Jt});function Mi(r){return r.__forward_ref__=Mi,r.toString=function(){return Rr(this())},r}function Nr(r){return H2(r)?r():r}function H2(r){return typeof r=="function"&&r.hasOwnProperty(qpe)&&r.__forward_ref__===Mi}function Ge(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ni(r){return{providers:r.providers||[],imports:r.imports||[]}}function Hv(r){return e2(r,W2)||e2(r,q2)}function z2(r){return Hv(r)!==null}function e2(r,n){return r.hasOwnProperty(n)?r[n]:null}function Gpe(r){let n=r&&(r[W2]||r[q2]);return n||null}function t2(r){return r&&(r.hasOwnProperty(n2)||r.hasOwnProperty(Kpe))?r[n2]:null}var W2=Jt({\u0275prov:Jt}),n2=Jt({\u0275inj:Jt}),q2=Jt({ngInjectableDef:Jt}),Kpe=Jt({ngInjectorDef:Jt}),tt=class{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof i=="number"?this.__NG_ELEMENT_ID__=i:i!==void 0&&(this.\u0275prov=Ge({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function G2(r){return r&&!!r.\u0275providers}var Ype=Jt({\u0275cmp:Jt}),Zpe=Jt({\u0275dir:Jt}),Qpe=Jt({\u0275pipe:Jt}),Xpe=Jt({\u0275mod:Jt}),Dv=Jt({\u0275fac:Jt}),cp=Jt({__NG_ELEMENT_ID__:Jt}),r2=Jt({__NG_ENV_ID__:Jt});function wp(r){return typeof r=="string"?r:r==null?"":String(r)}function Jpe(r){return typeof r=="function"?r.name||r.toString():typeof r=="object"&&r!=null&&typeof r.type=="function"?r.type.name||r.type.toString():wp(r)}function ehe(r,n){let i=n?`. Dependency path: ${n.join(" > ")} > ${r}`:"";throw new He(-200,r)}function mx(r,n){throw new He(-201,!1)}var Dt=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Dt||{}),f_;function K2(){return f_}function qr(r){let n=f_;return f_=r,n}function Y2(r,n,i){let a=Hv(r);if(a&&a.providedIn=="root")return a.value===void 0?a.value=a.factory():a.value;if(i&Dt.Optional)return null;if(n!==void 0)return n;mx(r,"Injector")}var the={},up=the,p_="__NG_DI_FLAG__",_v="ngTempTokenPath",nhe="ngTokenPath",rhe=/\n/gm,ohe="\u0275",o2="__source",Tu;function she(){return Tu}function _a(r){let n=Tu;return Tu=r,n}function ihe(r,n=Dt.Default){if(Tu===void 0)throw new He(-203,!1);return Tu===null?Y2(r,void 0,n):Tu.get(r,n&Dt.Optional?null:void 0,n)}function at(r,n=Dt.Default){return(K2()||ihe)(Nr(r),n)}function xe(r,n=Dt.Default){return at(r,zv(n))}function zv(r){return typeof r>"u"||typeof r=="number"?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function h_(r){let n=[];for(let i=0;i<r.length;i++){let a=Nr(r[i]);if(Array.isArray(a)){if(a.length===0)throw new He(900,!1);let c,f=Dt.Default;for(let h=0;h<a.length;h++){let g=a[h],y=ahe(g);typeof y=="number"?y===-1?c=g.token:f|=y:c=g}n.push(at(c,f))}else n.push(at(a))}return n}function Z2(r,n){return r[p_]=n,r.prototype[p_]=n,r}function ahe(r){return r[p_]}function lhe(r,n,i,a){let c=r[_v];throw n[o2]&&c.unshift(n[o2]),r.message=che(`
`+r.message,c,i,a),r[nhe]=c,r[_v]=null,r}function che(r,n,i,a=null){r=r&&r.charAt(0)===`
`&&r.charAt(1)==ohe?r.slice(2):r;let c=Rr(n);if(Array.isArray(n))c=n.map(Rr).join(" -> ");else if(typeof n=="object"){let f=[];for(let h in n)if(n.hasOwnProperty(h)){let g=n[h];f.push(h+":"+(typeof g=="string"?JSON.stringify(g):Rr(g)))}c=`{${f.join(", ")}}`}return`${i}${a?"("+a+")":""}[${c}]: ${r.replace(rhe,`
  `)}`}var Wv=Z2(U2("Optional"),8);var gx=Z2(U2("SkipSelf"),4);function Vl(r,n){let i=r.hasOwnProperty(Dv);return i?r[Dv]:null}function uhe(r,n,i){if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++){let c=r[a],f=n[a];if(i&&(c=i(c),f=i(f)),f!==c)return!1}return!0}function dhe(r){return r.flat(Number.POSITIVE_INFINITY)}function vx(r,n){r.forEach(i=>Array.isArray(i)?vx(i,n):n(i))}function Q2(r,n,i){n>=r.length?r.push(i):r.splice(n,0,i)}function xv(r,n){return n>=r.length-1?r.pop():r.splice(n,1)[0]}function fhe(r,n,i,a){let c=r.length;if(c==n)r.push(i,a);else if(c===1)r.push(a,r[0]),r[0]=i;else{for(c--,r.push(r[c-1],r[c]);c>n;){let f=c-2;r[c]=r[f],c--}r[n]=i,r[n+1]=a}}function phe(r,n,i){let a=Ep(r,n);return a>=0?r[a|1]=i:(a=~a,fhe(r,a,n,i)),a}function ZD(r,n){let i=Ep(r,n);if(i>=0)return r[i|1]}function Ep(r,n){return hhe(r,n,1)}function hhe(r,n,i){let a=0,c=r.length>>i;for(;c!==a;){let f=a+(c-a>>1),h=r[f<<i];if(n===h)return f<<i;h>n?c=f:a=f+1}return~(c<<i)}var Nu={},$o=[],Ru=new tt(""),X2=new tt("",-1),J2=new tt(""),Sv=class{get(n,i=up){if(i===up){let a=new Error(`NullInjectorError: No provider for ${Rr(n)}!`);throw a.name="NullInjectorError",a}return i}},e$=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(e$||{}),Ys=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(Ys||{}),bo=function(r){return r[r.None=0]="None",r[r.SignalBased=1]="SignalBased",r[r.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",r}(bo||{});function mhe(r,n,i){let a=r.length;for(;;){let c=r.indexOf(n,i);if(c===-1)return c;if(c===0||r.charCodeAt(c-1)<=32){let f=n.length;if(c+f===a||r.charCodeAt(c+f)<=32)return c}i=c+1}}function m_(r,n,i){let a=0;for(;a<i.length;){let c=i[a];if(typeof c=="number"){if(c!==0)break;a++;let f=i[a++],h=i[a++],g=i[a++];r.setAttribute(n,h,g,f)}else{let f=c,h=i[++a];vhe(f)?r.setProperty(n,f,h):r.setAttribute(n,f,h),a++}}return a}function ghe(r){return r===3||r===4||r===6}function vhe(r){return r.charCodeAt(0)===64}function dp(r,n){if(!(n===null||n.length===0))if(r===null||r.length===0)r=n.slice();else{let i=-1;for(let a=0;a<n.length;a++){let c=n[a];typeof c=="number"?i=c:i===0||(i===-1||i===2?s2(r,i,c,null,n[++a]):s2(r,i,c,null,null))}}return r}function s2(r,n,i,a,c){let f=0,h=r.length;if(n===-1)h=-1;else for(;f<r.length;){let g=r[f++];if(typeof g=="number"){if(g===n){h=-1;break}else if(g>n){h=f-1;break}}}for(;f<r.length;){let g=r[f];if(typeof g=="number")break;if(g===i){if(a===null){c!==null&&(r[f+1]=c);return}else if(a===r[f+1]){r[f+2]=c;return}}f++,a!==null&&f++,c!==null&&f++}h!==-1&&(r.splice(h,0,n),f=h+1),r.splice(f++,0,i),a!==null&&r.splice(f++,0,a),c!==null&&r.splice(f++,0,c)}var t$="ng-template";function yhe(r,n,i,a){let c=0;if(a){for(;c<n.length&&typeof n[c]=="string";c+=2)if(n[c]==="class"&&mhe(n[c+1].toLowerCase(),i,0)!==-1)return!0}else if(yx(r))return!1;if(c=n.indexOf(1,c),c>-1){let f;for(;++c<n.length&&typeof(f=n[c])=="string";)if(f.toLowerCase()===i)return!0}return!1}function yx(r){return r.type===4&&r.value!==t$}function bhe(r,n,i){let a=r.type===4&&!i?t$:r.value;return n===a}function Che(r,n,i){let a=4,c=r.attrs,f=c!==null?Dhe(c):0,h=!1;for(let g=0;g<n.length;g++){let y=n[g];if(typeof y=="number"){if(!h&&!ds(a)&&!ds(y))return!1;if(h&&ds(y))continue;h=!1,a=y|a&1;continue}if(!h)if(a&4){if(a=2|a&1,y!==""&&!bhe(r,y,i)||y===""&&n.length===1){if(ds(a))return!1;h=!0}}else if(a&8){if(c===null||!yhe(r,c,y,i)){if(ds(a))return!1;h=!0}}else{let w=n[++g],_=whe(y,c,yx(r),i);if(_===-1){if(ds(a))return!1;h=!0;continue}if(w!==""){let k;if(_>f?k="":k=c[_+1].toLowerCase(),a&2&&w!==k){if(ds(a))return!1;h=!0}}}}return ds(a)||h}function ds(r){return(r&1)===0}function whe(r,n,i,a){if(n===null)return-1;let c=0;if(a||!i){let f=!1;for(;c<n.length;){let h=n[c];if(h===r)return c;if(h===3||h===6)f=!0;else if(h===1||h===2){let g=n[++c];for(;typeof g=="string";)g=n[++c];continue}else{if(h===4)break;if(h===0){c+=4;continue}}c+=f?1:2}return-1}else return _he(n,r)}function Ehe(r,n,i=!1){for(let a=0;a<n.length;a++)if(Che(r,n[a],i))return!0;return!1}function Dhe(r){for(let n=0;n<r.length;n++){let i=r[n];if(ghe(i))return n}return r.length}function _he(r,n){let i=r.indexOf(4);if(i>-1)for(i++;i<r.length;){let a=r[i];if(typeof a=="number")return-1;if(a===n)return i;i++}return-1}function i2(r,n){return r?":not("+n.trim()+")":n}function xhe(r){let n=r[0],i=1,a=2,c="",f=!1;for(;i<r.length;){let h=r[i];if(typeof h=="string")if(a&2){let g=r[++i];c+="["+h+(g.length>0?'="'+g+'"':"")+"]"}else a&8?c+="."+h:a&4&&(c+=" "+h);else c!==""&&!ds(h)&&(n+=i2(f,c),c=""),a=h,f=f||!ds(a);i++}return c!==""&&(n+=i2(f,c)),n}function She(r){return r.map(xhe).join(",")}function Ihe(r){let n=[],i=[],a=1,c=2;for(;a<r.length;){let f=r[a];if(typeof f=="string")c===2?f!==""&&n.push(f,r[++a]):c===8&&i.push(f);else{if(!ds(c))break;c=f}a++}return{attrs:n,classes:i}}function _t(r){return Cp(()=>{let n=a$(r),i=Me(W({},n),{decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===e$.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||Ys.Emulated,styles:r.styles||$o,_:null,schemas:r.schemas||null,tView:null,id:""});l$(i);let a=r.dependencies;return i.directiveDefs=l2(a,!1),i.pipeDefs=l2(a,!0),i.id=The(i),i})}function Ahe(r){return Sa(r)||r$(r)}function khe(r){return r!==null}function Ri(r){return Cp(()=>({type:r.type,bootstrap:r.bootstrap||$o,declarations:r.declarations||$o,imports:r.imports||$o,exports:r.exports||$o,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function a2(r,n){if(r==null)return Nu;let i={};for(let a in r)if(r.hasOwnProperty(a)){let c=r[a],f,h,g=bo.None;Array.isArray(c)?(g=c[0],f=c[1],h=c[2]??f):(f=c,h=c),n?(i[f]=g!==bo.None?[a,g]:a,n[f]=h):i[f]=a}return i}function ir(r){return Cp(()=>{let n=a$(r);return l$(n),n})}function n$(r){return{type:r.type,name:r.name,factory:null,pure:r.pure!==!1,standalone:r.standalone===!0,onDestroy:r.type.prototype.ngOnDestroy||null}}function Sa(r){return r[Ype]||null}function r$(r){return r[Zpe]||null}function o$(r){return r[Qpe]||null}function s$(r){let n=Sa(r)||r$(r)||o$(r);return n!==null?n.standalone:!1}function i$(r,n){let i=r[Xpe]||null;if(!i&&n===!0)throw new Error(`Type ${Rr(r)} does not have '\u0275mod' property.`);return i}function a$(r){let n={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:r.inputs||Nu,exportAs:r.exportAs||null,standalone:r.standalone===!0,signals:r.signals===!0,selectors:r.selectors||$o,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:a2(r.inputs,n),outputs:a2(r.outputs),debugInfo:null}}function l$(r){r.features?.forEach(n=>n(r))}function l2(r,n){if(!r)return null;let i=n?o$:Ahe;return()=>(typeof r=="function"?r():r).map(a=>i(a)).filter(khe)}function The(r){let n=0,i=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(let c of i)n=Math.imul(31,n)+c.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function qv(r){return{\u0275providers:r}}function Mhe(...r){return{\u0275providers:c$(!0,r),\u0275fromNgModule:!0}}function c$(r,...n){let i=[],a=new Set,c,f=h=>{i.push(h)};return vx(n,h=>{let g=h;g_(g,f,[],a)&&(c||=[],c.push(g))}),c!==void 0&&u$(c,f),i}function u$(r,n){for(let i=0;i<r.length;i++){let{ngModule:a,providers:c}=r[i];bx(c,f=>{n(f,a)})}}function g_(r,n,i,a){if(r=Nr(r),!r)return!1;let c=null,f=t2(r),h=!f&&Sa(r);if(!f&&!h){let y=r.ngModule;if(f=t2(y),f)c=y;else return!1}else{if(h&&!h.standalone)return!1;c=r}let g=a.has(c);if(h){if(g)return!1;if(a.add(c),h.dependencies){let y=typeof h.dependencies=="function"?h.dependencies():h.dependencies;for(let w of y)g_(w,n,i,a)}}else if(f){if(f.imports!=null&&!g){a.add(c);let w;try{vx(f.imports,_=>{g_(_,n,i,a)&&(w||=[],w.push(_))})}finally{}w!==void 0&&u$(w,n)}if(!g){let w=Vl(c)||(()=>new c);n({provide:c,useFactory:w,deps:$o},c),n({provide:J2,useValue:c,multi:!0},c),n({provide:Ru,useValue:()=>at(c),multi:!0},c)}let y=f.providers;if(y!=null&&!g){let w=r;bx(y,_=>{n(_,w)})}}else return!1;return c!==r&&r.providers!==void 0}function bx(r,n){for(let i of r)G2(i)&&(i=i.\u0275providers),Array.isArray(i)?bx(i,n):n(i)}var Nhe=Jt({provide:String,useValue:Jt});function d$(r){return r!==null&&typeof r=="object"&&Nhe in r}function Rhe(r){return!!(r&&r.useExisting)}function Ohe(r){return!!(r&&r.useFactory)}function Ou(r){return typeof r=="function"}function Phe(r){return!!r.useClass}var Gv=new tt(""),vv={},Fhe={},QD;function Cx(){return QD===void 0&&(QD=new Sv),QD}var Gr=class{},fp=class extends Gr{get destroyed(){return this._destroyed}constructor(n,i,a,c){super(),this.parent=i,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,y_(n,h=>this.processProvider(h)),this.records.set(X2,Su(void 0,this)),c.has("environment")&&this.records.set(Gr,Su(void 0,this));let f=this.records.get(Gv);f!=null&&typeof f.value=="string"&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(J2,$o,Dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=Bt(null);try{for(let a of this._ngOnDestroyHooks)a.ngOnDestroy();let i=this._onDestroyHooks;this._onDestroyHooks=[];for(let a of i)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Bt(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let i=_a(this),a=qr(void 0),c;try{return n()}finally{_a(i),qr(a)}}get(n,i=up,a=Dt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(r2))return n[r2](this);a=zv(a);let c,f=_a(this),h=qr(void 0);try{if(!(a&Dt.SkipSelf)){let y=this.records.get(n);if(y===void 0){let w=jhe(n)&&Hv(n);w&&this.injectableDefInScope(w)?y=Su(v_(n),vv):y=null,this.records.set(n,y)}if(y!=null)return this.hydrate(n,y)}let g=a&Dt.Self?Cx():this.parent;return i=a&Dt.Optional&&i===up?null:i,g.get(n,i)}catch(g){if(g.name==="NullInjectorError"){if((g[_v]=g[_v]||[]).unshift(Rr(n)),f)throw g;return lhe(g,n,"R3InjectorError",this.source)}else throw g}finally{qr(h),_a(f)}}resolveInjectorInitializers(){let n=Bt(null),i=_a(this),a=qr(void 0),c;try{let f=this.get(Ru,$o,Dt.Self);for(let h of f)h()}finally{_a(i),qr(a),Bt(n)}}toString(){let n=[],i=this.records;for(let a of i.keys())n.push(Rr(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new He(205,!1)}processProvider(n){n=Nr(n);let i=Ou(n)?n:Nr(n&&n.provide),a=Bhe(n);if(!Ou(n)&&n.multi===!0){let c=this.records.get(i);c||(c=Su(void 0,vv,!0),c.factory=()=>h_(c.multi),this.records.set(i,c)),i=n,c.multi.push(n)}this.records.set(i,a)}hydrate(n,i){let a=Bt(null);try{return i.value===vv&&(i.value=Fhe,i.value=i.factory()),typeof i.value=="object"&&i.value&&$he(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{Bt(a)}}injectableDefInScope(n){if(!n.providedIn)return!1;let i=Nr(n.providedIn);return typeof i=="string"?i==="any"||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){let i=this._onDestroyHooks.indexOf(n);i!==-1&&this._onDestroyHooks.splice(i,1)}};function v_(r){let n=Hv(r),i=n!==null?n.factory:Vl(r);if(i!==null)return i;if(r instanceof tt)throw new He(204,!1);if(r instanceof Function)return Lhe(r);throw new He(204,!1)}function Lhe(r){if(r.length>0)throw new He(204,!1);let i=Gpe(r);return i!==null?()=>i.factory(r):()=>new r}function Bhe(r){if(d$(r))return Su(void 0,r.useValue);{let n=f$(r);return Su(n,vv)}}function f$(r,n,i){let a;if(Ou(r)){let c=Nr(r);return Vl(c)||v_(c)}else if(d$(r))a=()=>Nr(r.useValue);else if(Ohe(r))a=()=>r.useFactory(...h_(r.deps||[]));else if(Rhe(r))a=()=>at(Nr(r.useExisting));else{let c=Nr(r&&(r.useClass||r.provide));if(Vhe(r))a=()=>new c(...h_(r.deps));else return Vl(c)||v_(c)}return a}function Su(r,n,i=!1){return{factory:r,value:n,multi:i?[]:void 0}}function Vhe(r){return!!r.deps}function $he(r){return r!==null&&typeof r=="object"&&typeof r.ngOnDestroy=="function"}function jhe(r){return typeof r=="function"||typeof r=="object"&&r instanceof tt}function y_(r,n){for(let i of r)Array.isArray(i)?y_(i,n):i&&G2(i)?y_(i.\u0275providers,n):n(i)}function Oi(r,n){r instanceof fp&&r.assertNotDestroyed();let i,a=_a(r),c=qr(void 0);try{return n()}finally{_a(a),qr(c)}}function p$(){return K2()!==void 0||she()!=null}function Uhe(r){if(!p$())throw new He(-203,!1)}function Hhe(r){return typeof r=="function"}var Pi=0,yt=1,ot=2,mr=3,fs=4,ms=5,Iv=6,pp=7,ps=8,Pu=9,hs=10,Bn=11,hp=12,c2=13,Vu=14,Zs=15,Dp=16,Iu=17,Ai=18,Kv=19,h$=20,xa=21,XD=22,$l=23,Qs=25,m$=1;var jl=7,Av=8,Fu=9,yo=10,wx=function(r){return r[r.None=0]="None",r[r.HasTransplantedViews=2]="HasTransplantedViews",r}(wx||{});function Ll(r){return Array.isArray(r)&&typeof r[m$]=="object"}function Fi(r){return Array.isArray(r)&&r[m$]===!0}function g$(r){return(r.flags&4)!==0}function Yv(r){return r.componentOffset>-1}function Ex(r){return(r.flags&1)===1}function Ia(r){return!!r.template}function zhe(r){return(r[ot]&512)!==0}var b_=class{constructor(n,i,a){this.previousValue=n,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}};function v$(r,n,i,a){n!==null?n.applyValueToInputSignal(n,a):r[i]=a}function gs(){return y$}function y$(r){return r.type.prototype.ngOnChanges&&(r.setInput=qhe),Whe}gs.ngInherit=!0;function Whe(){let r=C$(this),n=r?.current;if(n){let i=r.previous;if(i===Nu)r.previous=n;else for(let a in n)i[a]=n[a];r.current=null,this.ngOnChanges(n)}}function qhe(r,n,i,a,c){let f=this.declaredInputs[a],h=C$(r)||Ghe(r,{previous:Nu,current:null}),g=h.current||(h.current={}),y=h.previous,w=y[f];g[f]=new b_(w&&w.currentValue,i,y===Nu),v$(r,n,c,i)}var b$="__ngSimpleChanges__";function C$(r){return r[b$]||null}function Ghe(r,n){return r[b$]=n}var u2=null;var Gs=function(r,n,i){u2?.(r,n,i)},w$="svg",Khe="math",Yhe=!1;function Zhe(){return Yhe}function Xs(r){for(;Array.isArray(r);)r=r[Pi];return r}function E$(r,n){return Xs(n[r])}function jo(r,n){return Xs(n[r.index])}function D$(r,n){return r.data[n]}function Qhe(r,n){return r[n]}function ka(r,n){let i=n[r];return Ll(i)?i:i[Pi]}function Xhe(r){return(r[ot]&4)===4}function Dx(r){return(r[ot]&128)===128}function Jhe(r){return Fi(r[mr])}function kv(r,n){return n==null?null:r[n]}function _$(r){r[Iu]=0}function eme(r){r[ot]&1024||(r[ot]|=1024,Dx(r)&&mp(r))}function tme(r,n){for(;r>0;)n=n[Vu],r--;return n}function _x(r){return!!(r[ot]&9216||r[$l]?.dirty)}function C_(r){r[hs].changeDetectionScheduler?.notify(1),_x(r)?mp(r):r[ot]&64&&(Zhe()?(r[ot]|=1024,mp(r)):r[hs].changeDetectionScheduler?.notify())}function mp(r){r[hs].changeDetectionScheduler?.notify();let n=gp(r);for(;n!==null&&!(n[ot]&8192||(n[ot]|=8192,!Dx(n)));)n=gp(n)}function x$(r,n){if((r[ot]&256)===256)throw new He(911,!1);r[xa]===null&&(r[xa]=[]),r[xa].push(n)}function nme(r,n){if(r[xa]===null)return;let i=r[xa].indexOf(n);i!==-1&&r[xa].splice(i,1)}function gp(r){let n=r[mr];return Fi(n)?n[mr]:n}var bt={lFrame:N$(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function rme(){return bt.lFrame.elementDepthCount}function ome(){bt.lFrame.elementDepthCount++}function sme(){bt.lFrame.elementDepthCount--}function S$(){return bt.bindingsEnabled}function ime(){return bt.skipHydrationRootTNode!==null}function ame(r){return bt.skipHydrationRootTNode===r}function lme(){bt.skipHydrationRootTNode=null}function Vt(){return bt.lFrame.lView}function gr(){return bt.lFrame.tView}function Or(r){return bt.lFrame.contextLView=r,r[ps]}function Pr(r){return bt.lFrame.contextLView=null,r}function Co(){let r=I$();for(;r!==null&&r.type===64;)r=r.parent;return r}function I$(){return bt.lFrame.currentTNode}function cme(){let r=bt.lFrame,n=r.currentTNode;return r.isParent?n:n.parent}function _p(r,n){let i=bt.lFrame;i.currentTNode=r,i.isParent=n}function A$(){return bt.lFrame.isParent}function ume(){bt.lFrame.isParent=!1}function dme(){let r=bt.lFrame,n=r.bindingRootIndex;return n===-1&&(n=r.bindingRootIndex=r.tView.bindingStartIndex),n}function fme(r){return bt.lFrame.bindingIndex=r}function Zv(){return bt.lFrame.bindingIndex++}function pme(r){let n=bt.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+r,i}function hme(){return bt.lFrame.inI18n}function mme(r,n){let i=bt.lFrame;i.bindingIndex=i.bindingRootIndex=r,w_(n)}function gme(){return bt.lFrame.currentDirectiveIndex}function w_(r){bt.lFrame.currentDirectiveIndex=r}function vme(r){let n=bt.lFrame.currentDirectiveIndex;return n===-1?null:r[n]}function k$(){return bt.lFrame.currentQueryIndex}function xx(r){bt.lFrame.currentQueryIndex=r}function yme(r){let n=r[yt];return n.type===2?n.declTNode:n.type===1?r[ms]:null}function T$(r,n,i){if(i&Dt.SkipSelf){let c=n,f=r;for(;c=c.parent,c===null&&!(i&Dt.Host);)if(c=yme(f),c===null||(f=f[Vu],c.type&10))break;if(c===null)return!1;n=c,r=f}let a=bt.lFrame=M$();return a.currentTNode=n,a.lView=r,!0}function Sx(r){let n=M$(),i=r[yt];bt.lFrame=n,n.currentTNode=i.firstChild,n.lView=r,n.tView=i,n.contextLView=r,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function M$(){let r=bt.lFrame,n=r===null?null:r.child;return n===null?N$(r):n}function N$(r){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return r!==null&&(r.child=n),n}function R$(){let r=bt.lFrame;return bt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}var O$=R$;function Ix(){let r=R$();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function bme(r){return(bt.lFrame.contextLView=tme(r,bt.lFrame.contextLView))[ps]}function $u(){return bt.lFrame.selectedIndex}function Ul(r){bt.lFrame.selectedIndex=r}function Qv(){let r=bt.lFrame;return D$(r.tView,r.selectedIndex)}function ei(){bt.lFrame.currentNamespace=w$}function Ta(){Cme()}function Cme(){bt.lFrame.currentNamespace=null}function wme(){return bt.lFrame.currentNamespace}var P$=!0;function Ax(){return P$}function kx(r){P$=r}function Eme(r,n,i){let{ngOnChanges:a,ngOnInit:c,ngDoCheck:f}=n.type.prototype;if(a){let h=y$(n);(i.preOrderHooks??=[]).push(r,h),(i.preOrderCheckHooks??=[]).push(r,h)}c&&(i.preOrderHooks??=[]).push(0-r,c),f&&((i.preOrderHooks??=[]).push(r,f),(i.preOrderCheckHooks??=[]).push(r,f))}function Tx(r,n){for(let i=n.directiveStart,a=n.directiveEnd;i<a;i++){let f=r.data[i].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:g,ngAfterViewInit:y,ngAfterViewChecked:w,ngOnDestroy:_}=f;h&&(r.contentHooks??=[]).push(-i,h),g&&((r.contentHooks??=[]).push(i,g),(r.contentCheckHooks??=[]).push(i,g)),y&&(r.viewHooks??=[]).push(-i,y),w&&((r.viewHooks??=[]).push(i,w),(r.viewCheckHooks??=[]).push(i,w)),_!=null&&(r.destroyHooks??=[]).push(i,_)}}function yv(r,n,i){F$(r,n,3,i)}function bv(r,n,i,a){(r[ot]&3)===i&&F$(r,n,i,a)}function JD(r,n){let i=r[ot];(i&3)===n&&(i&=16383,i+=1,r[ot]=i)}function F$(r,n,i,a){let c=a!==void 0?r[Iu]&65535:0,f=a??-1,h=n.length-1,g=0;for(let y=c;y<h;y++)if(typeof n[y+1]=="number"){if(g=n[y],a!=null&&g>=a)break}else n[y]<0&&(r[Iu]+=65536),(g<f||f==-1)&&(Dme(r,i,n,y),r[Iu]=(r[Iu]&4294901760)+y+2),y++}function d2(r,n){Gs(4,r,n);let i=Bt(null);try{n.call(r)}finally{Bt(i),Gs(5,r,n)}}function Dme(r,n,i,a){let c=i[a]<0,f=i[a+1],h=c?-i[a]:i[a],g=r[h];c?r[ot]>>14<r[Iu]>>16&&(r[ot]&3)===n&&(r[ot]+=16384,d2(g,f)):d2(g,f)}var Mu=-1,Hl=class{constructor(n,i,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}};function _me(r){return r instanceof Hl}function xme(r){return(r.flags&8)!==0}function Sme(r){return(r.flags&16)!==0}function L$(r){return r!==Mu}function Tv(r){return r&32767}function Ime(r){return r>>16}function Mv(r,n){let i=Ime(r),a=n;for(;i>0;)a=a[Vu],i--;return a}var E_=!0;function Nv(r){let n=E_;return E_=r,n}var Ame=256,B$=Ame-1,V$=5,kme=0,Ks={};function Tme(r,n,i){let a;typeof i=="string"?a=i.charCodeAt(0)||0:i.hasOwnProperty(cp)&&(a=i[cp]),a==null&&(a=i[cp]=kme++);let c=a&B$,f=1<<c;n.data[r+(c>>V$)]|=f}function Rv(r,n){let i=$$(r,n);if(i!==-1)return i;let a=n[yt];a.firstCreatePass&&(r.injectorIndex=n.length,e_(a.data,r),e_(n,null),e_(a.blueprint,null));let c=Mx(r,n),f=r.injectorIndex;if(L$(c)){let h=Tv(c),g=Mv(c,n),y=g[yt].data;for(let w=0;w<8;w++)n[f+w]=g[h+w]|y[h+w]}return n[f+8]=c,f}function e_(r,n){r.push(0,0,0,0,0,0,0,0,n)}function $$(r,n){return r.injectorIndex===-1||r.parent&&r.parent.injectorIndex===r.injectorIndex||n[r.injectorIndex+8]===null?-1:r.injectorIndex}function Mx(r,n){if(r.parent&&r.parent.injectorIndex!==-1)return r.parent.injectorIndex;let i=0,a=null,c=n;for(;c!==null;){if(a=W$(c),a===null)return Mu;if(i++,c=c[Vu],a.injectorIndex!==-1)return a.injectorIndex|i<<16}return Mu}function D_(r,n,i){Tme(r,n,i)}function j$(r,n,i){if(i&Dt.Optional||r!==void 0)return r;mx(n,"NodeInjector")}function U$(r,n,i,a){if(i&Dt.Optional&&a===void 0&&(a=null),!(i&(Dt.Self|Dt.Host))){let c=r[Pu],f=qr(void 0);try{return c?c.get(n,a,i&Dt.Optional):Y2(n,a,i&Dt.Optional)}finally{qr(f)}}return j$(a,n,i)}function H$(r,n,i,a=Dt.Default,c){if(r!==null){if(n[ot]&2048&&!(a&Dt.Self)){let h=Ome(r,n,i,a,Ks);if(h!==Ks)return h}let f=z$(r,n,i,a,Ks);if(f!==Ks)return f}return U$(n,i,a,c)}function z$(r,n,i,a,c){let f=Nme(i);if(typeof f=="function"){if(!T$(n,r,a))return a&Dt.Host?j$(c,i,a):U$(n,i,a,c);try{let h;if(h=f(a),h==null&&!(a&Dt.Optional))mx(i);else return h}finally{O$()}}else if(typeof f=="number"){let h=null,g=$$(r,n),y=Mu,w=a&Dt.Host?n[Zs][ms]:null;for((g===-1||a&Dt.SkipSelf)&&(y=g===-1?Mx(r,n):n[g+8],y===Mu||!p2(a,!1)?g=-1:(h=n[yt],g=Tv(y),n=Mv(y,n)));g!==-1;){let _=n[yt];if(f2(f,g,_.data)){let k=Mme(g,n,i,h,a,w);if(k!==Ks)return k}y=n[g+8],y!==Mu&&p2(a,n[yt].data[g+8]===w)&&f2(f,g,n)?(h=_,g=Tv(y),n=Mv(y,n)):g=-1}}return c}function Mme(r,n,i,a,c,f){let h=n[yt],g=h.data[r+8],y=a==null?Yv(g)&&E_:a!=h&&(g.type&3)!==0,w=c&Dt.Host&&f===g,_=Cv(g,h,i,y,w);return _!==null?zl(n,h,_,g):Ks}function Cv(r,n,i,a,c){let f=r.providerIndexes,h=n.data,g=f&1048575,y=r.directiveStart,w=r.directiveEnd,_=f>>20,k=a?g:g+_,V=c?g+_:w;for(let $=k;$<V;$++){let oe=h[$];if($<y&&i===oe||$>=y&&oe.type===i)return $}if(c){let $=h[y];if($&&Ia($)&&$.type===i)return y}return null}function zl(r,n,i,a){let c=r[i],f=n.data;if(_me(c)){let h=c;h.resolving&&ehe(Jpe(f[i]));let g=Nv(h.canSeeViewProviders);h.resolving=!0;let y,w=h.injectImpl?qr(h.injectImpl):null,_=T$(r,a,Dt.Default);try{c=r[i]=h.factory(void 0,f,r,a),n.firstCreatePass&&i>=a.directiveStart&&Eme(i,f[i],n)}finally{w!==null&&qr(w),Nv(g),h.resolving=!1,O$()}}return c}function Nme(r){if(typeof r=="string")return r.charCodeAt(0)||0;let n=r.hasOwnProperty(cp)?r[cp]:void 0;return typeof n=="number"?n>=0?n&B$:Rme:n}function f2(r,n,i){let a=1<<r;return!!(i[n+(r>>V$)]&a)}function p2(r,n){return!(r&Dt.Self)&&!(r&Dt.Host&&n)}var Bl=class{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,a){return H$(this._tNode,this._lView,n,zv(a),i)}};function Rme(){return new Bl(Co(),Vt())}function ju(r){return Cp(()=>{let n=r.prototype.constructor,i=n[Dv]||__(n),a=Object.prototype,c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==a;){let f=c[Dv]||__(c);if(f&&f!==i)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function __(r){return H2(r)?()=>{let n=__(Nr(r));return n&&n()}:Vl(r)}function Ome(r,n,i,a,c){let f=r,h=n;for(;f!==null&&h!==null&&h[ot]&2048&&!(h[ot]&512);){let g=z$(f,h,i,a|Dt.Self,Ks);if(g!==Ks)return g;let y=f.parent;if(!y){let w=h[h$];if(w){let _=w.get(i,Ks,a);if(_!==Ks)return _}y=W$(h),h=h[Vu]}f=y}return c}function W$(r){let n=r[yt],i=n.type;return i===2?n.declTNode:i===1?r[ms]:null}function h2(r,n=null,i=null,a){let c=q$(r,n,i,a);return c.resolveInjectorInitializers(),c}function q$(r,n=null,i=null,a,c=new Set){let f=[i||$o,Mhe(r)];return a=a||(typeof r=="object"?void 0:Rr(r)),new fp(f,n||Cx(),a||null,c)}var Li=(()=>{let n=class n{static create(a,c){if(Array.isArray(a))return h2({name:""},c,a,"");{let f=a.name??"";return h2({name:f},a.parent,a.providers,f)}}};n.THROW_IF_NOT_FOUND=up,n.NULL=new Sv,n.\u0275prov=Ge({token:n,providedIn:"any",factory:()=>at(X2)}),n.__NG_ELEMENT_ID__=-1;let r=n;return r})();var Pme="ngOriginalError";function t_(r){return r[Pme]}var Js=class{constructor(){this._console=console}handleError(n){let i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&t_(n);for(;i&&t_(i);)i=t_(i);return i||null}},G$=new tt("",{providedIn:"root",factory:()=>xe(Js).handleError.bind(void 0)}),Nx=(()=>{let n=class n{};n.__NG_ELEMENT_ID__=Fme,n.__NG_ENV_ID__=a=>a;let r=n;return r})(),x_=class extends Nx{constructor(n){super(),this._lView=n}onDestroy(n){return x$(this._lView,n),()=>nme(this._lView,n)}};function Fme(){return new x_(Vt())}function Lme(){return Uu(Co(),Vt())}function Uu(r,n){return new Uo(jo(r,n))}var Uo=(()=>{let n=class n{constructor(a){this.nativeElement=a}};n.__NG_ELEMENT_ID__=Lme;let r=n;return r})();function Bme(r){return r instanceof Uo?r.nativeElement:r}var S_=class extends kn{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,p$()&&(this.destroyRef=xe(Nx,{optional:!0})??void 0)}emit(n){let i=Bt(null);try{super.next(n)}finally{Bt(i)}}subscribe(n,i,a){let c=n,f=i||(()=>null),h=a;if(n&&typeof n=="object"){let y=n;c=y.next?.bind(y),f=y.error?.bind(y),h=y.complete?.bind(y)}this.__isAsync&&(f=n_(f),c&&(c=n_(c)),h&&(h=n_(h)));let g=super.subscribe({next:c,error:f,complete:h});return n instanceof Hn&&n.add(g),g}};function n_(r){return n=>{setTimeout(r,void 0,n)}}var ve=S_;function Vme(){return this._results[Symbol.iterator]()}var I_=class r{get changes(){return this._changes??=new ve}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let i=r.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=Vme)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;let a=dhe(n);(this._changesDetected=!uhe(this._results,a,i))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function K$(r){return(r.flags&128)===128}var Y$=new Map,$me=0;function jme(){return $me++}function Ume(r){Y$.set(r[Kv],r)}function Hme(r){Y$.delete(r[Kv])}var m2="__ngContext__";function Wl(r,n){Ll(n)?(r[m2]=n[Kv],Ume(n)):r[m2]=n}function Z$(r){return X$(r[hp])}function Q$(r){return X$(r[fs])}function X$(r){for(;r!==null&&!Fi(r);)r=r[fs];return r}var A_;function J$(r){A_=r}function ej(){if(A_!==void 0)return A_;if(typeof document<"u")return document;throw new He(210,!1)}var Rx=new tt("",{providedIn:"root",factory:()=>zme}),zme="ng",Ox=new tt(""),ti=new tt("",{providedIn:"platform",factory:()=>"unknown"});var Px=new tt("",{providedIn:"root",factory:()=>ej().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Wme="h",qme="b";var Gme=()=>null;function Fx(r,n,i=!1){return Gme(r,n,i)}var tj=!1,Kme=new tt("",{providedIn:"root",factory:()=>tj});var fv;function Yme(){if(fv===void 0&&(fv=null,vo.trustedTypes))try{fv=vo.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return fv}function Xv(r){return Yme()?.createHTML(r)||r}var pv;function Zme(){if(pv===void 0&&(pv=null,vo.trustedTypes))try{pv=vo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return pv}function g2(r){return Zme()?.createHTML(r)||r}var ki=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${j2})`}},k_=class extends ki{getTypeName(){return"HTML"}},T_=class extends ki{getTypeName(){return"Style"}},M_=class extends ki{getTypeName(){return"Script"}},N_=class extends ki{getTypeName(){return"URL"}},R_=class extends ki{getTypeName(){return"ResourceURL"}};function ni(r){return r instanceof ki?r.changingThisBreaksApplicationSecurity:r}function Ma(r,n){let i=Qme(r);if(i!=null&&i!==n){if(i==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${j2})`)}return i===n}function Qme(r){return r instanceof ki&&r.getTypeName()||null}function nj(r){return new k_(r)}function rj(r){return new T_(r)}function oj(r){return new M_(r)}function sj(r){return new N_(r)}function ij(r){return new R_(r)}function Xme(r){let n=new P_(r);return Jme()?new O_(n):n}var O_=class{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let i=new window.DOMParser().parseFromString(Xv(n),"text/html").body;return i===null?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}},P_=class{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let i=this.inertDocument.createElement("template");return i.innerHTML=Xv(n),i}};function Jme(){try{return!!new window.DOMParser().parseFromString(Xv(""),"text/html")}catch{return!1}}var ege=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Jv(r){return r=String(r),r.match(ege)?r:"unsafe:"+r}function Bi(r){let n={};for(let i of r.split(","))n[i]=!0;return n}function xp(...r){let n={};for(let i of r)for(let a in i)i.hasOwnProperty(a)&&(n[a]=!0);return n}var aj=Bi("area,br,col,hr,img,wbr"),lj=Bi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cj=Bi("rp,rt"),tge=xp(cj,lj),nge=xp(lj,Bi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rge=xp(cj,Bi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),v2=xp(aj,nge,rge,tge),uj=Bi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),oge=Bi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sge=Bi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),ige=xp(uj,oge,sge),age=Bi("script,style,template"),F_=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,a=!0,c=[];for(;i;){if(i.nodeType===Node.ELEMENT_NODE?a=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,a&&i.firstChild){c.push(i),i=uge(i);continue}for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let f=cge(i);if(f){i=f;break}i=c.pop()}}return this.buf.join("")}startElement(n){let i=y2(n).toLowerCase();if(!v2.hasOwnProperty(i))return this.sanitizedSomething=!0,!age.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);let a=n.attributes;for(let c=0;c<a.length;c++){let f=a.item(c),h=f.name,g=h.toLowerCase();if(!ige.hasOwnProperty(g)){this.sanitizedSomething=!0;continue}let y=f.value;uj[g]&&(y=Jv(y)),this.buf.push(" ",h,'="',b2(y),'"')}return this.buf.push(">"),!0}endElement(n){let i=y2(n).toLowerCase();v2.hasOwnProperty(i)&&!aj.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(b2(n))}};function lge(r,n){return(r.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function cge(r){let n=r.nextSibling;if(n&&r!==n.previousSibling)throw dj(n);return n}function uge(r){let n=r.firstChild;if(n&&lge(r,n))throw dj(n);return n}function y2(r){let n=r.nodeName;return typeof n=="string"?n:"FORM"}function dj(r){return new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`)}var dge=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fge=/([^\#-~ |!])/g;function b2(r){return r.replace(/&/g,"&amp;").replace(dge,function(n){let i=n.charCodeAt(0),a=n.charCodeAt(1);return"&#"+((i-55296)*1024+(a-56320)+65536)+";"}).replace(fge,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var hv;function Lx(r,n){let i=null;try{hv=hv||Xme(r);let a=n?String(n):"";i=hv.getInertBodyElement(a);let c=5,f=a;do{if(c===0)throw new Error("Failed to sanitize html because the input is unstable");c--,a=f,f=i.innerHTML,i=hv.getInertBodyElement(a)}while(a!==f);let g=new F_().sanitizeChildren(C2(i)||i);return Xv(g)}finally{if(i){let a=C2(i)||i;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function C2(r){return"content"in r&&pge(r)?r.content:null}function pge(r){return r.nodeType===Node.ELEMENT_NODE&&r.nodeName==="TEMPLATE"}var ri=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(ri||{});function fj(r){let n=pj();return n?g2(n.sanitize(ri.HTML,r)||""):Ma(r,"HTML")?g2(ni(r)):Lx(ej(),wp(r))}function wo(r){let n=pj();return n?n.sanitize(ri.URL,r)||"":Ma(r,"URL")?ni(r):Jv(wp(r))}function pj(){let r=Vt();return r&&r[hs].sanitizer}function hj(r){return r instanceof Function?r():r}function hge(r){return(r??xe(Li)).get(ti)==="browser"}var Ti=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(Ti||{}),mge;function Bx(r,n){return mge(r,n)}function Au(r,n,i,a,c){if(a!=null){let f,h=!1;Fi(a)?f=a:Ll(a)&&(h=!0,a=a[Pi]);let g=Xs(a);r===0&&i!==null?c==null?bj(n,i,g):Ov(n,i,g,c||null,!0):r===1&&i!==null?Ov(n,i,g,c||null,!0):r===2?Nge(n,g,h):r===3&&n.destroyNode(g),f!=null&&Oge(n,r,f,i,c)}}function gge(r,n){return r.createText(n)}function vge(r,n,i){r.setValue(n,i)}function mj(r,n,i){return r.createElement(n,i)}function yge(r,n){gj(r,n),n[Pi]=null,n[ms]=null}function bge(r,n,i,a,c,f){a[Pi]=c,a[ms]=n,ey(r,a,i,1,c,f)}function gj(r,n){n[hs].changeDetectionScheduler?.notify(1),ey(r,n,n[Bn],2,null,null)}function Cge(r){let n=r[hp];if(!n)return r_(r[yt],r);for(;n;){let i=null;if(Ll(n))i=n[hp];else{let a=n[yo];a&&(i=a)}if(!i){for(;n&&!n[fs]&&n!==r;)Ll(n)&&r_(n[yt],n),n=n[mr];n===null&&(n=r),Ll(n)&&r_(n[yt],n),i=n&&n[fs]}n=i}}function wge(r,n,i,a){let c=yo+a,f=i.length;a>0&&(i[c-1][fs]=n),a<f-yo?(n[fs]=i[c],Q2(i,yo+a,n)):(i.push(n),n[fs]=null),n[mr]=i;let h=n[Dp];h!==null&&i!==h&&Ege(h,n);let g=n[Ai];g!==null&&g.insertView(r),C_(n),n[ot]|=128}function Ege(r,n){let i=r[Fu],c=n[mr][mr][Zs];n[Zs]!==c&&(r[ot]|=wx.HasTransplantedViews),i===null?r[Fu]=[n]:i.push(n)}function vj(r,n){let i=r[Fu],a=i.indexOf(n);i.splice(a,1)}function L_(r,n){if(r.length<=yo)return;let i=yo+n,a=r[i];if(a){let c=a[Dp];c!==null&&c!==r&&vj(c,a),n>0&&(r[i-1][fs]=a[fs]);let f=xv(r,yo+n);yge(a[yt],a);let h=f[Ai];h!==null&&h.detachView(f[yt]),a[mr]=null,a[fs]=null,a[ot]&=-129}return a}function yj(r,n){if(!(n[ot]&256)){let i=n[Bn];i.destroyNode&&ey(r,n,i,3,null,null),Cge(n)}}function r_(r,n){if(n[ot]&256)return;let i=Bt(null);try{n[ot]&=-129,n[ot]|=256,n[$l]&&xV(n[$l]),_ge(r,n),Dge(r,n),n[yt].type===1&&n[Bn].destroy();let a=n[Dp];if(a!==null&&Fi(n[mr])){a!==n[mr]&&vj(a,n);let c=n[Ai];c!==null&&c.detachView(r)}Hme(n)}finally{Bt(i)}}function Dge(r,n){let i=r.cleanup,a=n[pp];if(i!==null)for(let f=0;f<i.length-1;f+=2)if(typeof i[f]=="string"){let h=i[f+3];h>=0?a[h]():a[-h].unsubscribe(),f+=2}else{let h=a[i[f+1]];i[f].call(h)}a!==null&&(n[pp]=null);let c=n[xa];if(c!==null){n[xa]=null;for(let f=0;f<c.length;f++){let h=c[f];h()}}}function _ge(r,n){let i;if(r!=null&&(i=r.destroyHooks)!=null)for(let a=0;a<i.length;a+=2){let c=n[i[a]];if(!(c instanceof Hl)){let f=i[a+1];if(Array.isArray(f))for(let h=0;h<f.length;h+=2){let g=c[f[h]],y=f[h+1];Gs(4,g,y);try{y.call(g)}finally{Gs(5,g,y)}}else{Gs(4,c,f);try{f.call(c)}finally{Gs(5,c,f)}}}}}function xge(r,n,i){return Sge(r,n.parent,i)}function Sge(r,n,i){let a=n;for(;a!==null&&a.type&40;)n=a,a=n.parent;if(a===null)return i[Pi];{let{componentOffset:c}=a;if(c>-1){let{encapsulation:f}=r.data[a.directiveStart+c];if(f===Ys.None||f===Ys.Emulated)return null}return jo(a,i)}}function Ov(r,n,i,a,c){r.insertBefore(n,i,a,c)}function bj(r,n,i){r.appendChild(n,i)}function w2(r,n,i,a,c){a!==null?Ov(r,n,i,a,c):bj(r,n,i)}function Ige(r,n,i,a){r.removeChild(n,i,a)}function Vx(r,n){return r.parentNode(n)}function Age(r,n){return r.nextSibling(n)}function kge(r,n,i){return Mge(r,n,i)}function Tge(r,n,i){return r.type&40?jo(r,i):null}var Mge=Tge,E2;function $x(r,n,i,a){let c=xge(r,a,n),f=n[Bn],h=a.parent||n[ms],g=kge(h,a,n);if(c!=null)if(Array.isArray(i))for(let y=0;y<i.length;y++)w2(f,c,i[y],g,!1);else w2(f,c,i,g,!1);E2!==void 0&&E2(f,a,n,i,c)}function wv(r,n){if(n!==null){let i=n.type;if(i&3)return jo(n,r);if(i&4)return B_(-1,r[n.index]);if(i&8){let a=n.child;if(a!==null)return wv(r,a);{let c=r[n.index];return Fi(c)?B_(-1,c):Xs(c)}}else{if(i&32)return Bx(n,r)()||Xs(r[n.index]);{let a=Cj(r,n);if(a!==null){if(Array.isArray(a))return a[0];let c=gp(r[Zs]);return wv(c,a)}else return wv(r,n.next)}}}return null}function Cj(r,n){if(n!==null){let a=r[Zs][ms],c=n.projection;return a.projection[c]}return null}function B_(r,n){let i=yo+r+1;if(i<n.length){let a=n[i],c=a[yt].firstChild;if(c!==null)return wv(a,c)}return n[jl]}function Nge(r,n,i){let a=Vx(r,n);a&&Ige(r,a,n,i)}function jx(r,n,i,a,c,f,h){for(;i!=null;){let g=a[i.index],y=i.type;if(h&&n===0&&(g&&Wl(Xs(g),a),i.flags|=2),(i.flags&32)!==32)if(y&8)jx(r,n,i.child,a,c,f,!1),Au(n,r,c,g,f);else if(y&32){let w=Bx(i,a),_;for(;_=w();)Au(n,r,c,_,f);Au(n,r,c,g,f)}else y&16?Rge(r,n,a,i,c,f):Au(n,r,c,g,f);i=h?i.projectionNext:i.next}}function ey(r,n,i,a,c,f){jx(i,a,r.firstChild,n,c,f,!1)}function Rge(r,n,i,a,c,f){let h=i[Zs],y=h[ms].projection[a.projection];if(Array.isArray(y))for(let w=0;w<y.length;w++){let _=y[w];Au(n,r,c,_,f)}else{let w=y,_=h[mr];K$(a)&&(w.flags|=128),jx(r,n,w,_,c,f,!0)}}function Oge(r,n,i,a,c){let f=i[jl],h=Xs(i);f!==h&&Au(n,r,a,f,c);for(let g=yo;g<i.length;g++){let y=i[g];ey(y[yt],y,r,n,a,f)}}function Pge(r,n,i,a,c){if(n)c?r.addClass(i,a):r.removeClass(i,a);else{let f=a.indexOf("-")===-1?void 0:Ti.DashCase;c==null?r.removeStyle(i,a,f):(typeof c=="string"&&c.endsWith("!important")&&(c=c.slice(0,-10),f|=Ti.Important),r.setStyle(i,a,c,f))}}function Fge(r,n,i){r.setAttribute(n,"style",i)}function wj(r,n,i){i===""?r.removeAttribute(n,"class"):r.setAttribute(n,"class",i)}function Ej(r,n,i){let{mergedAttrs:a,classes:c,styles:f}=i;a!==null&&m_(r,n,a),c!==null&&wj(r,n,c),f!==null&&Fge(r,n,f)}var Na={};function Ce(r=1){Dj(gr(),Vt(),$u()+r,!1)}function Dj(r,n,i,a){if(!a)if((n[ot]&3)===3){let f=r.preOrderCheckHooks;f!==null&&yv(n,f,i)}else{let f=r.preOrderHooks;f!==null&&bv(n,f,0,i)}Ul(i)}function Re(r,n=Dt.Default){let i=Vt();if(i===null)return at(r,n);let a=Co();return H$(a,i,Nr(r),n)}function _j(){let r="invalid";throw new Error(r)}function xj(r,n,i,a,c,f){let h=Bt(null);try{let g=null;c&bo.SignalBased&&(g=n[a][AD]),g!==null&&g.transformFn!==void 0&&(f=g.transformFn(f)),c&bo.HasDecoratorInputTransform&&(f=r.inputTransforms[a].call(n,f)),r.setInput!==null?r.setInput(n,g,f,i,a):v$(n,g,a,f)}finally{Bt(h)}}function Lge(r,n){let i=r.hostBindingOpCodes;if(i!==null)try{for(let a=0;a<i.length;a++){let c=i[a];if(c<0)Ul(~c);else{let f=c,h=i[++a],g=i[++a];mme(h,f);let y=n[f];g(2,y)}}}finally{Ul(-1)}}function ty(r,n,i,a,c,f,h,g,y,w,_){let k=n.blueprint.slice();return k[Pi]=c,k[ot]=a|4|128|8|64,(w!==null||r&&r[ot]&2048)&&(k[ot]|=2048),_$(k),k[mr]=k[Vu]=r,k[ps]=i,k[hs]=h||r&&r[hs],k[Bn]=g||r&&r[Bn],k[Pu]=y||r&&r[Pu]||null,k[ms]=f,k[Kv]=jme(),k[Iv]=_,k[h$]=w,k[Zs]=n.type==2?r[Zs]:k,k}function ny(r,n,i,a,c){let f=r.data[n];if(f===null)f=Bge(r,n,i,a,c),hme()&&(f.flags|=32);else if(f.type&64){f.type=i,f.value=a,f.attrs=c;let h=cme();f.injectorIndex=h===null?-1:h.injectorIndex}return _p(f,!0),f}function Bge(r,n,i,a,c){let f=I$(),h=A$(),g=h?f:f&&f.parent,y=r.data[n]=zge(r,g,i,n,a,c);return r.firstChild===null&&(r.firstChild=y),f!==null&&(h?f.child==null&&y.parent!==null&&(f.child=y):f.next===null&&(f.next=y,y.prev=f)),y}function Sj(r,n,i,a){if(i===0)return-1;let c=n.length;for(let f=0;f<i;f++)n.push(a),r.blueprint.push(a),r.data.push(null);return c}function Ij(r,n,i,a,c){let f=$u(),h=a&2;try{Ul(-1),h&&n.length>Qs&&Dj(r,n,Qs,!1),Gs(h?2:0,c),i(a,c)}finally{Ul(f),Gs(h?3:1,c)}}function Aj(r,n,i){if(g$(n)){let a=Bt(null);try{let c=n.directiveStart,f=n.directiveEnd;for(let h=c;h<f;h++){let g=r.data[h];if(g.contentQueries){let y=i[h];g.contentQueries(1,y,h)}}}finally{Bt(a)}}}function kj(r,n,i){S$()&&(Zge(r,n,i,jo(i,n)),(i.flags&64)===64&&Oj(r,n,i))}function Tj(r,n,i=jo){let a=n.localNames;if(a!==null){let c=n.index+1;for(let f=0;f<a.length;f+=2){let h=a[f+1],g=h===-1?i(n,r):r[h];r[c++]=g}}}function Mj(r){let n=r.tView;return n===null||n.incompleteFirstPass?r.tView=Ux(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):n}function Ux(r,n,i,a,c,f,h,g,y,w,_){let k=Qs+a,V=k+c,$=Vge(k,V),oe=typeof w=="function"?w():w;return $[yt]={type:r,blueprint:$,template:i,queries:null,viewQuery:g,declTNode:n,data:$.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof f=="function"?f():f,pipeRegistry:typeof h=="function"?h():h,firstChild:null,schemas:y,consts:oe,incompleteFirstPass:!1,ssrId:_}}function Vge(r,n){let i=[];for(let a=0;a<n;a++)i.push(a<r?null:Na);return i}function $ge(r,n,i,a){let f=a.get(Kme,tj)||i===Ys.ShadowDom,h=r.selectRootElement(n,f);return jge(h),h}function jge(r){Uge(r)}var Uge=()=>null;function Hge(r,n,i,a){let c=Lj(n);c.push(i),r.firstCreatePass&&Bj(r).push(a,c.length-1)}function zge(r,n,i,a,c,f){let h=n?n.injectorIndex:-1,g=0;return ime()&&(g|=128),{type:i,index:a,insertBeforeIndex:null,injectorIndex:h,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:g,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function D2(r,n,i,a,c){for(let f in n){if(!n.hasOwnProperty(f))continue;let h=n[f];if(h===void 0)continue;a??={};let g,y=bo.None;Array.isArray(h)?(g=h[0],y=h[1]):g=h;let w=f;if(c!==null){if(!c.hasOwnProperty(f))continue;w=c[f]}r===0?_2(a,i,w,g,y):_2(a,i,w,g)}return a}function _2(r,n,i,a,c){let f;r.hasOwnProperty(i)?(f=r[i]).push(n,a):f=r[i]=[n,a],c!==void 0&&f.push(c)}function Wge(r,n,i){let a=n.directiveStart,c=n.directiveEnd,f=r.data,h=n.attrs,g=[],y=null,w=null;for(let _=a;_<c;_++){let k=f[_],V=i?i.get(k):null,$=V?V.inputs:null,oe=V?V.outputs:null;y=D2(0,k.inputs,_,y,$),w=D2(1,k.outputs,_,w,oe);let ue=y!==null&&h!==null&&!yx(n)?ave(y,_,h):null;g.push(ue)}y!==null&&(y.hasOwnProperty("class")&&(n.flags|=8),y.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=g,n.inputs=y,n.outputs=w}function qge(r){return r==="class"?"className":r==="for"?"htmlFor":r==="formaction"?"formAction":r==="innerHtml"?"innerHTML":r==="readonly"?"readOnly":r==="tabindex"?"tabIndex":r}function Hx(r,n,i,a,c,f,h,g){let y=jo(n,i),w=n.inputs,_;!g&&w!=null&&(_=w[a])?(zx(r,i,_,a,c),Yv(n)&&Gge(i,n.index)):n.type&3?(a=qge(a),c=h!=null?h(c,n.value||"",a):c,f.setProperty(y,a,c)):n.type&12}function Gge(r,n){let i=ka(n,r);i[ot]&16||(i[ot]|=64)}function Nj(r,n,i,a){if(S$()){let c=a===null?null:{"":-1},f=Xge(r,i),h,g;f===null?h=g=null:[h,g]=f,h!==null&&Rj(r,n,i,h,c,g),c&&Jge(i,a,c)}i.mergedAttrs=dp(i.mergedAttrs,i.attrs)}function Rj(r,n,i,a,c,f){for(let w=0;w<a.length;w++)D_(Rv(i,n),r,a[w].type);tve(i,r.data.length,a.length);for(let w=0;w<a.length;w++){let _=a[w];_.providersResolver&&_.providersResolver(_)}let h=!1,g=!1,y=Sj(r,n,a.length,null);for(let w=0;w<a.length;w++){let _=a[w];i.mergedAttrs=dp(i.mergedAttrs,_.hostAttrs),nve(r,i,n,y,_),eve(y,_,c),_.contentQueries!==null&&(i.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(i.flags|=64);let k=_.type.prototype;!h&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((r.preOrderHooks??=[]).push(i.index),h=!0),!g&&(k.ngOnChanges||k.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(i.index),g=!0),y++}Wge(r,i,f)}function Kge(r,n,i,a,c){let f=c.hostBindings;if(f){let h=r.hostBindingOpCodes;h===null&&(h=r.hostBindingOpCodes=[]);let g=~n.index;Yge(h)!=g&&h.push(g),h.push(i,a,f)}}function Yge(r){let n=r.length;for(;n>0;){let i=r[--n];if(typeof i=="number"&&i<0)return i}return 0}function Zge(r,n,i,a){let c=i.directiveStart,f=i.directiveEnd;Yv(i)&&rve(n,i,r.data[c+i.componentOffset]),r.firstCreatePass||Rv(i,n),Wl(a,n);let h=i.initialInputs;for(let g=c;g<f;g++){let y=r.data[g],w=zl(n,r,g,i);if(Wl(w,n),h!==null&&ive(n,g-c,w,y,i,h),Ia(y)){let _=ka(i.index,n);_[ps]=zl(n,r,g,i)}}}function Oj(r,n,i){let a=i.directiveStart,c=i.directiveEnd,f=i.index,h=gme();try{Ul(f);for(let g=a;g<c;g++){let y=r.data[g],w=n[g];w_(g),(y.hostBindings!==null||y.hostVars!==0||y.hostAttrs!==null)&&Qge(y,w)}}finally{Ul(-1),w_(h)}}function Qge(r,n){r.hostBindings!==null&&r.hostBindings(1,n)}function Xge(r,n){let i=r.directiveRegistry,a=null,c=null;if(i)for(let f=0;f<i.length;f++){let h=i[f];if(Ehe(n,h.selectors,!1))if(a||(a=[]),Ia(h))if(h.findHostDirectiveDefs!==null){let g=[];c=c||new Map,h.findHostDirectiveDefs(h,g,c),a.unshift(...g,h);let y=g.length;V_(r,n,y)}else a.unshift(h),V_(r,n,0);else c=c||new Map,h.findHostDirectiveDefs?.(h,a,c),a.push(h)}return a===null?null:[a,c]}function V_(r,n,i){n.componentOffset=i,(r.components??=[]).push(n.index)}function Jge(r,n,i){if(n){let a=r.localNames=[];for(let c=0;c<n.length;c+=2){let f=i[n[c+1]];if(f==null)throw new He(-301,!1);a.push(n[c],f)}}}function eve(r,n,i){if(i){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)i[n.exportAs[a]]=r;Ia(n)&&(i[""]=r)}}function tve(r,n,i){r.flags|=1,r.directiveStart=n,r.directiveEnd=n+i,r.providerIndexes=n}function nve(r,n,i,a,c){r.data[a]=c;let f=c.factory||(c.factory=Vl(c.type,!0)),h=new Hl(f,Ia(c),Re);r.blueprint[a]=h,i[a]=h,Kge(r,n,a,Sj(r,i,c.hostVars,Na),c)}function rve(r,n,i){let a=jo(n,r),c=Mj(i),f=r[hs].rendererFactory,h=16;i.signals?h=4096:i.onPush&&(h=64);let g=ry(r,ty(r,c,null,h,a,n,null,f.createRenderer(a,i),null,null,null));r[n.index]=g}function ove(r,n,i,a,c,f){let h=jo(r,n);sve(n[Bn],h,f,r.value,i,a,c)}function sve(r,n,i,a,c,f,h){if(f==null)r.removeAttribute(n,c,i);else{let g=h==null?wp(f):h(f,a||"",c);r.setAttribute(n,c,g,i)}}function ive(r,n,i,a,c,f){let h=f[n];if(h!==null)for(let g=0;g<h.length;){let y=h[g++],w=h[g++],_=h[g++],k=h[g++];xj(a,i,y,w,_,k)}}function ave(r,n,i){let a=null,c=0;for(;c<i.length;){let f=i[c];if(f===0){c+=4;continue}else if(f===5){c+=2;continue}if(typeof f=="number")break;if(r.hasOwnProperty(f)){a===null&&(a=[]);let h=r[f];for(let g=0;g<h.length;g+=3)if(h[g]===n){a.push(f,h[g+1],h[g+2],i[c+1]);break}}c+=2}return a}function Pj(r,n,i,a){return[r,!0,0,n,null,a,null,i,null,null]}function Fj(r,n){let i=r.contentQueries;if(i!==null){let a=Bt(null);try{for(let c=0;c<i.length;c+=2){let f=i[c],h=i[c+1];if(h!==-1){let g=r.data[h];xx(f),g.contentQueries(2,n[h],h)}}}finally{Bt(a)}}}function ry(r,n){return r[hp]?r[c2][fs]=n:r[hp]=n,r[c2]=n,n}function $_(r,n,i){xx(0);let a=Bt(null);try{n(r,i)}finally{Bt(a)}}function Lj(r){return r[pp]||(r[pp]=[])}function Bj(r){return r.cleanup||(r.cleanup=[])}function Vj(r,n){let i=r[Pu],a=i?i.get(Js,null):null;a&&a.handleError(n)}function zx(r,n,i,a,c){for(let f=0;f<i.length;){let h=i[f++],g=i[f++],y=i[f++],w=n[h],_=r.data[h];xj(_,w,a,g,y,c)}}function lve(r,n,i){let a=E$(n,r);vge(r[Bn],a,i)}function cve(r,n){let i=ka(n,r),a=i[yt];uve(a,i);let c=i[Pi];c!==null&&i[Iv]===null&&(i[Iv]=Fx(c,i[Pu])),Wx(a,i,i[ps])}function uve(r,n){for(let i=n.length;i<r.blueprint.length;i++)n.push(r.blueprint[i])}function Wx(r,n,i){Sx(n);try{let a=r.viewQuery;a!==null&&$_(1,a,i);let c=r.template;c!==null&&Ij(r,n,c,1,i),r.firstCreatePass&&(r.firstCreatePass=!1),n[Ai]?.finishViewCreation(r),r.staticContentQueries&&Fj(r,n),r.staticViewQueries&&$_(2,r.viewQuery,i);let f=r.components;f!==null&&dve(n,f)}catch(a){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),a}finally{n[ot]&=-5,Ix()}}function dve(r,n){for(let i=0;i<n.length;i++)cve(r,n[i])}function fve(r,n,i,a){let c=Bt(null);try{let f=n.tView,g=r[ot]&4096?4096:16,y=ty(r,f,i,g,null,n,null,null,a?.injector??null,a?.embeddedViewInjector??null,a?.dehydratedView??null),w=r[n.index];y[Dp]=w;let _=r[Ai];return _!==null&&(y[Ai]=_.createEmbeddedView(f)),Wx(f,y,i),y}finally{Bt(c)}}function x2(r,n){return!n||n.firstChild===null||K$(r)}function pve(r,n,i,a=!0){let c=n[yt];if(wge(c,n,r,i),a){let h=B_(i,r),g=n[Bn],y=Vx(g,r[jl]);y!==null&&bge(c,r[ms],g,n,y,h)}let f=n[Iv];f!==null&&f.firstChild!==null&&(f.firstChild=null)}function Pv(r,n,i,a,c=!1){for(;i!==null;){let f=n[i.index];f!==null&&a.push(Xs(f)),Fi(f)&&hve(f,a);let h=i.type;if(h&8)Pv(r,n,i.child,a);else if(h&32){let g=Bx(i,n),y;for(;y=g();)a.push(y)}else if(h&16){let g=Cj(n,i);if(Array.isArray(g))a.push(...g);else{let y=gp(n[Zs]);Pv(y[yt],y,g,a,!0)}}i=c?i.projectionNext:i.next}return a}function hve(r,n){for(let i=yo;i<r.length;i++){let a=r[i],c=a[yt].firstChild;c!==null&&Pv(a[yt],a,c,n)}r[jl]!==r[Pi]&&n.push(r[jl])}var $j=[];function mve(r){return r[$l]??gve(r)}function gve(r){let n=$j.pop()??Object.create(yve);return n.lView=r,n}function vve(r){r.lView[$l]!==r&&(r.lView=null,$j.push(r))}var yve=Me(W({},EV),{consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{mp(r.lView)},consumerOnSignalRead(){this.lView[$l]=this}}),jj=100;function Uj(r,n=!0,i=0){let a=r[hs],c=a.rendererFactory,f=!1;f||c.begin?.();try{bve(r,i)}catch(h){throw n&&Vj(r,h),h}finally{f||(c.end?.(),a.inlineEffectRunner?.flush())}}function bve(r,n){j_(r,n);let i=0;for(;_x(r);){if(i===jj)throw new He(103,!1);i++,j_(r,1)}}function Cve(r,n,i,a){let c=n[ot];if((c&256)===256)return;let f=!1;!f&&n[hs].inlineEffectRunner?.flush(),Sx(n);let h=null,g=null;!f&&wve(r)&&(g=mve(n),h=DV(g));try{_$(n),fme(r.bindingStartIndex),i!==null&&Ij(r,n,i,2,a);let y=(c&3)===3;if(!f)if(y){let k=r.preOrderCheckHooks;k!==null&&yv(n,k,null)}else{let k=r.preOrderHooks;k!==null&&bv(n,k,0,null),JD(n,0)}if(Eve(n),Hj(n,0),r.contentQueries!==null&&Fj(r,n),!f)if(y){let k=r.contentCheckHooks;k!==null&&yv(n,k)}else{let k=r.contentHooks;k!==null&&bv(n,k,1),JD(n,1)}Lge(r,n);let w=r.components;w!==null&&Wj(n,w,0);let _=r.viewQuery;if(_!==null&&$_(2,_,a),!f)if(y){let k=r.viewCheckHooks;k!==null&&yv(n,k)}else{let k=r.viewHooks;k!==null&&bv(n,k,2),JD(n,2)}if(r.firstUpdatePass===!0&&(r.firstUpdatePass=!1),n[XD]){for(let k of n[XD])k();n[XD]=null}f||(n[ot]&=-73)}catch(y){throw mp(n),y}finally{g!==null&&(_V(g,h),vve(g)),Ix()}}function wve(r){return r.type!==2}function Hj(r,n){for(let i=Z$(r);i!==null;i=Q$(i))for(let a=yo;a<i.length;a++){let c=i[a];zj(c,n)}}function Eve(r){for(let n=Z$(r);n!==null;n=Q$(n)){if(!(n[ot]&wx.HasTransplantedViews))continue;let i=n[Fu];for(let a=0;a<i.length;a++){let c=i[a],f=c[mr];eme(c)}}}function Dve(r,n,i){let a=ka(n,r);zj(a,i)}function zj(r,n){Dx(r)&&j_(r,n)}function j_(r,n){let a=r[yt],c=r[ot],f=r[$l],h=!!(n===0&&c&16);if(h||=!!(c&64&&n===0),h||=!!(c&1024),h||=!!(f?.dirty&&kD(f)),f&&(f.dirty=!1),r[ot]&=-9217,h)Cve(a,r,a.template,r[ps]);else if(c&8192){Hj(r,1);let g=a.components;g!==null&&Wj(r,g,1)}}function Wj(r,n,i){for(let a=0;a<n.length;a++)Dve(r,n[a],i)}function qx(r){for(r[hs].changeDetectionScheduler?.notify();r;){r[ot]|=64;let n=gp(r);if(zhe(r)&&!n)return r;r=n}return null}var ql=class{get rootNodes(){let n=this._lView,i=n[yt];return Pv(i,n,i.firstChild,[])}constructor(n,i,a=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ps]}set context(n){this._lView[ps]=n}get destroyed(){return(this._lView[ot]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[mr];if(Fi(n)){let i=n[Av],a=i?i.indexOf(this):-1;a>-1&&(L_(n,a),xv(i,a))}this._attachedToViewContainer=!1}yj(this._lView[yt],this._lView)}onDestroy(n){x$(this._lView,n)}markForCheck(){qx(this._cdRefInjectingView||this._lView)}detach(){this._lView[ot]&=-129}reattach(){C_(this._lView),this._lView[ot]|=128}detectChanges(){this._lView[ot]|=1024,Uj(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new He(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,gj(this._lView[yt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new He(902,!1);this._appRef=n,C_(this._lView)}},Gl=(()=>{let n=class n{};n.__NG_ELEMENT_ID__=Sve;let r=n;return r})(),_ve=Gl,xve=class extends _ve{constructor(n,i,a){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,a){let c=fve(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:a});return new ql(c)}};function Sve(){return Gx(Co(),Vt())}function Gx(r,n){return r.type&4?new xve(n,r,Uu(r,n)):null}var SMe=new RegExp(`^(\\d+)*(${qme}|${Wme})*(.*)`);var Ive=()=>null;function S2(r,n){return Ive(r,n)}var Fv=class{},U_=class{},Lv=class{};function Ave(r){let n=Error(`No component factory found for ${Rr(r)}.`);return n[kve]=r,n}var kve="ngComponent";var H_=class{resolveComponentFactory(n){throw Ave(n)}},oy=(()=>{let n=class n{};n.NULL=new H_;let r=n;return r})(),vp=class{},Hu=(()=>{let n=class n{constructor(){this.destroyNode=null}};n.__NG_ELEMENT_ID__=()=>Tve();let r=n;return r})();function Tve(){let r=Vt(),n=Co(),i=ka(n.index,r);return(Ll(i)?i:r)[Bn]}var Mve=(()=>{let n=class n{};n.\u0275prov=Ge({token:n,providedIn:"root",factory:()=>null});let r=n;return r})(),o_={};var I2=new Set;function Kx(r){I2.has(r)||(I2.add(r),performance?.mark?.("mark_feature_usage",{detail:{feature:r}}))}function A2(...r){}function Nve(){let r=typeof vo.requestAnimationFrame=="function",n=vo[r?"requestAnimationFrame":"setTimeout"],i=vo[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&i){let a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);let c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}var cn=class r{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ve(!1),this.onMicrotaskEmpty=new ve(!1),this.onStable=new ve(!1),this.onError=new ve(!1),typeof Zone>"u")throw new He(908,!1);Zone.assertZonePatched();let c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&i,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=Nve().nativeRequestAnimationFrame,Pve(c)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!r.isInAngularZone())throw new He(909,!1)}static assertNotInAngularZone(){if(r.isInAngularZone())throw new He(909,!1)}run(n,i,a){return this._inner.run(n,i,a)}runTask(n,i,a,c){let f=this._inner,h=f.scheduleEventTask("NgZoneEvent: "+c,n,Rve,A2,A2);try{return f.runTask(h,i,a)}finally{f.cancelTask(h)}}runGuarded(n,i,a){return this._inner.runGuarded(n,i,a)}runOutsideAngular(n){return this._outer.run(n)}},Rve={};function Yx(r){if(r._nesting==0&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Ove(r){r.isCheckStableRunning||r.lastRequestAnimationFrameId!==-1||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(vo,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,z_(r),r.isCheckStableRunning=!0,Yx(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),z_(r))}function Pve(r){let n=()=>{Ove(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,c,f,h,g)=>{if(Fve(g))return i.invokeTask(c,f,h,g);try{return k2(r),i.invokeTask(c,f,h,g)}finally{(r.shouldCoalesceEventChangeDetection&&f.type==="eventTask"||r.shouldCoalesceRunChangeDetection)&&n(),T2(r)}},onInvoke:(i,a,c,f,h,g,y)=>{try{return k2(r),i.invoke(c,f,h,g,y)}finally{r.shouldCoalesceRunChangeDetection&&n(),T2(r)}},onHasTask:(i,a,c,f)=>{i.hasTask(c,f),a===c&&(f.change=="microTask"?(r._hasPendingMicrotasks=f.microTask,z_(r),Yx(r)):f.change=="macroTask"&&(r.hasPendingMacrotasks=f.macroTask))},onHandleError:(i,a,c,f)=>(i.handleError(c,f),r.runOutsideAngular(()=>r.onError.emit(f)),!1)})}function z_(r){r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&r.lastRequestAnimationFrameId!==-1?r.hasPendingMicrotasks=!0:r.hasPendingMicrotasks=!1}function k2(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function T2(r){r._nesting--,Yx(r)}function Fve(r){return!Array.isArray(r)||r.length!==1?!1:r[0].data?.__ignore_ng_zone__===!0}var ku=function(r){return r[r.EarlyRead=0]="EarlyRead",r[r.Write=1]="Write",r[r.MixedReadWrite=2]="MixedReadWrite",r[r.Read=3]="Read",r}(ku||{}),Lve={destroy(){}};function sy(r,n){!n&&Uhe(sy);let i=n?.injector??xe(Li);if(!hge(i))return Lve;Kx("NgAfterNextRender");let a=i.get(Zx),c=a.handler??=new q_,f=n?.phase??ku.MixedReadWrite,h=()=>{c.unregister(y),g()},g=i.get(Nx).onDestroy(h),y=Oi(i,()=>new W_(f,()=>{h(),r()}));return c.register(y),{destroy:h}}var W_=class{constructor(n,i){this.phase=n,this.callbackFn=i,this.zone=xe(cn),this.errorHandler=xe(Js,{optional:!0}),xe(Fv,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}},q_=class{constructor(){this.executingCallbacks=!1,this.buckets={[ku.EarlyRead]:new Set,[ku.Write]:new Set,[ku.MixedReadWrite]:new Set,[ku.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(let n of Object.values(this.buckets))for(let i of n)i.invoke();this.executingCallbacks=!1;for(let n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(let n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}},Zx=(()=>{let n=class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let c of a)c()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};n.\u0275prov=Ge({token:n,providedIn:"root",factory:()=>new n});let r=n;return r})();function G_(r,n,i){let a=i?r.styles:null,c=i?r.classes:null,f=0;if(n!==null)for(let h=0;h<n.length;h++){let g=n[h];if(typeof g=="number")f=g;else if(f==1)c=JV(c,g);else if(f==2){let y=g,w=n[++h];a=JV(a,y+": "+w+";")}}i?r.styles=a:r.stylesWithoutHost=a,i?r.classes=c:r.classesWithoutHost=c}var Bv=class extends oy{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let i=Sa(n);return new Lu(i,this.ngModule)}};function M2(r){let n=[];for(let i in r){if(!r.hasOwnProperty(i))continue;let a=r[i];a!==void 0&&n.push({propName:Array.isArray(a)?a[0]:a,templateName:i})}return n}function Bve(r){let n=r.toLowerCase();return n==="svg"?w$:n==="math"?Khe:null}var K_=class{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,a){a=zv(a);let c=this.injector.get(n,o_,a);return c!==o_||i===o_?c:this.parentInjector.get(n,i,a)}},Lu=class extends Lv{get inputs(){let n=this.componentDef,i=n.inputTransforms,a=M2(n.inputs);if(i!==null)for(let c of a)i.hasOwnProperty(c.propName)&&(c.transform=i[c.propName]);return a}get outputs(){return M2(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=She(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,a,c){let f=Bt(null);try{c=c||this.ngModule;let h=c instanceof Gr?c:c?.injector;h&&this.componentDef.getStandaloneInjector!==null&&(h=this.componentDef.getStandaloneInjector(h)||h);let g=h?new K_(n,h):n,y=g.get(vp,null);if(y===null)throw new He(407,!1);let w=g.get(Mve,null),_=g.get(Zx,null),k=g.get(Fv,null),V={rendererFactory:y,sanitizer:w,inlineEffectRunner:null,afterRenderEventManager:_,changeDetectionScheduler:k},$=y.createRenderer(null,this.componentDef),oe=this.componentDef.selectors[0][0]||"div",ue=a?$ge($,a,this.componentDef.encapsulation,g):mj($,oe,Bve(oe)),Ee=512;this.componentDef.signals?Ee|=4096:this.componentDef.onPush||(Ee|=16);let _e=null;ue!==null&&(_e=Fx(ue,g,!0));let te=Ux(0,null,null,1,0,null,null,null,null,null,null),Fe=ty(null,te,null,Ee,null,null,V,$,g,null,_e);Sx(Fe);let Le,Ie;try{let ke=this.componentDef,et,Ke=null;ke.findHostDirectiveDefs?(et=[],Ke=new Map,ke.findHostDirectiveDefs(ke,et,Ke),et.push(ke)):et=[ke];let $e=Vve(Fe,ue),G=$ve($e,ue,ke,et,Fe,V,$);Ie=D$(te,Qs),ue&&Hve($,ke,ue,a),i!==void 0&&zve(Ie,this.ngContentSelectors,i),Le=Uve(G,ke,et,Ke,Fe,[Wve]),Wx(te,Fe,null)}finally{Ix()}return new Y_(this.componentType,Le,Uu(Ie,Fe),Fe,Ie)}finally{Bt(f)}}},Y_=class extends U_{constructor(n,i,a,c,f){super(),this.location=a,this._rootLView=c,this._tNode=f,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new ql(c,void 0,!1),this.componentType=n}setInput(n,i){let a=this._tNode.inputs,c;if(a!==null&&(c=a[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;let f=this._rootLView;zx(f[yt],f,c,n,i),this.previousInputValues.set(n,i);let h=ka(this._tNode.index,f);qx(h)}}get injector(){return new Bl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function Vve(r,n){let i=r[yt],a=Qs;return r[a]=n,ny(i,a,2,"#host",null)}function $ve(r,n,i,a,c,f,h){let g=c[yt];jve(a,r,n,h);let y=null;n!==null&&(y=Fx(n,c[Pu]));let w=f.rendererFactory.createRenderer(n,i),_=16;i.signals?_=4096:i.onPush&&(_=64);let k=ty(c,Mj(i),null,_,c[r.index],r,f,w,null,null,y);return g.firstCreatePass&&V_(g,r,a.length-1),ry(c,k),c[r.index]=k}function jve(r,n,i,a){for(let c of r)n.mergedAttrs=dp(n.mergedAttrs,c.hostAttrs);n.mergedAttrs!==null&&(G_(n,n.mergedAttrs,!0),i!==null&&Ej(a,i,n))}function Uve(r,n,i,a,c,f){let h=Co(),g=c[yt],y=jo(h,c);Rj(g,c,h,i,null,a);for(let _=0;_<i.length;_++){let k=h.directiveStart+_,V=zl(c,g,k,h);Wl(V,c)}Oj(g,c,h),y&&Wl(y,c);let w=zl(c,g,h.directiveStart+h.componentOffset,h);if(r[ps]=c[ps]=w,f!==null)for(let _ of f)_(w,n);return Aj(g,h,c),w}function Hve(r,n,i,a){if(a)m_(r,i,["ng-version","17.3.12"]);else{let{attrs:c,classes:f}=Ihe(n.selectors[0]);c&&m_(r,i,c),f&&f.length>0&&wj(r,i,f.join(" "))}}function zve(r,n,i){let a=r.projection=[];for(let c=0;c<n.length;c++){let f=i[c];a.push(f!=null?Array.from(f):null)}}function Wve(){let r=Co();Tx(Vt()[yt],r)}var Ra=(()=>{let n=class n{};n.__NG_ELEMENT_ID__=qve;let r=n;return r})();function qve(){let r=Co();return Gj(r,Vt())}var Gve=Ra,qj=class extends Gve{constructor(n,i,a){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=a}get element(){return Uu(this._hostTNode,this._hostLView)}get injector(){return new Bl(this._hostTNode,this._hostLView)}get parentInjector(){let n=Mx(this._hostTNode,this._hostLView);if(L$(n)){let i=Mv(n,this._hostLView),a=Tv(n),c=i[yt].data[a+8];return new Bl(c,i)}else return new Bl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let i=N2(this._lContainer);return i!==null&&i[n]||null}get length(){return this._lContainer.length-yo}createEmbeddedView(n,i,a){let c,f;typeof a=="number"?c=a:a!=null&&(c=a.index,f=a.injector);let h=S2(this._lContainer,n.ssrId),g=n.createEmbeddedViewImpl(i||{},f,h);return this.insertImpl(g,c,x2(this._hostTNode,h)),g}createComponent(n,i,a,c,f){let h=n&&!Hhe(n),g;if(h)g=i;else{let oe=i||{};g=oe.index,a=oe.injector,c=oe.projectableNodes,f=oe.environmentInjector||oe.ngModuleRef}let y=h?n:new Lu(Sa(n)),w=a||this.parentInjector;if(!f&&y.ngModule==null){let ue=(h?w:this.parentInjector).get(Gr,null);ue&&(f=ue)}let _=Sa(y.componentType??{}),k=S2(this._lContainer,_?.id??null),V=k?.firstChild??null,$=y.create(w,c,V,f);return this.insertImpl($.hostView,g,x2(this._hostTNode,k)),$}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,a){let c=n._lView;if(Jhe(c)){let g=this.indexOf(n);if(g!==-1)this.detach(g);else{let y=c[mr],w=new qj(y,y[ms],y[mr]);w.detach(w.indexOf(n))}}let f=this._adjustIndex(i),h=this._lContainer;return pve(h,c,f,a),n.attachToViewContainerRef(),Q2(s_(h),f,n),n}move(n,i){return this.insert(n,i)}indexOf(n){let i=N2(this._lContainer);return i!==null?i.indexOf(n):-1}remove(n){let i=this._adjustIndex(n,-1),a=L_(this._lContainer,i);a&&(xv(s_(this._lContainer),i),yj(a[yt],a))}detach(n){let i=this._adjustIndex(n,-1),a=L_(this._lContainer,i);return a&&xv(s_(this._lContainer),i)!=null?new ql(a):null}_adjustIndex(n,i=0){return n??this.length+i}};function N2(r){return r[Av]}function s_(r){return r[Av]||(r[Av]=[])}function Gj(r,n){let i,a=n[r.index];return Fi(a)?i=a:(i=Pj(a,n,null,r),n[r.index]=i,ry(n,i)),Yve(i,n,r,a),new qj(i,r,n)}function Kve(r,n){let i=r[Bn],a=i.createComment(""),c=jo(n,r),f=Vx(i,c);return Ov(i,f,a,Age(i,c),!1),a}var Yve=Xve,Zve=()=>!1;function Qve(r,n,i){return Zve(r,n,i)}function Xve(r,n,i,a){if(r[jl])return;let c;i.type&8?c=Xs(a):c=Kve(n,i),r[jl]=c}var Z_=class r{constructor(n){this.queryList=n,this.matches=null}clone(){return new r(this.queryList)}setDirty(){this.queryList.setDirty()}},Q_=class r{constructor(n=[]){this.queries=n}createEmbeddedView(n){let i=n.queries;if(i!==null){let a=n.contentQueries!==null?n.contentQueries[0]:i.length,c=[];for(let f=0;f<a;f++){let h=i.getByIndex(f),g=this.queries[h.indexInDeclarationView];c.push(g.clone())}return new r(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)Qx(n,i).matches!==null&&this.queries[i].setDirty()}},X_=class{constructor(n,i,a=null){this.flags=i,this.read=a,typeof n=="string"?this.predicate=iye(n):this.predicate=n}},J_=class r{constructor(n=[]){this.queries=n}elementStart(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let a=0;a<this.length;a++){let c=i!==null?i.length:0,f=this.getByIndex(a).embeddedTView(n,c);f&&(f.indexInDeclarationView=a,i!==null?i.push(f):i=[f])}return i!==null?new r(i):null}template(n,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},ex=class r{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new r(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let i=this._declarationNodeIndex,a=n.parent;for(;a!==null&&a.type&8&&a.index!==i;)a=a.parent;return i===(a!==null?a.index:-1)}return this._appliesToNextNode}matchTNode(n,i){let a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){let f=a[c];this.matchTNodeWithReadOption(n,i,Jve(i,f)),this.matchTNodeWithReadOption(n,i,Cv(i,n,f,!1,!1))}else a===Gl?i.type&4&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Cv(i,n,a,!1,!1))}matchTNodeWithReadOption(n,i,a){if(a!==null){let c=this.metadata.read;if(c!==null)if(c===Uo||c===Ra||c===Gl&&i.type&4)this.addMatch(i.index,-2);else{let f=Cv(i,n,c,!1,!1);f!==null&&this.addMatch(i.index,f)}else this.addMatch(i.index,a)}}addMatch(n,i){this.matches===null?this.matches=[n,i]:this.matches.push(n,i)}};function Jve(r,n){let i=r.localNames;if(i!==null){for(let a=0;a<i.length;a+=2)if(i[a]===n)return i[a+1]}return null}function eye(r,n){return r.type&11?Uu(r,n):r.type&4?Gx(r,n):null}function tye(r,n,i,a){return i===-1?eye(n,r):i===-2?nye(r,n,a):zl(r,r[yt],i,n)}function nye(r,n,i){if(i===Uo)return Uu(n,r);if(i===Gl)return Gx(n,r);if(i===Ra)return Gj(n,r)}function Kj(r,n,i,a){let c=n[Ai].queries[a];if(c.matches===null){let f=r.data,h=i.matches,g=[];for(let y=0;h!==null&&y<h.length;y+=2){let w=h[y];if(w<0)g.push(null);else{let _=f[w];g.push(tye(n,_,h[y+1],i.metadata.read))}}c.matches=g}return c.matches}function tx(r,n,i,a){let c=r.queries.getByIndex(i),f=c.matches;if(f!==null){let h=Kj(r,n,c,i);for(let g=0;g<f.length;g+=2){let y=f[g];if(y>0)a.push(h[g/2]);else{let w=f[g+1],_=n[-y];for(let k=yo;k<_.length;k++){let V=_[k];V[Dp]===V[mr]&&tx(V[yt],V,w,a)}if(_[Fu]!==null){let k=_[Fu];for(let V=0;V<k.length;V++){let $=k[V];tx($[yt],$,w,a)}}}}}return a}function rye(r,n){return r[Ai].queries[n].queryList}function oye(r,n,i){let a=new I_((i&4)===4);return Hge(r,n,a,a.destroy),(n[Ai]??=new Q_).queries.push(new Z_(a))-1}function sye(r,n,i){let a=gr();return a.firstCreatePass&&(aye(a,new X_(r,n,i),-1),(n&2)===2&&(a.staticViewQueries=!0)),oye(a,Vt(),n)}function iye(r){return r.split(",").map(n=>n.trim())}function aye(r,n,i){r.queries===null&&(r.queries=new J_),r.queries.track(new ex(n,i))}function Qx(r,n){return r.queries.getByIndex(n)}function lye(r,n){let i=r[yt],a=Qx(i,n);return a.crossesNgTemplate?tx(i,r,n,[]):Kj(i,r,a,n)}function cye(r){return typeof r=="function"&&r[AD]!==void 0}function Yj(r){return cye(r)&&typeof r.set=="function"}function uye(r){return Object.getPrototypeOf(r.prototype).constructor}function vs(r){let n=uye(r.type),i=!0,a=[r];for(;n;){let c;if(Ia(r))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new He(903,!1);c=n.\u0275dir}if(c){if(i){a.push(c);let h=r;h.inputs=mv(r.inputs),h.inputTransforms=mv(r.inputTransforms),h.declaredInputs=mv(r.declaredInputs),h.outputs=mv(r.outputs);let g=c.hostBindings;g&&mye(r,g);let y=c.viewQuery,w=c.contentQueries;if(y&&pye(r,y),w&&hye(r,w),dye(r,c),Wpe(r.outputs,c.outputs),Ia(c)&&c.data.animation){let _=r.data;_.animation=(_.animation||[]).concat(c.data.animation)}}let f=c.features;if(f)for(let h=0;h<f.length;h++){let g=f[h];g&&g.ngInherit&&g(r),g===vs&&(i=!1)}}n=Object.getPrototypeOf(n)}fye(a)}function dye(r,n){for(let i in n.inputs){if(!n.inputs.hasOwnProperty(i)||r.inputs.hasOwnProperty(i))continue;let a=n.inputs[i];if(a!==void 0&&(r.inputs[i]=a,r.declaredInputs[i]=n.declaredInputs[i],n.inputTransforms!==null)){let c=Array.isArray(a)?a[0]:a;if(!n.inputTransforms.hasOwnProperty(c))continue;r.inputTransforms??={},r.inputTransforms[c]=n.inputTransforms[c]}}}function fye(r){let n=0,i=null;for(let a=r.length-1;a>=0;a--){let c=r[a];c.hostVars=n+=c.hostVars,c.hostAttrs=dp(c.hostAttrs,i=dp(i,c.hostAttrs))}}function mv(r){return r===Nu?{}:r===$o?[]:r}function pye(r,n){let i=r.viewQuery;i?r.viewQuery=(a,c)=>{n(a,c),i(a,c)}:r.viewQuery=n}function hye(r,n){let i=r.contentQueries;i?r.contentQueries=(a,c,f)=>{n(a,c,f),i(a,c,f)}:r.contentQueries=n}function mye(r,n){let i=r.hostBindings;i?r.hostBindings=(a,c)=>{n(a,c),i(a,c)}:r.hostBindings=n}var Aa=class{},yp=class{};var nx=class extends Aa{constructor(n,i,a){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bv(this);let c=i$(n);this._bootstrapComponents=hj(c.bootstrap),this._r3Injector=q$(n,i,[{provide:Aa,useValue:this},{provide:oy,useValue:this.componentFactoryResolver},...a],Rr(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},rx=class extends yp{constructor(n){super(),this.moduleType=n}create(n){return new nx(this.moduleType,n,[])}};var Vv=class extends Aa{constructor(n){super(),this.componentFactoryResolver=new Bv(this),this.instance=null;let i=new fp([...n.providers,{provide:Aa,useValue:this},{provide:oy,useValue:this.componentFactoryResolver}],n.parent||Cx(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function iy(r,n,i=null){return new Vv({providers:r,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}var ay=(()=>{let n=class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new zn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();function Zj(r){return vye(r)?Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r:!1}function gye(r,n){if(Array.isArray(r))for(let i=0;i<r.length;i++)n(r[i]);else{let i=r[Symbol.iterator](),a;for(;!(a=i.next()).done;)n(a.value)}}function vye(r){return r!==null&&(typeof r=="function"||typeof r=="object")}function yye(r,n,i){return r[n]=i}function Kl(r,n,i){let a=r[n];return Object.is(a,i)?!1:(r[n]=i,!0)}function bye(r,n,i,a){let c=Kl(r,n,i);return Kl(r,n+1,a)||c}function Cye(r){return(r.flags&32)===32}function wye(r,n,i,a,c,f,h,g,y){let w=n.consts,_=ny(n,r,4,h||null,kv(w,g));Nj(n,i,_,kv(w,y)),Tx(n,_);let k=_.tView=Ux(2,_,a,c,f,n.directiveRegistry,n.pipeRegistry,null,n.schemas,w,null);return n.queries!==null&&(n.queries.template(n,_),k.queries=n.queries.embeddedTView(_)),_}function Yt(r,n,i,a,c,f,h,g){let y=Vt(),w=gr(),_=r+Qs,k=w.firstCreatePass?wye(_,w,y,n,i,a,c,f,h):w.data[_];_p(k,!1);let V=Eye(w,y,k,r);Ax()&&$x(w,y,V,k),Wl(V,y);let $=Pj(V,y,V,k);return y[_]=$,ry(y,$),Qve($,k,y),Ex(k)&&kj(w,y,k),h!=null&&Tj(y,k,g),Yt}var Eye=Dye;function Dye(r,n,i,a){return kx(!0),n[Bn].createComment("")}function ly(r,n,i,a){let c=Vt(),f=Zv();if(Kl(c,f,n)){let h=gr(),g=Qv();ove(g,c,r,n,i,a)}return ly}function Qj(r,n,i,a){return Kl(r,Zv(),i)?n+wp(i)+a:Na}function gv(r,n){return r<<17|n<<2}function Yl(r){return r>>17&32767}function _ye(r){return(r&2)==2}function xye(r,n){return r&131071|n<<17}function ox(r){return r|2}function Bu(r){return(r&131068)>>2}function i_(r,n){return r&-131069|n<<2}function Sye(r){return(r&1)===1}function sx(r){return r|1}function Iye(r,n,i,a,c,f){let h=f?n.classBindings:n.styleBindings,g=Yl(h),y=Bu(h);r[a]=i;let w=!1,_;if(Array.isArray(i)){let k=i;_=k[1],(_===null||Ep(k,_)>0)&&(w=!0)}else _=i;if(c)if(y!==0){let V=Yl(r[g+1]);r[a+1]=gv(V,g),V!==0&&(r[V+1]=i_(r[V+1],a)),r[g+1]=xye(r[g+1],a)}else r[a+1]=gv(g,0),g!==0&&(r[g+1]=i_(r[g+1],a)),g=a;else r[a+1]=gv(y,0),g===0?g=a:r[y+1]=i_(r[y+1],a),y=a;w&&(r[a+1]=ox(r[a+1])),R2(r,_,a,!0),R2(r,_,a,!1),Aye(n,_,r,a,f),h=gv(g,y),f?n.classBindings=h:n.styleBindings=h}function Aye(r,n,i,a,c){let f=c?r.residualClasses:r.residualStyles;f!=null&&typeof n=="string"&&Ep(f,n)>=0&&(i[a+1]=sx(i[a+1]))}function R2(r,n,i,a){let c=r[i+1],f=n===null,h=a?Yl(c):Bu(c),g=!1;for(;h!==0&&(g===!1||f);){let y=r[h],w=r[h+1];kye(y,n)&&(g=!0,r[h+1]=a?sx(w):ox(w)),h=a?Yl(w):Bu(w)}g&&(r[i+1]=a?ox(c):sx(c))}function kye(r,n){return r===null||n==null||(Array.isArray(r)?r[1]:r)===n?!0:Array.isArray(r)&&typeof n=="string"?Ep(r,n)>=0:!1}function nt(r,n,i){let a=Vt(),c=Zv();if(Kl(a,c,n)){let f=gr(),h=Qv();Hx(f,h,a,r,n,a[Bn],i,!1)}return nt}function O2(r,n,i,a,c){let f=n.inputs,h=c?"class":"style";zx(r,i,f[h],h,a)}function cy(r,n){return Tye(r,n,null,!0),cy}function Tye(r,n,i,a){let c=Vt(),f=gr(),h=pme(2);if(f.firstUpdatePass&&Nye(f,r,h,a),n!==Na&&Kl(c,h,n)){let g=f.data[$u()];Lye(f,g,c,c[Bn],r,c[h+1]=Bye(n,i),a,h)}}function Mye(r,n){return n>=r.expandoStartIndex}function Nye(r,n,i,a){let c=r.data;if(c[i+1]===null){let f=c[$u()],h=Mye(r,i);Vye(f,a)&&n===null&&!h&&(n=!1),n=Rye(c,f,n,a),Iye(c,f,n,i,h,a)}}function Rye(r,n,i,a){let c=vme(r),f=a?n.residualClasses:n.residualStyles;if(c===null)(a?n.classBindings:n.styleBindings)===0&&(i=a_(null,r,n,i,a),i=bp(i,n.attrs,a),f=null);else{let h=n.directiveStylingLast;if(h===-1||r[h]!==c)if(i=a_(c,r,n,i,a),f===null){let y=Oye(r,n,a);y!==void 0&&Array.isArray(y)&&(y=a_(null,r,n,y[1],a),y=bp(y,n.attrs,a),Pye(r,n,a,y))}else f=Fye(r,n,a)}return f!==void 0&&(a?n.residualClasses=f:n.residualStyles=f),i}function Oye(r,n,i){let a=i?n.classBindings:n.styleBindings;if(Bu(a)!==0)return r[Yl(a)]}function Pye(r,n,i,a){let c=i?n.classBindings:n.styleBindings;r[Yl(c)]=a}function Fye(r,n,i){let a,c=n.directiveEnd;for(let f=1+n.directiveStylingLast;f<c;f++){let h=r[f].hostAttrs;a=bp(a,h,i)}return bp(a,n.attrs,i)}function a_(r,n,i,a,c){let f=null,h=i.directiveEnd,g=i.directiveStylingLast;for(g===-1?g=i.directiveStart:g++;g<h&&(f=n[g],a=bp(a,f.hostAttrs,c),f!==r);)g++;return r!==null&&(i.directiveStylingLast=g),a}function bp(r,n,i){let a=i?1:2,c=-1;if(n!==null)for(let f=0;f<n.length;f++){let h=n[f];typeof h=="number"?c=h:c===a&&(Array.isArray(r)||(r=r===void 0?[]:["",r]),phe(r,h,i?!0:n[++f]))}return r===void 0?null:r}function Lye(r,n,i,a,c,f,h,g){if(!(n.type&3))return;let y=r.data,w=y[g+1],_=Sye(w)?P2(y,n,i,c,Bu(w),h):void 0;if(!$v(_)){$v(f)||_ye(w)&&(f=P2(y,null,i,c,g,h));let k=E$($u(),i);Pge(a,h,k,c,f)}}function P2(r,n,i,a,c,f){let h=n===null,g;for(;c>0;){let y=r[c],w=Array.isArray(y),_=w?y[1]:y,k=_===null,V=i[c+1];V===Na&&(V=k?$o:void 0);let $=k?ZD(V,a):_===a?V:void 0;if(w&&!$v($)&&($=ZD(y,a)),$v($)&&(g=$,h))return g;let oe=r[c+1];c=h?Yl(oe):Bu(oe)}if(n!==null){let y=f?n.residualClasses:n.residualStyles;y!=null&&(g=ZD(y,a))}return g}function $v(r){return r!==void 0}function Bye(r,n){return r==null||r===""||(typeof n=="string"?r=r+n:typeof r=="object"&&(r=Rr(ni(r)))),r}function Vye(r,n){return(r.flags&(n?8:16))!==0}function $ye(r,n,i,a,c,f){let h=n.consts,g=kv(h,c),y=ny(n,r,2,a,g);return Nj(n,i,y,kv(h,f)),y.attrs!==null&&G_(y,y.attrs,!1),y.mergedAttrs!==null&&G_(y,y.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,y),y}function K(r,n,i,a){let c=Vt(),f=gr(),h=Qs+r,g=c[Bn],y=f.firstCreatePass?$ye(h,f,c,n,i,a):f.data[h],w=jye(f,c,y,g,n,r);c[h]=w;let _=Ex(y);return _p(y,!0),Ej(g,w,y),!Cye(y)&&Ax()&&$x(f,c,w,y),rme()===0&&Wl(w,c),ome(),_&&(kj(f,c,y),Aj(f,y,c)),a!==null&&Tj(c,y),K}function Y(){let r=Co();A$()?ume():(r=r.parent,_p(r,!1));let n=r;ame(n)&&lme(),sme();let i=gr();return i.firstCreatePass&&(Tx(i,r),g$(r)&&i.queries.elementEnd(r)),n.classesWithoutHost!=null&&xme(n)&&O2(i,n,Vt(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Sme(n)&&O2(i,n,Vt(),n.stylesWithoutHost,!1),Y}function Xe(r,n,i,a){return K(r,n,i,a),Y(),Xe}var jye=(r,n,i,a,c,f)=>(kx(!0),mj(a,c,wme()));function ys(){return Vt()}var Fl=void 0;function Uye(r){let n=r,i=Math.floor(Math.abs(r)),a=r.toString().replace(/^[^.]*\.?/,"").length;return i===1&&a===0?1:5}var Hye=["en",[["a","p"],["AM","PM"],Fl],[["AM","PM"],Fl,Fl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fl,"{1} 'at' {0}",Fl],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Uye],l_={};function Ho(r){let n=zye(r),i=F2(n);if(i)return i;let a=n.split("-")[0];if(i=F2(a),i)return i;if(a==="en")return Hye;throw new He(701,!1)}function F2(r){return r in l_||(l_[r]=vo.ng&&vo.ng.common&&vo.ng.common.locales&&vo.ng.common.locales[r]),l_[r]}var Tn=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(Tn||{});function zye(r){return r.toLowerCase().replace(/_/g,"-")}var jv="en-US";var Wye=jv;function qye(r){typeof r=="string"&&(Wye=r.toLowerCase().replace(/_/g,"-"))}function Tt(r,n,i,a){let c=Vt(),f=gr(),h=Co();return Xj(f,c,c[Bn],h,r,n,a),Tt}function Gye(r,n,i,a){let c=r.cleanup;if(c!=null)for(let f=0;f<c.length-1;f+=2){let h=c[f];if(h===i&&c[f+1]===a){let g=n[pp],y=c[f+2];return g.length>y?g[y]:null}typeof h=="string"&&(f+=2)}return null}function Xj(r,n,i,a,c,f,h){let g=Ex(a),w=r.firstCreatePass&&Bj(r),_=n[ps],k=Lj(n),V=!0;if(a.type&3||h){let ue=jo(a,n),Ee=h?h(ue):ue,_e=k.length,te=h?Le=>h(Xs(Le[a.index])):a.index,Fe=null;if(!h&&g&&(Fe=Gye(r,n,c,a.index)),Fe!==null){let Le=Fe.__ngLastListenerFn__||Fe;Le.__ngNextListenerFn__=f,Fe.__ngLastListenerFn__=f,V=!1}else{f=B2(a,n,_,f,!1);let Le=i.listen(Ee,c,f);k.push(f,Le),w&&w.push(c,te,_e,_e+1)}}else f=B2(a,n,_,f,!1);let $=a.outputs,oe;if(V&&$!==null&&(oe=$[c])){let ue=oe.length;if(ue)for(let Ee=0;Ee<ue;Ee+=2){let _e=oe[Ee],te=oe[Ee+1],Ie=n[_e][te].subscribe(f),ke=k.length;k.push(f,Ie),w&&w.push(c,a.index,ke,-(ke+1))}}}function L2(r,n,i,a){let c=Bt(null);try{return Gs(6,n,i),i(a)!==!1}catch(f){return Vj(r,f),!1}finally{Gs(7,n,i),Bt(c)}}function B2(r,n,i,a,c){return function f(h){if(h===Function)return a;let g=r.componentOffset>-1?ka(r.index,n):n;qx(g);let y=L2(n,i,a,h),w=f.__ngNextListenerFn__;for(;w;)y=L2(n,i,w,h)&&y,w=w.__ngNextListenerFn__;return c&&y===!1&&h.preventDefault(),y}}function Ct(r=1){return bme(r)}function Eo(r,n,i){return Zl(r,"",n,"",i),Eo}function Zl(r,n,i,a,c){let f=Vt(),h=Qj(f,n,i,a);if(h!==Na){let g=gr(),y=Qv();Hx(g,y,f,r,h,f[Bn],c,!1)}return Zl}function Jj(r,n,i){sye(r,n,i)}function Xx(r){let n=Vt(),i=gr(),a=k$();xx(a+1);let c=Qx(i,a);if(r.dirty&&Xhe(n)===((c.metadata.flags&2)===2)){if(c.matches===null)r.reset([]);else{let f=lye(n,a);r.reset(f,Bme),r.notifyOnChanges()}return!0}return!1}function Jx(){return rye(Vt(),k$())}function Kye(r,n,i,a){i>=r.data.length&&(r.data[i]=null,r.blueprint[i]=null),n[i]=a}function le(r,n=""){let i=Vt(),a=gr(),c=r+Qs,f=a.firstCreatePass?ny(a,c,1,n,null):a.data[c],h=Yye(a,i,f,n,r);i[c]=h,Ax()&&$x(a,i,h,f),_p(f,!1)}var Yye=(r,n,i,a,c)=>(kx(!0),gge(n[Bn],a));function en(r){return Do("",r,""),en}function Do(r,n,i){let a=Vt(),c=Qj(a,r,n,i);return c!==Na&&lve(a,$u(),c),Do}function Wn(r,n,i){Yj(n)&&(n=n());let a=Vt(),c=Zv();if(Kl(a,c,n)){let f=gr(),h=Qv();Hx(f,h,a,r,n,a[Bn],i,!1)}return Wn}function ar(r,n){let i=Yj(r);return i&&r.set(n),i}function qn(r,n){let i=Vt(),a=gr(),c=Co();return Xj(a,i,i[Bn],c,r,n),qn}function Zye(r,n,i){let a=gr();if(a.firstCreatePass){let c=Ia(r);ix(i,a.data,a.blueprint,c,!0),ix(n,a.data,a.blueprint,c,!1)}}function ix(r,n,i,a,c){if(r=Nr(r),Array.isArray(r))for(let f=0;f<r.length;f++)ix(r[f],n,i,a,c);else{let f=gr(),h=Vt(),g=Co(),y=Ou(r)?r:Nr(r.provide),w=f$(r),_=g.providerIndexes&1048575,k=g.directiveStart,V=g.providerIndexes>>20;if(Ou(r)||!r.multi){let $=new Hl(w,c,Re),oe=u_(y,n,c?_:_+V,k);oe===-1?(D_(Rv(g,h),f,y),c_(f,r,n.length),n.push(y),g.directiveStart++,g.directiveEnd++,c&&(g.providerIndexes+=1048576),i.push($),h.push($)):(i[oe]=$,h[oe]=$)}else{let $=u_(y,n,_+V,k),oe=u_(y,n,_,_+V),ue=$>=0&&i[$],Ee=oe>=0&&i[oe];if(c&&!Ee||!c&&!ue){D_(Rv(g,h),f,y);let _e=Jye(c?Xye:Qye,i.length,c,a,w);!c&&Ee&&(i[oe].providerFactory=_e),c_(f,r,n.length,0),n.push(y),g.directiveStart++,g.directiveEnd++,c&&(g.providerIndexes+=1048576),i.push(_e),h.push(_e)}else{let _e=eU(i[c?oe:$],w,!c&&a);c_(f,r,$>-1?$:oe,_e)}!c&&a&&Ee&&i[oe].componentProviders++}}}function c_(r,n,i,a){let c=Ou(n),f=Phe(n);if(c||f){let y=(f?Nr(n.useClass):n).prototype.ngOnDestroy;if(y){let w=r.destroyHooks||(r.destroyHooks=[]);if(!c&&n.multi){let _=w.indexOf(i);_===-1?w.push(i,[a,y]):w[_+1].push(a,y)}else w.push(i,y)}}}function eU(r,n,i){return i&&r.componentProviders++,r.multi.push(n)-1}function u_(r,n,i,a){for(let c=i;c<a;c++)if(n[c]===r)return c;return-1}function Qye(r,n,i,a){return ax(this.multi,[])}function Xye(r,n,i,a){let c=this.multi,f;if(this.providerFactory){let h=this.providerFactory.componentProviders,g=zl(i,i[yt],this.providerFactory.index,a);f=g.slice(0,h),ax(c,f);for(let y=h;y<g.length;y++)f.push(g[y])}else f=[],ax(c,f);return f}function ax(r,n){for(let i=0;i<r.length;i++){let a=r[i];n.push(a())}return n}function Jye(r,n,i,a,c){let f=new Hl(r,i,Re);return f.multi=[],f.index=n,f.componentProviders=0,eU(f,c,a&&!i),f}function Vi(r,n=[]){return i=>{i.providersResolver=(a,c)=>Zye(a,c?c(r):r,n)}}var ebe=(()=>{let n=class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){let c=c$(!1,a.type),f=c.length>0?iy([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,f)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(let a of this.cachedInjectors.values())a!==null&&a.destroy()}finally{this.cachedInjectors.clear()}}};n.\u0275prov=Ge({token:n,providedIn:"environment",factory:()=>new n(at(Gr))});let r=n;return r})();function xt(r){Kx("NgStandalone"),r.getStandaloneInjector=n=>n.get(ebe).getOrCreateStandaloneInjector(r)}function tbe(r,n){let i=r[n];return i===Na?void 0:i}function nbe(r,n,i,a,c,f,h){let g=n+i;return bye(r,g,c,f)?yye(r,g+2,h?a.call(h,c,f):a(c,f)):tbe(r,g+2)}function zu(r,n){let i=gr(),a,c=r+Qs;i.firstCreatePass?(a=rbe(n,i.pipeRegistry),i.data[c]=a,a.onDestroy&&(i.destroyHooks??=[]).push(c,a.onDestroy)):a=i.data[c];let f=a.factory||(a.factory=Vl(a.type,!0)),h,g=qr(Re);try{let y=Nv(!1),w=f();return Nv(y),Kye(i,Vt(),c,w),w}finally{qr(g)}}function rbe(r,n){if(n)for(let i=n.length-1;i>=0;i--){let a=n[i];if(r===a.name)return a}}function Wu(r,n,i,a){let c=r+Qs,f=Vt(),h=Qhe(f,c);return obe(f,c)?nbe(f,dme(),n,h.transform,i,a,h):h.transform(i,a)}function obe(r,n){return r[yt].data[n].pure}var uy=(()=>{let n=class n{log(a){console.log(a)}warn(a){console.warn(a)}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"platform"});let r=n;return r})();var tU=new tt("");function Ql(r){return!!r&&typeof r.then=="function"}function nU(r){return!!r&&typeof r.subscribe=="function"}var dy=new tt(""),rU=(()=>{let n=class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=xe(dy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let a=[];for(let f of this.appInits){let h=f();if(Ql(h))a.push(h);else if(nU(h)){let g=new Promise((y,w)=>{h.subscribe({complete:y,error:w})});a.push(g)}}let c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(f=>{this.reject(f)}),a.length===0&&c(),this.initialized=!0}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})(),fy=new tt("");function sbe(){SV(()=>{throw new He(600,!1)})}function ibe(r){return r.isBoundToModule}function abe(r,n,i){try{let a=i();return Ql(a)?a.catch(c=>{throw n.runOutsideAngular(()=>r.handleError(c)),c}):a}catch(a){throw n.runOutsideAngular(()=>r.handleError(a)),a}}var Sp=(()=>{let n=class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=xe(G$),this.afterRenderEffectManager=xe(Zx),this.externalTestViews=new Set,this.beforeRender=new kn,this.afterTick=new kn,this.componentTypes=[],this.components=[],this.isStable=xe(ay).hasPendingTasks.pipe(Et(a=>!a)),this._injector=xe(Gr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){let f=a instanceof Lv;if(!this._injector.get(rU).done){let $=!f&&s$(a),oe=!1;throw new He(405,oe)}let g;f?g=a:g=this._injector.get(oy).resolveComponentFactory(a),this.componentTypes.push(g.componentType);let y=ibe(g)?void 0:this._injector.get(Aa),w=c||g.selector,_=g.create(Li.NULL,[],w,y),k=_.location.nativeElement,V=_.injector.get(tU,null);return V?.registerApplication(k),_.onDestroy(()=>{this.detachView(_.hostView),d_(this.components,_),V?.unregisterApplication(k)}),this._loadComponent(_),_}tick(){this._tick(!0)}_tick(a){if(this._runningTick)throw new He(101,!1);let c=Bt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(a)}catch(f){this.internalErrorHandler(f)}finally{this.afterTick.next(),this._runningTick=!1,Bt(c)}}detectChangesInAttachedViews(a){let c=0,f=this.afterRenderEffectManager;for(;;){if(c===jj)throw new He(103,!1);if(a){let h=c===0;this.beforeRender.next(h);for(let{_lView:g,notifyErrorHandler:y}of this._views)lbe(g,h,y)}if(c++,f.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:h})=>lx(h))&&(f.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:h})=>lx(h))))break}}attachView(a){let c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){let c=a;d_(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);let c=this._injector.get(fy,[]);[...this._bootstrapListeners,...c].forEach(f=>f(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>d_(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new He(406,!1);let a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();function d_(r,n){let i=r.indexOf(n);i>-1&&r.splice(i,1)}function lbe(r,n,i){!n&&!lx(r)||cbe(r,i,n)}function lx(r){return _x(r)}function cbe(r,n,i){let a;i?(a=0,r[ot]|=1024):r[ot]&64?a=0:a=1,Uj(r,n,a)}var cx=class{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}},py=(()=>{let n=class n{compileModuleSync(a){return new rx(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){let c=this.compileModuleSync(a),f=i$(a),h=hj(f.declarations).reduce((g,y)=>{let w=Sa(y);return w&&g.push(new Lu(w)),g},[]);return new cx(c,h)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();var ube=(()=>{let n=class n{constructor(){this.zone=xe(cn),this.applicationRef=xe(Sp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();function dbe(r){return[{provide:cn,useFactory:r},{provide:Ru,multi:!0,useFactory:()=>{let n=xe(ube,{optional:!0});return()=>n.initialize()}},{provide:Ru,multi:!0,useFactory:()=>{let n=xe(mbe);return()=>{n.initialize()}}},{provide:G$,useFactory:fbe}]}function fbe(){let r=xe(cn),n=xe(Js);return i=>r.runOutsideAngular(()=>n.handleError(i))}function pbe(r){let n=dbe(()=>new cn(hbe(r)));return qv([[],n])}function hbe(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}var mbe=(()=>{let n=class n{constructor(){this.subscription=new Hn,this.initialized=!1,this.zone=xe(cn),this.pendingTasks=xe(ay)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{cn.assertNotInAngularZone(),queueMicrotask(()=>{a!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{cn.assertInAngularZone(),a??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();function gbe(){return typeof $localize<"u"&&$localize.locale||jv}var hy=new tt("",{providedIn:"root",factory:()=>xe(hy,Dt.Optional|Dt.SkipSelf)||gbe()});var oU=new tt("");var Ev=null;function vbe(r=[],n){return Li.create({name:n,providers:[{provide:Gv,useValue:"platform"},{provide:oU,useValue:new Set([()=>Ev=null])},...r]})}function ybe(r=[]){if(Ev)return Ev;let n=vbe(r);return Ev=n,sbe(),bbe(n),n}function bbe(r){r.get(Ox,null)?.forEach(i=>i())}var $i=(()=>{let n=class n{};n.__NG_ELEMENT_ID__=Cbe;let r=n;return r})();function Cbe(r){return wbe(Co(),Vt(),(r&16)===16)}function wbe(r,n,i){if(Yv(r)&&!i){let a=ka(r.index,n);return new ql(a,a)}else if(r.type&47){let a=n[Zs];return new ql(a,n)}return null}var ux=class{constructor(){}supports(n){return Zj(n)}create(n){return new dx(n)}},Ebe=(r,n)=>n,dx=class{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Ebe}forEachItem(n){let i;for(i=this._itHead;i!==null;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,a=this._removalsHead,c=0,f=null;for(;i||a;){let h=!a||i&&i.currentIndex<V2(a,c,f)?i:a,g=V2(h,c,f),y=h.currentIndex;if(h===a)c--,a=a._nextRemoved;else if(i=i._next,h.previousIndex==null)c++;else{f||(f=[]);let w=g-c,_=y-c;if(w!=_){for(let V=0;V<w;V++){let $=V<f.length?f[V]:f[V]=0,oe=$+V;_<=oe&&oe<w&&(f[V]=$+1)}let k=h.previousIndex;f[k]=_-w}}g!==y&&n(h,g,y)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;i!==null;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;i!==null;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;i!==null;i=i._nextIdentityChange)n(i)}diff(n){if(n==null&&(n=[]),!Zj(n))throw new He(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._itHead,a=!1,c,f,h;if(Array.isArray(n)){this.length=n.length;for(let g=0;g<this.length;g++)f=n[g],h=this._trackByFn(g,f),i===null||!Object.is(i.trackById,h)?(i=this._mismatch(i,f,h,g),a=!0):(a&&(i=this._verifyReinsertion(i,f,h,g)),Object.is(i.item,f)||this._addIdentityChange(i,f)),i=i._next}else c=0,gye(n,g=>{h=this._trackByFn(c,g),i===null||!Object.is(i.trackById,h)?(i=this._mismatch(i,g,h,c),a=!0):(a&&(i=this._verifyReinsertion(i,g,h,c)),Object.is(i.item,g)||this._addIdentityChange(i,g)),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,a,c){let f;return n===null?f=this._itTail:(f=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(a,null),n!==null?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,f,c)):(n=this._linkedRecords===null?null:this._linkedRecords.get(a,c),n!==null?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,f,c)):n=this._addAfter(new fx(i,a),f,c)),n}_verifyReinsertion(n,i,a,c){let f=this._unlinkedRecords===null?null:this._unlinkedRecords.get(a,null);return f!==null?n=this._reinsertAfter(f,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;n!==null;){let i=n._next;this._addToRemovals(this._unlink(n)),n=i}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,a){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let c=n._prevRemoved,f=n._nextRemoved;return c===null?this._removalsHead=f:c._nextRemoved=f,f===null?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(n,i,a),this._addToMoves(n,a),n}_moveAfter(n,i,a){return this._unlink(n),this._insertAfter(n,i,a),this._addToMoves(n,a),n}_addAfter(n,i,a){return this._insertAfter(n,i,a),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,i,a){let c=i===null?this._itHead:i._next;return n._next=c,n._prev=i,c===null?this._itTail=n:c._prev=n,i===null?this._itHead=n:i._next=n,this._linkedRecords===null&&(this._linkedRecords=new Uv),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let i=n._prev,a=n._next;return i===null?this._itHead=a:i._next=a,a===null?this._itTail=i:a._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Uv),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},fx=class{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},px=class{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let a;for(a=this._head;a!==null;a=a._nextDup)if((i===null||i<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){let i=n._prevDup,a=n._nextDup;return i===null?this._head=a:i._nextDup=a,a===null?this._tail=i:a._prevDup=i,this._head===null}},Uv=class{constructor(){this.map=new Map}put(n){let i=n.trackById,a=this.map.get(i);a||(a=new px,this.map.set(i,a)),a.add(n)}get(n,i){let a=n,c=this.map.get(a);return c?c.get(n,i):null}remove(n){let i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function V2(r,n,i){let a=r.previousIndex;if(a===null)return a;let c=0;return i&&a<i.length&&(c=i[a]),a+n+c}function $2(){return new eS([new ux])}var eS=(()=>{let n=class n{constructor(a){this.factories=a}static create(a,c){if(c!=null){let f=c.factories.slice();a=a.concat(f)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||$2()),deps:[[n,new gx,new Wv]]}}find(a){let c=this.factories.find(f=>f.supports(a));if(c!=null)return c;throw new He(901,!1)}};n.\u0275prov=Ge({token:n,providedIn:"root",factory:$2});let r=n;return r})();function sU(r){try{let{rootComponent:n,appProviders:i,platformProviders:a}=r,c=ybe(a),f=[pbe(),...i||[]],g=new Vv({providers:f,parent:c,debugName:"",runEnvironmentInitializers:!1}).injector,y=g.get(cn);return y.run(()=>{g.resolveInjectorInitializers();let w=g.get(Js,null),_;y.runOutsideAngular(()=>{_=y.onError.subscribe({next:$=>{w.handleError($)}})});let k=()=>g.destroy(),V=c.get(oU);return V.add(k),g.onDestroy(()=>{_.unsubscribe(),V.delete(k)}),abe(w,y,()=>{let $=g.get(rU);return $.runInitializers(),$.donePromise.then(()=>{let oe=g.get(hy,jv);qye(oe||jv);let ue=g.get(Sp);return n!==void 0&&ue.bootstrap(n),ue})})})}catch(n){return Promise.reject(n)}}function Ip(r){return typeof r=="boolean"?r:r!=null&&r!=="false"}function iU(r){let n=Sa(r);if(!n)return null;let i=new Lu(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var fU=null;function zi(){return fU}function pU(r){fU??=r}var Dy=class{};var Lr=new tt(""),cS=(()=>{let n=class n{historyGo(a){throw new Error("")}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:()=>xe(xbe),providedIn:"platform"});let r=n;return r})(),hU=new tt(""),xbe=(()=>{let n=class n extends cS{constructor(){super(),this._doc=xe(Lr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zi().getBaseHref(this._doc)}onPopState(a){let c=zi().getGlobalEventTarget(this._doc,"window");return c.addEventListener("popstate",a,!1),()=>c.removeEventListener("popstate",a)}onHashChange(a){let c=zi().getGlobalEventTarget(this._doc,"window");return c.addEventListener("hashchange",a,!1),()=>c.removeEventListener("hashchange",a)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(a){this._location.pathname=a}pushState(a,c,f){this._history.pushState(a,c,f)}replaceState(a,c,f){this._history.replaceState(a,c,f)}forward(){this._history.forward()}back(){this._history.back()}historyGo(a=0){this._history.go(a)}getState(){return this._history.state}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:()=>new n,providedIn:"platform"});let r=n;return r})();function uS(r,n){if(r.length==0)return n;if(n.length==0)return r;let i=0;return r.endsWith("/")&&i++,n.startsWith("/")&&i++,i==2?r+n.substring(1):i==1?r+n:r+"/"+n}function aU(r){let n=r.match(/#|\?|$/),i=n&&n.index||r.length,a=i-(r[i-1]==="/"?1:0);return r.slice(0,a)+r.slice(i)}function Ui(r){return r&&r[0]!=="?"?"?"+r:r}var Xl=(()=>{let n=class n{historyGo(a){throw new Error("")}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:()=>xe(dS),providedIn:"root"});let r=n;return r})(),mU=new tt(""),dS=(()=>{let n=class n extends Xl{constructor(a,c){super(),this._platformLocation=a,this._removeListenerFns=[],this._baseHref=c??this._platformLocation.getBaseHrefFromDOM()??xe(Lr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(a){this._removeListenerFns.push(this._platformLocation.onPopState(a),this._platformLocation.onHashChange(a))}getBaseHref(){return this._baseHref}prepareExternalUrl(a){return uS(this._baseHref,a)}path(a=!1){let c=this._platformLocation.pathname+Ui(this._platformLocation.search),f=this._platformLocation.hash;return f&&a?`${c}${f}`:c}pushState(a,c,f,h){let g=this.prepareExternalUrl(f+Ui(h));this._platformLocation.pushState(a,c,g)}replaceState(a,c,f,h){let g=this.prepareExternalUrl(f+Ui(h));this._platformLocation.replaceState(a,c,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(a=0){this._platformLocation.historyGo?.(a)}};n.\u0275fac=function(c){return new(c||n)(at(cS),at(mU,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})(),gU=(()=>{let n=class n extends Xl{constructor(a,c){super(),this._platformLocation=a,this._baseHref="",this._removeListenerFns=[],c!=null&&(this._baseHref=c)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(a){this._removeListenerFns.push(this._platformLocation.onPopState(a),this._platformLocation.onHashChange(a))}getBaseHref(){return this._baseHref}path(a=!1){let c=this._platformLocation.hash??"#";return c.length>0?c.substring(1):c}prepareExternalUrl(a){let c=uS(this._baseHref,a);return c.length>0?"#"+c:c}pushState(a,c,f,h){let g=this.prepareExternalUrl(f+Ui(h));g.length==0&&(g=this._platformLocation.pathname),this._platformLocation.pushState(a,c,g)}replaceState(a,c,f,h){let g=this.prepareExternalUrl(f+Ui(h));g.length==0&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(a,c,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(a=0){this._platformLocation.historyGo?.(a)}};n.\u0275fac=function(c){return new(c||n)(at(cS),at(mU,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac});let r=n;return r})(),qu=(()=>{let n=class n{constructor(a){this._subject=new ve,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=a;let c=this._locationStrategy.getBaseHref();this._basePath=Abe(aU(lU(c))),this._locationStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(a=!1){return this.normalize(this._locationStrategy.path(a))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(a,c=""){return this.path()==this.normalize(a+Ui(c))}normalize(a){return n.stripTrailingSlash(Ibe(this._basePath,lU(a)))}prepareExternalUrl(a){return a&&a[0]!=="/"&&(a="/"+a),this._locationStrategy.prepareExternalUrl(a)}go(a,c="",f=null){this._locationStrategy.pushState(f,"",a,c),this._notifyUrlChangeListeners(this.prepareExternalUrl(a+Ui(c)),f)}replaceState(a,c="",f=null){this._locationStrategy.replaceState(f,"",a,c),this._notifyUrlChangeListeners(this.prepareExternalUrl(a+Ui(c)),f)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(a=0){this._locationStrategy.historyGo?.(a)}onUrlChange(a){return this._urlChangeListeners.push(a),this._urlChangeSubscription??=this.subscribe(c=>{this._notifyUrlChangeListeners(c.url,c.state)}),()=>{let c=this._urlChangeListeners.indexOf(a);this._urlChangeListeners.splice(c,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(a="",c){this._urlChangeListeners.forEach(f=>f(a,c))}subscribe(a,c,f){return this._subject.subscribe({next:a,error:c,complete:f})}};n.normalizeQueryParams=Ui,n.joinWithSlash=uS,n.stripTrailingSlash=aU,n.\u0275fac=function(c){return new(c||n)(at(Xl))},n.\u0275prov=Ge({token:n,factory:()=>Sbe(),providedIn:"root"});let r=n;return r})();function Sbe(){return new qu(at(Xl))}function Ibe(r,n){if(!r||!n.startsWith(r))return n;let i=n.substring(r.length);return i===""||["/",";","?","#"].includes(i[0])?i:n}function lU(r){return r.replace(/\/index.html$/,"")}function Abe(r){if(new RegExp("^(https?:)?//").test(r)){let[,i]=r.split(/\/\/[^\/]+/);return i}return r}var Fr=function(r){return r[r.Format=0]="Format",r[r.Standalone=1]="Standalone",r}(Fr||{}),tn=function(r){return r[r.Narrow=0]="Narrow",r[r.Abbreviated=1]="Abbreviated",r[r.Wide=2]="Wide",r[r.Short=3]="Short",r}(tn||{}),_o=function(r){return r[r.Short=0]="Short",r[r.Medium=1]="Medium",r[r.Long=2]="Long",r[r.Full=3]="Full",r}(_o||{}),Oa={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function kbe(r){return Ho(r)[Tn.LocaleId]}function Tbe(r,n,i){let a=Ho(r),c=[a[Tn.DayPeriodsFormat],a[Tn.DayPeriodsStandalone]],f=zo(c,n);return zo(f,i)}function Mbe(r,n,i){let a=Ho(r),c=[a[Tn.DaysFormat],a[Tn.DaysStandalone]],f=zo(c,n);return zo(f,i)}function Nbe(r,n,i){let a=Ho(r),c=[a[Tn.MonthsFormat],a[Tn.MonthsStandalone]],f=zo(c,n);return zo(f,i)}function Rbe(r,n){let a=Ho(r)[Tn.Eras];return zo(a,n)}function my(r,n){let i=Ho(r);return zo(i[Tn.DateFormat],n)}function gy(r,n){let i=Ho(r);return zo(i[Tn.TimeFormat],n)}function vy(r,n){let a=Ho(r)[Tn.DateTimeFormat];return zo(a,n)}function Sy(r,n){let i=Ho(r),a=i[Tn.NumberSymbols][n];if(typeof a>"u"){if(n===Oa.CurrencyDecimal)return i[Tn.NumberSymbols][Oa.Decimal];if(n===Oa.CurrencyGroup)return i[Tn.NumberSymbols][Oa.Group]}return a}function vU(r){if(!r[Tn.ExtraData])throw new Error(`Missing extra locale data for the locale "${r[Tn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Obe(r){let n=Ho(r);return vU(n),(n[Tn.ExtraData][2]||[]).map(a=>typeof a=="string"?tS(a):[tS(a[0]),tS(a[1])])}function Pbe(r,n,i){let a=Ho(r);vU(a);let c=[a[Tn.ExtraData][0],a[Tn.ExtraData][1]],f=zo(c,n)||[];return zo(f,i)||[]}function zo(r,n){for(let i=n;i>-1;i--)if(typeof r[i]<"u")return r[i];throw new Error("Locale data API: locale data undefined")}function tS(r){let[n,i]=r.split(":");return{hours:+n,minutes:+i}}var Fbe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yy={},Lbe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Hi=function(r){return r[r.Short=0]="Short",r[r.ShortGMT=1]="ShortGMT",r[r.Long=2]="Long",r[r.Extended=3]="Extended",r}(Hi||{}),jt=function(r){return r[r.FullYear=0]="FullYear",r[r.Month=1]="Month",r[r.Date=2]="Date",r[r.Hours=3]="Hours",r[r.Minutes=4]="Minutes",r[r.Seconds=5]="Seconds",r[r.FractionalSeconds=6]="FractionalSeconds",r[r.Day=7]="Day",r}(jt||{}),$t=function(r){return r[r.DayPeriods=0]="DayPeriods",r[r.Days=1]="Days",r[r.Months=2]="Months",r[r.Eras=3]="Eras",r}($t||{});function Bbe(r,n,i,a){let c=Gbe(r);n=ji(i,n)||n;let h=[],g;for(;n;)if(g=Lbe.exec(n),g){h=h.concat(g.slice(1));let _=h.pop();if(!_)break;n=_}else{h.push(n);break}let y=c.getTimezoneOffset();a&&(y=bU(a,y),c=qbe(c,a,!0));let w="";return h.forEach(_=>{let k=zbe(_);w+=k?k(c,i,y):_==="''"?"'":_.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function _y(r,n,i){let a=new Date(0);return a.setFullYear(r,n,i),a.setHours(0,0,0),a}function ji(r,n){let i=kbe(r);if(yy[i]??={},yy[i][n])return yy[i][n];let a="";switch(n){case"shortDate":a=my(r,_o.Short);break;case"mediumDate":a=my(r,_o.Medium);break;case"longDate":a=my(r,_o.Long);break;case"fullDate":a=my(r,_o.Full);break;case"shortTime":a=gy(r,_o.Short);break;case"mediumTime":a=gy(r,_o.Medium);break;case"longTime":a=gy(r,_o.Long);break;case"fullTime":a=gy(r,_o.Full);break;case"short":let c=ji(r,"shortTime"),f=ji(r,"shortDate");a=by(vy(r,_o.Short),[c,f]);break;case"medium":let h=ji(r,"mediumTime"),g=ji(r,"mediumDate");a=by(vy(r,_o.Medium),[h,g]);break;case"long":let y=ji(r,"longTime"),w=ji(r,"longDate");a=by(vy(r,_o.Long),[y,w]);break;case"full":let _=ji(r,"fullTime"),k=ji(r,"fullDate");a=by(vy(r,_o.Full),[_,k]);break}return a&&(yy[i][n]=a),a}function by(r,n){return n&&(r=r.replace(/\{([^}]+)}/g,function(i,a){return n!=null&&a in n?n[a]:i})),r}function bs(r,n,i="-",a,c){let f="";(r<0||c&&r<=0)&&(c?r=-r+1:(r=-r,f=i));let h=String(r);for(;h.length<n;)h="0"+h;return a&&(h=h.slice(h.length-n)),f+h}function Vbe(r,n){return bs(r,3).substring(0,n)}function Vn(r,n,i=0,a=!1,c=!1){return function(f,h){let g=$be(r,f);if((i>0||g>-i)&&(g+=i),r===jt.Hours)g===0&&i===-12&&(g=12);else if(r===jt.FractionalSeconds)return Vbe(g,n);let y=Sy(h,Oa.MinusSign);return bs(g,n,y,a,c)}}function $be(r,n){switch(r){case jt.FullYear:return n.getFullYear();case jt.Month:return n.getMonth();case jt.Date:return n.getDate();case jt.Hours:return n.getHours();case jt.Minutes:return n.getMinutes();case jt.Seconds:return n.getSeconds();case jt.FractionalSeconds:return n.getMilliseconds();case jt.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${r}".`)}}function rn(r,n,i=Fr.Format,a=!1){return function(c,f){return jbe(c,f,r,n,i,a)}}function jbe(r,n,i,a,c,f){switch(i){case $t.Months:return Nbe(n,c,a)[r.getMonth()];case $t.Days:return Mbe(n,c,a)[r.getDay()];case $t.DayPeriods:let h=r.getHours(),g=r.getMinutes();if(f){let w=Obe(n),_=Pbe(n,c,a),k=w.findIndex(V=>{if(Array.isArray(V)){let[$,oe]=V,ue=h>=$.hours&&g>=$.minutes,Ee=h<oe.hours||h===oe.hours&&g<oe.minutes;if($.hours<oe.hours){if(ue&&Ee)return!0}else if(ue||Ee)return!0}else if(V.hours===h&&V.minutes===g)return!0;return!1});if(k!==-1)return _[k]}return Tbe(n,c,a)[h<12?0:1];case $t.Eras:return Rbe(n,a)[r.getFullYear()<=0?0:1];default:let y=i;throw new Error(`unexpected translation type ${y}`)}}function Cy(r){return function(n,i,a){let c=-1*a,f=Sy(i,Oa.MinusSign),h=c>0?Math.floor(c/60):Math.ceil(c/60);switch(r){case Hi.Short:return(c>=0?"+":"")+bs(h,2,f)+bs(Math.abs(c%60),2,f);case Hi.ShortGMT:return"GMT"+(c>=0?"+":"")+bs(h,1,f);case Hi.Long:return"GMT"+(c>=0?"+":"")+bs(h,2,f)+":"+bs(Math.abs(c%60),2,f);case Hi.Extended:return a===0?"Z":(c>=0?"+":"")+bs(h,2,f)+":"+bs(Math.abs(c%60),2,f);default:throw new Error(`Unknown zone width "${r}"`)}}}var Ube=0,Ey=4;function Hbe(r){let n=_y(r,Ube,1).getDay();return _y(r,0,1+(n<=Ey?Ey:Ey+7)-n)}function yU(r){let n=r.getDay(),i=n===0?-3:Ey-n;return _y(r.getFullYear(),r.getMonth(),r.getDate()+i)}function nS(r,n=!1){return function(i,a){let c;if(n){let f=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,h=i.getDate();c=1+Math.floor((h+f)/7)}else{let f=yU(i),h=Hbe(f.getFullYear()),g=f.getTime()-h.getTime();c=1+Math.round(g/6048e5)}return bs(c,r,Sy(a,Oa.MinusSign))}}function wy(r,n=!1){return function(i,a){let f=yU(i).getFullYear();return bs(f,r,Sy(a,Oa.MinusSign),n)}}var rS={};function zbe(r){if(rS[r])return rS[r];let n;switch(r){case"G":case"GG":case"GGG":n=rn($t.Eras,tn.Abbreviated);break;case"GGGG":n=rn($t.Eras,tn.Wide);break;case"GGGGG":n=rn($t.Eras,tn.Narrow);break;case"y":n=Vn(jt.FullYear,1,0,!1,!0);break;case"yy":n=Vn(jt.FullYear,2,0,!0,!0);break;case"yyy":n=Vn(jt.FullYear,3,0,!1,!0);break;case"yyyy":n=Vn(jt.FullYear,4,0,!1,!0);break;case"Y":n=wy(1);break;case"YY":n=wy(2,!0);break;case"YYY":n=wy(3);break;case"YYYY":n=wy(4);break;case"M":case"L":n=Vn(jt.Month,1,1);break;case"MM":case"LL":n=Vn(jt.Month,2,1);break;case"MMM":n=rn($t.Months,tn.Abbreviated);break;case"MMMM":n=rn($t.Months,tn.Wide);break;case"MMMMM":n=rn($t.Months,tn.Narrow);break;case"LLL":n=rn($t.Months,tn.Abbreviated,Fr.Standalone);break;case"LLLL":n=rn($t.Months,tn.Wide,Fr.Standalone);break;case"LLLLL":n=rn($t.Months,tn.Narrow,Fr.Standalone);break;case"w":n=nS(1);break;case"ww":n=nS(2);break;case"W":n=nS(1,!0);break;case"d":n=Vn(jt.Date,1);break;case"dd":n=Vn(jt.Date,2);break;case"c":case"cc":n=Vn(jt.Day,1);break;case"ccc":n=rn($t.Days,tn.Abbreviated,Fr.Standalone);break;case"cccc":n=rn($t.Days,tn.Wide,Fr.Standalone);break;case"ccccc":n=rn($t.Days,tn.Narrow,Fr.Standalone);break;case"cccccc":n=rn($t.Days,tn.Short,Fr.Standalone);break;case"E":case"EE":case"EEE":n=rn($t.Days,tn.Abbreviated);break;case"EEEE":n=rn($t.Days,tn.Wide);break;case"EEEEE":n=rn($t.Days,tn.Narrow);break;case"EEEEEE":n=rn($t.Days,tn.Short);break;case"a":case"aa":case"aaa":n=rn($t.DayPeriods,tn.Abbreviated);break;case"aaaa":n=rn($t.DayPeriods,tn.Wide);break;case"aaaaa":n=rn($t.DayPeriods,tn.Narrow);break;case"b":case"bb":case"bbb":n=rn($t.DayPeriods,tn.Abbreviated,Fr.Standalone,!0);break;case"bbbb":n=rn($t.DayPeriods,tn.Wide,Fr.Standalone,!0);break;case"bbbbb":n=rn($t.DayPeriods,tn.Narrow,Fr.Standalone,!0);break;case"B":case"BB":case"BBB":n=rn($t.DayPeriods,tn.Abbreviated,Fr.Format,!0);break;case"BBBB":n=rn($t.DayPeriods,tn.Wide,Fr.Format,!0);break;case"BBBBB":n=rn($t.DayPeriods,tn.Narrow,Fr.Format,!0);break;case"h":n=Vn(jt.Hours,1,-12);break;case"hh":n=Vn(jt.Hours,2,-12);break;case"H":n=Vn(jt.Hours,1);break;case"HH":n=Vn(jt.Hours,2);break;case"m":n=Vn(jt.Minutes,1);break;case"mm":n=Vn(jt.Minutes,2);break;case"s":n=Vn(jt.Seconds,1);break;case"ss":n=Vn(jt.Seconds,2);break;case"S":n=Vn(jt.FractionalSeconds,1);break;case"SS":n=Vn(jt.FractionalSeconds,2);break;case"SSS":n=Vn(jt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Cy(Hi.Short);break;case"ZZZZZ":n=Cy(Hi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Cy(Hi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Cy(Hi.Long);break;default:return null}return rS[r]=n,n}function bU(r,n){r=r.replace(/:/g,"");let i=Date.parse("Jan 01, 1970 00:00:00 "+r)/6e4;return isNaN(i)?n:i}function Wbe(r,n){return r=new Date(r.getTime()),r.setMinutes(r.getMinutes()+n),r}function qbe(r,n,i){let a=i?-1:1,c=r.getTimezoneOffset(),f=bU(n,c);return Wbe(r,a*(f-c))}function Gbe(r){if(cU(r))return r;if(typeof r=="number"&&!isNaN(r))return new Date(r);if(typeof r=="string"){if(r=r.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(r)){let[c,f=1,h=1]=r.split("-").map(g=>+g);return _y(c,f-1,h)}let i=parseFloat(r);if(!isNaN(r-i))return new Date(i);let a;if(a=r.match(Fbe))return Kbe(a)}let n=new Date(r);if(!cU(n))throw new Error(`Unable to convert "${r}" into a date`);return n}function Kbe(r){let n=new Date(0),i=0,a=0,c=r[8]?n.setUTCFullYear:n.setFullYear,f=r[8]?n.setUTCHours:n.setHours;r[9]&&(i=Number(r[9]+r[10]),a=Number(r[9]+r[11])),c.call(n,Number(r[1]),Number(r[2])-1,Number(r[3]));let h=Number(r[4]||0)-i,g=Number(r[5]||0)-a,y=Number(r[6]||0),w=Math.floor(parseFloat("0."+(r[7]||0))*1e3);return f.call(n,h,g,y,w),n}function cU(r){return r instanceof Date&&!isNaN(r.valueOf())}function CU(r,n){n=encodeURIComponent(n);for(let i of r.split(";")){let a=i.indexOf("="),[c,f]=a==-1?[i,""]:[i.slice(0,a),i.slice(a+1)];if(c.trim()===n)return decodeURIComponent(f)}return null}var oS=class{constructor(n,i,a,c){this.$implicit=n,this.ngForOf=i,this.index=a,this.count=c}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Gu=(()=>{let n=class n{set ngForOf(a){this._ngForOf=a,this._ngForOfDirty=!0}set ngForTrackBy(a){this._trackByFn=a}get ngForTrackBy(){return this._trackByFn}constructor(a,c,f){this._viewContainer=a,this._template=c,this._differs=f,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(a){a&&(this._template=a)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let a=this._ngForOf;if(!this._differ&&a)if(0)try{}catch{}else this._differ=this._differs.find(a).create(this.ngForTrackBy)}if(this._differ){let a=this._differ.diff(this._ngForOf);a&&this._applyChanges(a)}}_applyChanges(a){let c=this._viewContainer;a.forEachOperation((f,h,g)=>{if(f.previousIndex==null)c.createEmbeddedView(this._template,new oS(f.item,this._ngForOf,-1,-1),g===null?void 0:g);else if(g==null)c.remove(h===null?void 0:h);else if(h!==null){let y=c.get(h);c.move(y,g),uU(y,f)}});for(let f=0,h=c.length;f<h;f++){let y=c.get(f).context;y.index=f,y.count=h,y.ngForOf=this._ngForOf}a.forEachIdentityChange(f=>{let h=c.get(f.currentIndex);uU(h,f)})}static ngTemplateContextGuard(a,c){return!0}};n.\u0275fac=function(c){return new(c||n)(Re(Ra),Re(Gl),Re(eS))},n.\u0275dir=ir({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let r=n;return r})();function uU(r,n){r.context.$implicit=n.item}var Kr=(()=>{let n=class n{constructor(a,c){this._viewContainer=a,this._context=new sS,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=c}set ngIf(a){this._context.$implicit=this._context.ngIf=a,this._updateView()}set ngIfThen(a){dU("ngIfThen",a),this._thenTemplateRef=a,this._thenViewRef=null,this._updateView()}set ngIfElse(a){dU("ngIfElse",a),this._elseTemplateRef=a,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(a,c){return!0}};n.\u0275fac=function(c){return new(c||n)(Re(Ra),Re(Gl))},n.\u0275dir=ir({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let r=n;return r})(),sS=class{constructor(){this.$implicit=null,this.ngIf=null}};function dU(r,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${r} must be a TemplateRef, but received '${Rr(n)}'.`)}function Ybe(r,n){return new He(2100,!1)}var Zbe="mediumDate",Qbe=new tt(""),Xbe=new tt(""),Ku=(()=>{let n=class n{constructor(a,c,f){this.locale=a,this.defaultTimezone=c,this.defaultOptions=f}transform(a,c,f,h){if(a==null||a===""||a!==a)return null;try{let g=c??this.defaultOptions?.dateFormat??Zbe,y=f??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Bbe(a,g,h||this.locale,y)}catch(g){throw Ybe(n,g.message)}}};n.\u0275fac=function(c){return new(c||n)(Re(hy,16),Re(Qbe,24),Re(Xbe,24))},n.\u0275pipe=n$({name:"date",type:n,pure:!0,standalone:!0});let r=n;return r})();var Mn=(()=>{let n=class n{};n.\u0275fac=function(c){return new(c||n)},n.\u0275mod=Ri({type:n}),n.\u0275inj=Ni({});let r=n;return r})(),fS="browser",Jbe="server";function pS(r){return r===fS}function hS(r){return r===Jbe}var wU=(()=>{let n=class n{};n.\u0275prov=Ge({token:n,providedIn:"root",factory:()=>pS(xe(ti))?new iS(xe(Lr),window):new aS});let r=n;return r})(),iS=class{constructor(n,i){this.document=n,this.window=i,this.offset=()=>[0,0]}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let i=e0e(this.document,n);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let i=n.getBoundingClientRect(),a=i.left+this.window.pageXOffset,c=i.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(a-f[0],c-f[1])}};function e0e(r,n){let i=r.getElementById(n)||r.getElementsByName(n)[0];if(i)return i;if(typeof r.createTreeWalker=="function"&&r.body&&typeof r.body.attachShadow=="function"){let a=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT),c=a.currentNode;for(;c;){let f=c.shadowRoot;if(f){let h=f.getElementById(n)||f.querySelector(`[name="${n}"]`);if(h)return h}c=a.nextNode()}}return null}var aS=class{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}},xy=class{};var vS=class extends Dy{constructor(){super(...arguments),this.supportsDOMEvents=!0}},yS=class r extends vS{static makeCurrent(){pU(new r)}onAndCancel(n,i,a){return n.addEventListener(i,a),()=>{n.removeEventListener(i,a)}}dispatchEvent(n,i){n.dispatchEvent(i)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,i){return i=i||this.getDefaultDocument(),i.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,i){return i==="window"?window:i==="document"?n:i==="body"?n.body:null}getBaseHref(n){let i=t0e();return i==null?null:n0e(i)}resetBaseElement(){Ap=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return CU(document.cookie,n)}},Ap=null;function t0e(){return Ap=Ap||document.querySelector("base"),Ap?Ap.getAttribute("href"):null}function n0e(r){return new URL(r,document.baseURI).pathname}var r0e=(()=>{let n=class n{build(){return new XMLHttpRequest}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac});let r=n;return r})(),bS=new tt(""),xU=(()=>{let n=class n{constructor(a,c){this._zone=c,this._eventNameToPlugin=new Map,a.forEach(f=>{f.manager=this}),this._plugins=a.slice().reverse()}addEventListener(a,c,f){return this._findPluginFor(c).addEventListener(a,c,f)}getZone(){return this._zone}_findPluginFor(a){let c=this._eventNameToPlugin.get(a);if(c)return c;if(c=this._plugins.find(h=>h.supports(a)),!c)throw new He(5101,!1);return this._eventNameToPlugin.set(a,c),c}};n.\u0275fac=function(c){return new(c||n)(at(bS),at(cn))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac});let r=n;return r})(),Iy=class{constructor(n){this._doc=n}},mS="ng-app-id",SU=(()=>{let n=class n{constructor(a,c,f,h={}){this.doc=a,this.appId=c,this.nonce=f,this.platformId=h,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=hS(h),this.resetHostNodes()}addStyles(a){for(let c of a)this.changeUsageCount(c,1)===1&&this.onStyleAdded(c)}removeStyles(a){for(let c of a)this.changeUsageCount(c,-1)<=0&&this.onStyleRemoved(c)}ngOnDestroy(){let a=this.styleNodesInDOM;a&&(a.forEach(c=>c.remove()),a.clear());for(let c of this.getAllStyles())this.onStyleRemoved(c);this.resetHostNodes()}addHost(a){this.hostNodes.add(a);for(let c of this.getAllStyles())this.addStyleToHost(a,c)}removeHost(a){this.hostNodes.delete(a)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(a){for(let c of this.hostNodes)this.addStyleToHost(c,a)}onStyleRemoved(a){let c=this.styleRef;c.get(a)?.elements?.forEach(f=>f.remove()),c.delete(a)}collectServerRenderedStyles(){let a=this.doc.head?.querySelectorAll(`style[${mS}="${this.appId}"]`);if(a?.length){let c=new Map;return a.forEach(f=>{f.textContent!=null&&c.set(f.textContent,f)}),c}return null}changeUsageCount(a,c){let f=this.styleRef;if(f.has(a)){let h=f.get(a);return h.usage+=c,h.usage}return f.set(a,{usage:c,elements:[]}),c}getStyleElement(a,c){let f=this.styleNodesInDOM,h=f?.get(c);if(h?.parentNode===a)return f.delete(c),h.removeAttribute(mS),h;{let g=this.doc.createElement("style");return this.nonce&&g.setAttribute("nonce",this.nonce),g.textContent=c,this.platformIsServer&&g.setAttribute(mS,this.appId),a.appendChild(g),g}}addStyleToHost(a,c){let f=this.getStyleElement(a,c),h=this.styleRef,g=h.get(c)?.elements;g?g.push(f):h.set(c,{elements:[f],usage:1})}resetHostNodes(){let a=this.hostNodes;a.clear(),a.add(this.doc.head)}};n.\u0275fac=function(c){return new(c||n)(at(Lr),at(Rx),at(Px,8),at(ti))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac});let r=n;return r})(),gS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wS=/%COMP%/g,IU="%COMP%",o0e=`_nghost-${IU}`,s0e=`_ngcontent-${IU}`,i0e=!0,a0e=new tt("",{providedIn:"root",factory:()=>i0e});function l0e(r){return s0e.replace(wS,r)}function c0e(r){return o0e.replace(wS,r)}function AU(r,n){return n.map(i=>i.replace(wS,r))}var EU=(()=>{let n=class n{constructor(a,c,f,h,g,y,w,_=null){this.eventManager=a,this.sharedStylesHost=c,this.appId=f,this.removeStylesOnCompDestroy=h,this.doc=g,this.platformId=y,this.ngZone=w,this.nonce=_,this.rendererByCompId=new Map,this.platformIsServer=hS(y),this.defaultRenderer=new kp(a,g,w,this.platformIsServer)}createRenderer(a,c){if(!a||!c)return this.defaultRenderer;this.platformIsServer&&c.encapsulation===Ys.ShadowDom&&(c=Me(W({},c),{encapsulation:Ys.Emulated}));let f=this.getOrCreateRenderer(a,c);return f instanceof Ay?f.applyToHost(a):f instanceof Tp&&f.applyStyles(),f}getOrCreateRenderer(a,c){let f=this.rendererByCompId,h=f.get(c.id);if(!h){let g=this.doc,y=this.ngZone,w=this.eventManager,_=this.sharedStylesHost,k=this.removeStylesOnCompDestroy,V=this.platformIsServer;switch(c.encapsulation){case Ys.Emulated:h=new Ay(w,_,c,this.appId,k,g,y,V);break;case Ys.ShadowDom:return new CS(w,_,a,c,g,y,this.nonce,V);default:h=new Tp(w,_,c,k,g,y,V);break}f.set(c.id,h)}return h}ngOnDestroy(){this.rendererByCompId.clear()}};n.\u0275fac=function(c){return new(c||n)(at(xU),at(SU),at(Rx),at(a0e),at(Lr),at(ti),at(cn),at(Px))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac});let r=n;return r})(),kp=class{constructor(n,i,a,c){this.eventManager=n,this.doc=i,this.ngZone=a,this.platformIsServer=c,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,i){return i?this.doc.createElementNS(gS[i]||i,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,i){(DU(n)?n.content:n).appendChild(i)}insertBefore(n,i,a){n&&(DU(n)?n.content:n).insertBefore(i,a)}removeChild(n,i){n&&n.removeChild(i)}selectRootElement(n,i){let a=typeof n=="string"?this.doc.querySelector(n):n;if(!a)throw new He(-5104,!1);return i||(a.textContent=""),a}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,i,a,c){if(c){i=c+":"+i;let f=gS[c];f?n.setAttributeNS(f,i,a):n.setAttribute(i,a)}else n.setAttribute(i,a)}removeAttribute(n,i,a){if(a){let c=gS[a];c?n.removeAttributeNS(c,i):n.removeAttribute(`${a}:${i}`)}else n.removeAttribute(i)}addClass(n,i){n.classList.add(i)}removeClass(n,i){n.classList.remove(i)}setStyle(n,i,a,c){c&(Ti.DashCase|Ti.Important)?n.style.setProperty(i,a,c&Ti.Important?"important":""):n.style[i]=a}removeStyle(n,i,a){a&Ti.DashCase?n.style.removeProperty(i):n.style[i]=""}setProperty(n,i,a){n!=null&&(n[i]=a)}setValue(n,i){n.nodeValue=i}listen(n,i,a){if(typeof n=="string"&&(n=zi().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${i}`);return this.eventManager.addEventListener(n,i,this.decoratePreventDefault(a))}decoratePreventDefault(n){return i=>{if(i==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(i)):n(i))===!1&&i.preventDefault()}}};function DU(r){return r.tagName==="TEMPLATE"&&r.content!==void 0}var CS=class extends kp{constructor(n,i,a,c,f,h,g,y){super(n,f,h,y),this.sharedStylesHost=i,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let w=AU(c.id,c.styles);for(let _ of w){let k=document.createElement("style");g&&k.setAttribute("nonce",g),k.textContent=_,this.shadowRoot.appendChild(k)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,i){return super.appendChild(this.nodeOrShadowRoot(n),i)}insertBefore(n,i,a){return super.insertBefore(this.nodeOrShadowRoot(n),i,a)}removeChild(n,i){return super.removeChild(this.nodeOrShadowRoot(n),i)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Tp=class extends kp{constructor(n,i,a,c,f,h,g,y){super(n,f,h,g),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=c,this.styles=y?AU(y,a.styles):a.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ay=class extends Tp{constructor(n,i,a,c,f,h,g,y){let w=c+"-"+a.id;super(n,i,a,f,h,g,y,w),this.contentAttr=l0e(w),this.hostAttr=c0e(w)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,i){let a=super.createElement(n,i);return super.setAttribute(a,this.contentAttr,""),a}},u0e=(()=>{let n=class n extends Iy{constructor(a){super(a)}supports(a){return!0}addEventListener(a,c,f){return a.addEventListener(c,f,!1),()=>this.removeEventListener(a,c,f)}removeEventListener(a,c,f){return a.removeEventListener(c,f)}};n.\u0275fac=function(c){return new(c||n)(at(Lr))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac});let r=n;return r})(),_U=["alt","control","meta","shift"],d0e={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},f0e={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey},p0e=(()=>{let n=class n extends Iy{constructor(a){super(a)}supports(a){return n.parseEventName(a)!=null}addEventListener(a,c,f){let h=n.parseEventName(c),g=n.eventCallback(h.fullKey,f,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zi().onAndCancel(a,h.domEventName,g))}static parseEventName(a){let c=a.toLowerCase().split("."),f=c.shift();if(c.length===0||!(f==="keydown"||f==="keyup"))return null;let h=n._normalizeKey(c.pop()),g="",y=c.indexOf("code");if(y>-1&&(c.splice(y,1),g="code."),_U.forEach(_=>{let k=c.indexOf(_);k>-1&&(c.splice(k,1),g+=_+".")}),g+=h,c.length!=0||h.length===0)return null;let w={};return w.domEventName=f,w.fullKey=g,w}static matchEventFullKeyCode(a,c){let f=d0e[a.key]||a.key,h="";return c.indexOf("code.")>-1&&(f=a.code,h="code."),f==null||!f?!1:(f=f.toLowerCase(),f===" "?f="space":f==="."&&(f="dot"),_U.forEach(g=>{if(g!==f){let y=f0e[g];y(a)&&(h+=g+".")}}),h+=f,h===c)}static eventCallback(a,c,f){return h=>{n.matchEventFullKeyCode(h,a)&&f.runGuarded(()=>c(h))}}static _normalizeKey(a){return a==="esc"?"escape":a}};n.\u0275fac=function(c){return new(c||n)(at(Lr))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac});let r=n;return r})();function kU(r,n){return sU(W({rootComponent:r},h0e(n)))}function h0e(r){return{appProviders:[...b0e,...r?.providers??[]],platformProviders:y0e}}function m0e(){yS.makeCurrent()}function g0e(){return new Js}function v0e(){return J$(document),document}var y0e=[{provide:ti,useValue:fS},{provide:Ox,useValue:m0e,multi:!0},{provide:Lr,useFactory:v0e,deps:[]}];var b0e=[{provide:Gv,useValue:"root"},{provide:Js,useFactory:g0e,deps:[]},{provide:bS,useClass:u0e,multi:!0,deps:[Lr,cn,ti]},{provide:bS,useClass:p0e,multi:!0,deps:[Lr]},EU,SU,xU,{provide:vp,useExisting:EU},{provide:xy,useClass:r0e,deps:[]},[]];var TU=(()=>{let n=class n{constructor(a){this._doc=a}getTitle(){return this._doc.title}setTitle(a){this._doc.title=a||""}};n.\u0275fac=function(c){return new(c||n)(at(Lr))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();var ES=(()=>{let n=class n{};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:function(c){let f=null;return c?f=new(c||n):f=at(C0e),f},providedIn:"root"});let r=n;return r})(),C0e=(()=>{let n=class n extends ES{constructor(a){super(),this._doc=a}sanitize(a,c){if(c==null)return null;switch(a){case ri.NONE:return c;case ri.HTML:return Ma(c,"HTML")?ni(c):Lx(this._doc,String(c)).toString();case ri.STYLE:return Ma(c,"Style")?ni(c):c;case ri.SCRIPT:if(Ma(c,"Script"))return ni(c);throw new He(5200,!1);case ri.URL:return Ma(c,"URL")?ni(c):Jv(String(c));case ri.RESOURCE_URL:if(Ma(c,"ResourceURL"))return ni(c);throw new He(5201,!1);default:throw new He(5202,!1)}}bypassSecurityTrustHtml(a){return nj(a)}bypassSecurityTrustStyle(a){return rj(a)}bypassSecurityTrustScript(a){return oj(a)}bypassSecurityTrustUrl(a){return sj(a)}bypassSecurityTrustResourceUrl(a){return ij(a)}};n.\u0275fac=function(c){return new(c||n)(at(Lr))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();var ht="primary",qp=Symbol("RouteTitle"),IS=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let i=this.params[n];return Array.isArray(i)?i[0]:i}return null}getAll(n){if(this.has(n)){let i=this.params[n];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function Ju(r){return new IS(r)}function w0e(r,n,i){let a=i.path.split("/");if(a.length>r.length||i.pathMatch==="full"&&(n.hasChildren()||a.length<r.length))return null;let c={};for(let f=0;f<a.length;f++){let h=a[f],g=r[f];if(h.startsWith(":"))c[h.substring(1)]=g;else if(h!==g.path)return null}return{consumed:r.slice(0,a.length),posParams:c}}function E0e(r,n){if(r.length!==n.length)return!1;for(let i=0;i<r.length;++i)if(!oi(r[i],n[i]))return!1;return!0}function oi(r,n){let i=r?AS(r):void 0,a=n?AS(n):void 0;if(!i||!a||i.length!=a.length)return!1;let c;for(let f=0;f<i.length;f++)if(c=i[f],!$U(r[c],n[c]))return!1;return!0}function AS(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function $U(r,n){if(Array.isArray(r)&&Array.isArray(n)){if(r.length!==n.length)return!1;let i=[...r].sort(),a=[...n].sort();return i.every((c,f)=>a[f]===c)}else return r===n}function jU(r){return r.length>0?r[r.length-1]:null}function Ba(r){return UD(r)?r:Ql(r)?gn(Promise.resolve(r)):it(r)}var D0e={exact:HU,subset:zU},UU={exact:_0e,subset:x0e,ignored:()=>!0};function NU(r,n,i){return D0e[i.paths](r.root,n.root,i.matrixParams)&&UU[i.queryParams](r.queryParams,n.queryParams)&&!(i.fragment==="exact"&&r.fragment!==n.fragment)}function _0e(r,n){return oi(r,n)}function HU(r,n,i){if(!ec(r.segments,n.segments)||!My(r.segments,n.segments,i)||r.numberOfChildren!==n.numberOfChildren)return!1;for(let a in n.children)if(!r.children[a]||!HU(r.children[a],n.children[a],i))return!1;return!0}function x0e(r,n){return Object.keys(n).length<=Object.keys(r).length&&Object.keys(n).every(i=>$U(r[i],n[i]))}function zU(r,n,i){return WU(r,n,n.segments,i)}function WU(r,n,i,a){if(r.segments.length>i.length){let c=r.segments.slice(0,i.length);return!(!ec(c,i)||n.hasChildren()||!My(c,i,a))}else if(r.segments.length===i.length){if(!ec(r.segments,i)||!My(r.segments,i,a))return!1;for(let c in n.children)if(!r.children[c]||!zU(r.children[c],n.children[c],a))return!1;return!0}else{let c=i.slice(0,r.segments.length),f=i.slice(r.segments.length);return!ec(r.segments,c)||!My(r.segments,c,a)||!r.children[ht]?!1:WU(r.children[ht],n,f,a)}}function My(r,n,i){return n.every((a,c)=>UU[i](r[c].parameters,a.parameters))}var Pa=class{constructor(n=new Wt([],{}),i={},a=null){this.root=n,this.queryParams=i,this.fragment=a}get queryParamMap(){return this._queryParamMap??=Ju(this.queryParams),this._queryParamMap}toString(){return A0e.serialize(this)}},Wt=class{constructor(n,i){this.segments=n,this.children=i,this.parent=null,Object.values(i).forEach(a=>a.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ny(this)}},Jl=class{constructor(n,i){this.path=n,this.parameters=i}get parameterMap(){return this._parameterMap??=Ju(this.parameters),this._parameterMap}toString(){return GU(this)}};function S0e(r,n){return ec(r,n)&&r.every((i,a)=>oi(i.parameters,n[a].parameters))}function ec(r,n){return r.length!==n.length?!1:r.every((i,a)=>i.path===n[a].path)}function I0e(r,n){let i=[];return Object.entries(r.children).forEach(([a,c])=>{a===ht&&(i=i.concat(n(c,a)))}),Object.entries(r.children).forEach(([a,c])=>{a!==ht&&(i=i.concat(n(c,a)))}),i}var Gp=(()=>{let n=class n{};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:()=>new Lp,providedIn:"root"});let r=n;return r})(),Lp=class{parse(n){let i=new TS(n);return new Pa(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(n){let i=`/${Mp(n.root,!0)}`,a=M0e(n.queryParams),c=typeof n.fragment=="string"?`#${k0e(n.fragment)}`:"";return`${i}${a}${c}`}},A0e=new Lp;function Ny(r){return r.segments.map(n=>GU(n)).join("/")}function Mp(r,n){if(!r.hasChildren())return Ny(r);if(n){let i=r.children[ht]?Mp(r.children[ht],!1):"",a=[];return Object.entries(r.children).forEach(([c,f])=>{c!==ht&&a.push(`${c}:${Mp(f,!1)}`)}),a.length>0?`${i}(${a.join("//")})`:i}else{let i=I0e(r,(a,c)=>c===ht?[Mp(r.children[ht],!1)]:[`${c}:${Mp(a,!1)}`]);return Object.keys(r.children).length===1&&r.children[ht]!=null?`${Ny(r)}/${i[0]}`:`${Ny(r)}/(${i.join("//")})`}}function qU(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ky(r){return qU(r).replace(/%3B/gi,";")}function k0e(r){return encodeURI(r)}function kS(r){return qU(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ry(r){return decodeURIComponent(r)}function RU(r){return Ry(r.replace(/\+/g,"%20"))}function GU(r){return`${kS(r.path)}${T0e(r.parameters)}`}function T0e(r){return Object.entries(r).map(([n,i])=>`;${kS(n)}=${kS(i)}`).join("")}function M0e(r){let n=Object.entries(r).map(([i,a])=>Array.isArray(a)?a.map(c=>`${ky(i)}=${ky(c)}`).join("&"):`${ky(i)}=${ky(a)}`).filter(i=>i);return n.length?`?${n.join("&")}`:""}var N0e=/^[^\/()?;#]+/;function DS(r){let n=r.match(N0e);return n?n[0]:""}var R0e=/^[^\/()?;=#]+/;function O0e(r){let n=r.match(R0e);return n?n[0]:""}var P0e=/^[^=?&#]+/;function F0e(r){let n=r.match(P0e);return n?n[0]:""}var L0e=/^[^&#]+/;function B0e(r){let n=r.match(L0e);return n?n[0]:""}var TS=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wt([],{}):new Wt([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let a={};return this.peekStartsWith("(")&&(a=this.parseParens(!1)),(n.length>0||Object.keys(i).length>0)&&(a[ht]=new Wt(n,i)),a}parseSegment(){let n=DS(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new He(4009,!1);return this.capture(n),new Jl(Ry(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let i=O0e(this.remaining);if(!i)return;this.capture(i);let a="";if(this.consumeOptional("=")){let c=DS(this.remaining);c&&(a=c,this.capture(a))}n[Ry(i)]=Ry(a)}parseQueryParam(n){let i=F0e(this.remaining);if(!i)return;this.capture(i);let a="";if(this.consumeOptional("=")){let h=B0e(this.remaining);h&&(a=h,this.capture(a))}let c=RU(i),f=RU(a);if(n.hasOwnProperty(c)){let h=n[c];Array.isArray(h)||(h=[h],n[c]=h),h.push(f)}else n[c]=f}parseParens(n){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let a=DS(this.remaining),c=this.remaining[a.length];if(c!=="/"&&c!==")"&&c!==";")throw new He(4010,!1);let f;a.indexOf(":")>-1?(f=a.slice(0,a.indexOf(":")),this.capture(f),this.capture(":")):n&&(f=ht);let h=this.parseChildren();i[f]=Object.keys(h).length===1?h[ht]:new Wt([],h),this.consumeOptional("//")}return i}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new He(4011,!1)}};function KU(r){return r.segments.length>0?new Wt([],{[ht]:r}):r}function YU(r){let n={};for(let[a,c]of Object.entries(r.children)){let f=YU(c);if(a===ht&&f.segments.length===0&&f.hasChildren())for(let[h,g]of Object.entries(f.children))n[h]=g;else(f.segments.length>0||f.hasChildren())&&(n[a]=f)}let i=new Wt(r.segments,n);return V0e(i)}function V0e(r){if(r.numberOfChildren===1&&r.children[ht]){let n=r.children[ht];return new Wt(r.segments.concat(n.segments),n.children)}return r}function ed(r){return r instanceof Pa}function $0e(r,n,i=null,a=null){let c=ZU(r);return QU(c,n,i,a)}function ZU(r){let n;function i(f){let h={};for(let y of f.children){let w=i(y);h[y.outlet]=w}let g=new Wt(f.url,h);return f===r&&(n=g),g}let a=i(r.root),c=KU(a);return n??c}function QU(r,n,i,a){let c=r;for(;c.parent;)c=c.parent;if(n.length===0)return _S(c,c,c,i,a);let f=j0e(n);if(f.toRoot())return _S(c,c,new Wt([],{}),i,a);let h=U0e(f,c,r),g=h.processChildren?Op(h.segmentGroup,h.index,f.commands):JU(h.segmentGroup,h.index,f.commands);return _S(c,h.segmentGroup,g,i,a)}function Oy(r){return typeof r=="object"&&r!=null&&!r.outlets&&!r.segmentPath}function Bp(r){return typeof r=="object"&&r!=null&&r.outlets}function _S(r,n,i,a,c){let f={};a&&Object.entries(a).forEach(([y,w])=>{f[y]=Array.isArray(w)?w.map(_=>`${_}`):`${w}`});let h;r===n?h=i:h=XU(r,n,i);let g=KU(YU(h));return new Pa(g,f,c)}function XU(r,n,i){let a={};return Object.entries(r.children).forEach(([c,f])=>{f===n?a[c]=i:a[c]=XU(f,n,i)}),new Wt(r.segments,a)}var Py=class{constructor(n,i,a){if(this.isAbsolute=n,this.numberOfDoubleDots=i,this.commands=a,n&&a.length>0&&Oy(a[0]))throw new He(4003,!1);let c=a.find(Bp);if(c&&c!==jU(a))throw new He(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function j0e(r){if(typeof r[0]=="string"&&r.length===1&&r[0]==="/")return new Py(!0,0,r);let n=0,i=!1,a=r.reduce((c,f,h)=>{if(typeof f=="object"&&f!=null){if(f.outlets){let g={};return Object.entries(f.outlets).forEach(([y,w])=>{g[y]=typeof w=="string"?w.split("/"):w}),[...c,{outlets:g}]}if(f.segmentPath)return[...c,f.segmentPath]}return typeof f!="string"?[...c,f]:h===0?(f.split("/").forEach((g,y)=>{y==0&&g==="."||(y==0&&g===""?i=!0:g===".."?n++:g!=""&&c.push(g))}),c):[...c,f]},[]);return new Py(i,n,a)}var Qu=class{constructor(n,i,a){this.segmentGroup=n,this.processChildren=i,this.index=a}};function U0e(r,n,i){if(r.isAbsolute)return new Qu(n,!0,0);if(!i)return new Qu(n,!1,NaN);if(i.parent===null)return new Qu(i,!0,0);let a=Oy(r.commands[0])?0:1,c=i.segments.length-1+a;return H0e(i,c,r.numberOfDoubleDots)}function H0e(r,n,i){let a=r,c=n,f=i;for(;f>c;){if(f-=c,a=a.parent,!a)throw new He(4005,!1);c=a.segments.length}return new Qu(a,!1,c-f)}function z0e(r){return Bp(r[0])?r[0].outlets:{[ht]:r}}function JU(r,n,i){if(r??=new Wt([],{}),r.segments.length===0&&r.hasChildren())return Op(r,n,i);let a=W0e(r,n,i),c=i.slice(a.commandIndex);if(a.match&&a.pathIndex<r.segments.length){let f=new Wt(r.segments.slice(0,a.pathIndex),{});return f.children[ht]=new Wt(r.segments.slice(a.pathIndex),r.children),Op(f,0,c)}else return a.match&&c.length===0?new Wt(r.segments,{}):a.match&&!r.hasChildren()?MS(r,n,i):a.match?Op(r,0,c):MS(r,n,i)}function Op(r,n,i){if(i.length===0)return new Wt(r.segments,{});{let a=z0e(i),c={};if(Object.keys(a).some(f=>f!==ht)&&r.children[ht]&&r.numberOfChildren===1&&r.children[ht].segments.length===0){let f=Op(r.children[ht],n,i);return new Wt(r.segments,f.children)}return Object.entries(a).forEach(([f,h])=>{typeof h=="string"&&(h=[h]),h!==null&&(c[f]=JU(r.children[f],n,h))}),Object.entries(r.children).forEach(([f,h])=>{a[f]===void 0&&(c[f]=h)}),new Wt(r.segments,c)}}function W0e(r,n,i){let a=0,c=n,f={match:!1,pathIndex:0,commandIndex:0};for(;c<r.segments.length;){if(a>=i.length)return f;let h=r.segments[c],g=i[a];if(Bp(g))break;let y=`${g}`,w=a<i.length-1?i[a+1]:null;if(c>0&&y===void 0)break;if(y&&w&&typeof w=="object"&&w.outlets===void 0){if(!PU(y,w,h))return f;a+=2}else{if(!PU(y,{},h))return f;a++}c++}return{match:!0,pathIndex:c,commandIndex:a}}function MS(r,n,i){let a=r.segments.slice(0,n),c=0;for(;c<i.length;){let f=i[c];if(Bp(f)){let y=q0e(f.outlets);return new Wt(a,y)}if(c===0&&Oy(i[0])){let y=r.segments[n];a.push(new Jl(y.path,OU(i[0]))),c++;continue}let h=Bp(f)?f.outlets[ht]:`${f}`,g=c<i.length-1?i[c+1]:null;h&&g&&Oy(g)?(a.push(new Jl(h,OU(g))),c+=2):(a.push(new Jl(h,{})),c++)}return new Wt(a,{})}function q0e(r){let n={};return Object.entries(r).forEach(([i,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(n[i]=MS(new Wt([],{}),0,a))}),n}function OU(r){let n={};return Object.entries(r).forEach(([i,a])=>n[i]=`${a}`),n}function PU(r,n,i){return r==i.path&&oi(n,i.parameters)}var Pp="imperative",lr=function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r}(lr||{}),Wo=class{constructor(n,i){this.id=n,this.url=i}},td=class extends Wo{constructor(n,i,a="imperative",c=null){super(n,i),this.type=lr.NavigationStart,this.navigationTrigger=a,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qi=class extends Wo{constructor(n,i,a){super(n,i),this.urlAfterRedirects=a,this.type=lr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},So=function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r}(So||{}),Fy=function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r}(Fy||{}),Fa=class extends Wo{constructor(n,i,a,c){super(n,i),this.reason=a,this.code=c,this.type=lr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},La=class extends Wo{constructor(n,i,a,c){super(n,i),this.reason=a,this.code=c,this.type=lr.NavigationSkipped}},Vp=class extends Wo{constructor(n,i,a,c){super(n,i),this.error=a,this.target=c,this.type=lr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ly=class extends Wo{constructor(n,i,a,c){super(n,i),this.urlAfterRedirects=a,this.state=c,this.type=lr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},NS=class extends Wo{constructor(n,i,a,c){super(n,i),this.urlAfterRedirects=a,this.state=c,this.type=lr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},RS=class extends Wo{constructor(n,i,a,c,f){super(n,i),this.urlAfterRedirects=a,this.state=c,this.shouldActivate=f,this.type=lr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},OS=class extends Wo{constructor(n,i,a,c){super(n,i),this.urlAfterRedirects=a,this.state=c,this.type=lr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},PS=class extends Wo{constructor(n,i,a,c){super(n,i),this.urlAfterRedirects=a,this.state=c,this.type=lr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},FS=class{constructor(n){this.route=n,this.type=lr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},LS=class{constructor(n){this.route=n,this.type=lr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},BS=class{constructor(n){this.snapshot=n,this.type=lr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},VS=class{constructor(n){this.snapshot=n,this.type=lr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$S=class{constructor(n){this.snapshot=n,this.type=lr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jS=class{constructor(n){this.snapshot=n,this.type=lr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},By=class{constructor(n,i,a){this.routerEvent=n,this.position=i,this.anchor=a,this.type=lr.Scroll}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},$p=class{},jp=class{constructor(n){this.url=n}};var US=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Kp,this.attachRef=null}},Kp=(()=>{let n=class n{constructor(){this.contexts=new Map}onChildOutletCreated(a,c){let f=this.getOrCreateContext(a);f.outlet=c,this.contexts.set(a,f)}onChildOutletDestroyed(a){let c=this.getContext(a);c&&(c.outlet=null,c.attachRef=null)}onOutletDeactivated(){let a=this.contexts;return this.contexts=new Map,a}onOutletReAttached(a){this.contexts=a}getOrCreateContext(a){let c=this.getContext(a);return c||(c=new US,this.contexts.set(a,c)),c}getContext(a){return this.contexts.get(a)||null}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})(),Vy=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let i=this.pathFromRoot(n);return i.length>1?i[i.length-2]:null}children(n){let i=HS(n,this._root);return i?i.children.map(a=>a.value):[]}firstChild(n){let i=HS(n,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(n){let i=zS(n,this._root);return i.length<2?[]:i[i.length-2].children.map(c=>c.value).filter(c=>c!==n)}pathFromRoot(n){return zS(n,this._root).map(i=>i.value)}};function HS(r,n){if(r===n.value)return n;for(let i of n.children){let a=HS(r,i);if(a)return a}return null}function zS(r,n){if(r===n.value)return[n];for(let i of n.children){let a=zS(r,i);if(a.length)return a.unshift(n),a}return[]}var xo=class{constructor(n,i){this.value=n,this.children=i}toString(){return`TreeNode(${this.value})`}};function Zu(r){let n={};return r&&r.children.forEach(i=>n[i.value.outlet]=i),n}var $y=class extends Vy{constructor(n,i){super(n),this.snapshot=i,eI(this,n)}toString(){return this.snapshot.toString()}};function eH(r){let n=G0e(r),i=new zn([new Jl("",{})]),a=new zn({}),c=new zn({}),f=new zn({}),h=new zn(""),g=new Cs(i,a,f,h,c,ht,r,n.root);return g.snapshot=n.root,new $y(new xo(g,[]),n)}function G0e(r){let n={},i={},a={},c="",f=new Up([],n,a,c,i,ht,r,null,{});return new jy("",new xo(f,[]))}var Cs=class{constructor(n,i,a,c,f,h,g,y){this.urlSubject=n,this.paramsSubject=i,this.queryParamsSubject=a,this.fragmentSubject=c,this.dataSubject=f,this.outlet=h,this.component=g,this._futureSnapshot=y,this.title=this.dataSubject?.pipe(Et(w=>w[qp]))??it(void 0),this.url=n,this.params=i,this.queryParams=a,this.fragment=c,this.data=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Et(n=>Ju(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Et(n=>Ju(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function JS(r,n,i="emptyOnly"){let a,{routeConfig:c}=r;return n!==null&&(i==="always"||c?.path===""||!n.component&&!n.routeConfig?.loadComponent)?a={params:W(W({},n.params),r.params),data:W(W({},n.data),r.data),resolve:W(W(W(W({},r.data),n.data),c?.data),r._resolvedData)}:a={params:W({},r.params),data:W({},r.data),resolve:W(W({},r.data),r._resolvedData??{})},c&&nH(c)&&(a.resolve[qp]=c.title),a}var Up=class{get title(){return this.data?.[qp]}constructor(n,i,a,c,f,h,g,y,w){this.url=n,this.params=i,this.queryParams=a,this.fragment=c,this.data=f,this.outlet=h,this.component=g,this.routeConfig=y,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ju(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ju(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(a=>a.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${i}')`}},jy=class extends Vy{constructor(n,i){super(i),this.url=n,eI(this,i)}toString(){return tH(this._root)}};function eI(r,n){n.value._routerState=r,n.children.forEach(i=>eI(r,i))}function tH(r){let n=r.children.length>0?` { ${r.children.map(tH).join(", ")} } `:"";return`${r.value}${n}`}function xS(r){if(r.snapshot){let n=r.snapshot,i=r._futureSnapshot;r.snapshot=i,oi(n.queryParams,i.queryParams)||r.queryParamsSubject.next(i.queryParams),n.fragment!==i.fragment&&r.fragmentSubject.next(i.fragment),oi(n.params,i.params)||r.paramsSubject.next(i.params),E0e(n.url,i.url)||r.urlSubject.next(i.url),oi(n.data,i.data)||r.dataSubject.next(i.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function WS(r,n){let i=oi(r.params,n.params)&&S0e(r.url,n.url),a=!r.parent!=!n.parent;return i&&!a&&(!r.parent||WS(r.parent,n.parent))}function nH(r){return typeof r.title=="string"||r.title===null}var tc=(()=>{let n=class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ht,this.activateEvents=new ve,this.deactivateEvents=new ve,this.attachEvents=new ve,this.detachEvents=new ve,this.parentContexts=xe(Kp),this.location=xe(Ra),this.changeDetector=xe($i),this.environmentInjector=xe(Gr),this.inputBinder=xe(Wy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(a){if(a.name){let{firstChange:c,previousValue:f}=a.name;if(c)return;this.isTrackedInParentContexts(f)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(f)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(a){return this.parentContexts.getContext(a)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let a=this.parentContexts.getContext(this.name);a?.route&&(a.attachRef?this.attach(a.attachRef,a.route):this.activateWith(a.route,a.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new He(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new He(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new He(4012,!1);this.location.detach();let a=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(a.instance),a}attach(a,c){this.activated=a,this._activatedRoute=c,this.location.insert(a.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(a.instance)}deactivate(){if(this.activated){let a=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(a)}}activateWith(a,c){if(this.isActivated)throw new He(4013,!1);this._activatedRoute=a;let f=this.location,g=a.snapshot.component,y=this.parentContexts.getOrCreateContext(this.name).children,w=new qS(a,y,f.injector);this.activated=f.createComponent(g,{index:f.length,injector:w,environmentInjector:c??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};n.\u0275fac=function(c){return new(c||n)},n.\u0275dir=ir({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[gs]});let r=n;return r})(),qS=class r{__ngOutletInjector(n){return new r(this.route,this.childContexts,n)}constructor(n,i,a){this.route=n,this.childContexts=i,this.parent=a}get(n,i){return n===Cs?this.route:n===Kp?this.childContexts:this.parent.get(n,i)}},Wy=new tt(""),FU=(()=>{let n=class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(a){this.unsubscribeFromRouteData(a),this.subscribeToRouteData(a)}unsubscribeFromRouteData(a){this.outletDataSubscriptions.get(a)?.unsubscribe(),this.outletDataSubscriptions.delete(a)}subscribeToRouteData(a){let{activatedRoute:c}=a,f=ap([c.queryParams,c.params,c.data]).pipe(Mr(([h,g,y],w)=>(y=W(W(W({},h),g),y),w===0?it(y):Promise.resolve(y)))).subscribe(h=>{if(!a.isActivated||!a.activatedComponentRef||a.activatedRoute!==c||c.component===null){this.unsubscribeFromRouteData(a);return}let g=iU(c.component);if(!g){this.unsubscribeFromRouteData(a);return}for(let{templateName:y}of g.inputs)a.activatedComponentRef.setInput(y,h[y])});this.outletDataSubscriptions.set(a,f)}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac});let r=n;return r})();function K0e(r,n,i){let a=Hp(r,n._root,i?i._root:void 0);return new $y(a,n)}function Hp(r,n,i){if(i&&r.shouldReuseRoute(n.value,i.value.snapshot)){let a=i.value;a._futureSnapshot=n.value;let c=Y0e(r,n,i);return new xo(a,c)}else{if(r.shouldAttach(n.value)){let f=r.retrieve(n.value);if(f!==null){let h=f.route;return h.value._futureSnapshot=n.value,h.children=n.children.map(g=>Hp(r,g)),h}}let a=Z0e(n.value),c=n.children.map(f=>Hp(r,f));return new xo(a,c)}}function Y0e(r,n,i){return n.children.map(a=>{for(let c of i.children)if(r.shouldReuseRoute(a.value,c.value.snapshot))return Hp(r,a,c);return Hp(r,a)})}function Z0e(r){return new Cs(new zn(r.url),new zn(r.params),new zn(r.queryParams),new zn(r.fragment),new zn(r.data),r.outlet,r.component,r)}var rH="ngNavigationCancelingError";function oH(r,n){let{redirectTo:i,navigationBehaviorOptions:a}=ed(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,c=sH(!1,So.Redirect);return c.url=i,c.navigationBehaviorOptions=a,c}function sH(r,n){let i=new Error(`NavigationCancelingError: ${r||""}`);return i[rH]=!0,i.cancellationCode=n,i}function Q0e(r){return iH(r)&&ed(r.url)}function iH(r){return!!r&&r[rH]}var X0e=(()=>{let n=class n{};n.\u0275fac=function(c){return new(c||n)},n.\u0275cmp=_t({type:n,selectors:[["ng-component"]],standalone:!0,features:[xt],decls:1,vars:0,template:function(c,f){c&1&&Xe(0,"router-outlet")},dependencies:[tc],encapsulation:2});let r=n;return r})();function J0e(r,n){return r.providers&&!r._injector&&(r._injector=iy(r.providers,n,`Route: ${r.path}`)),r._injector??n}function tI(r){let n=r.children&&r.children.map(tI),i=n?Me(W({},r),{children:n}):W({},r);return!i.component&&!i.loadComponent&&(n||i.loadChildren)&&i.outlet&&i.outlet!==ht&&(i.component=X0e),i}function si(r){return r.outlet||ht}function eCe(r,n){let i=r.filter(a=>si(a)===n);return i.push(...r.filter(a=>si(a)!==n)),i}function Yp(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let n=r.parent;n;n=n.parent){let i=n.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var tCe=(r,n,i,a)=>Et(c=>(new GS(n,c.targetRouterState,c.currentRouterState,i,a).activate(r),c)),GS=class{constructor(n,i,a,c,f){this.routeReuseStrategy=n,this.futureState=i,this.currState=a,this.forwardEvent=c,this.inputBindingEnabled=f}activate(n){let i=this.futureState._root,a=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,a,n),xS(this.futureState.root),this.activateChildRoutes(i,a,n)}deactivateChildRoutes(n,i,a){let c=Zu(i);n.children.forEach(f=>{let h=f.value.outlet;this.deactivateRoutes(f,c[h],a),delete c[h]}),Object.values(c).forEach(f=>{this.deactivateRouteAndItsChildren(f,a)})}deactivateRoutes(n,i,a){let c=n.value,f=i?i.value:null;if(c===f)if(c.component){let h=a.getContext(c.outlet);h&&this.deactivateChildRoutes(n,i,h.children)}else this.deactivateChildRoutes(n,i,a);else f&&this.deactivateRouteAndItsChildren(i,a)}deactivateRouteAndItsChildren(n,i){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,i):this.deactivateRouteAndOutlet(n,i)}detachAndStoreRouteSubtree(n,i){let a=i.getContext(n.value.outlet),c=a&&n.value.component?a.children:i,f=Zu(n);for(let h of Object.values(f))this.deactivateRouteAndItsChildren(h,c);if(a&&a.outlet){let h=a.outlet.detach(),g=a.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:h,route:n,contexts:g})}}deactivateRouteAndOutlet(n,i){let a=i.getContext(n.value.outlet),c=a&&n.value.component?a.children:i,f=Zu(n);for(let h of Object.values(f))this.deactivateRouteAndItsChildren(h,c);a&&(a.outlet&&(a.outlet.deactivate(),a.children.onOutletDeactivated()),a.attachRef=null,a.route=null)}activateChildRoutes(n,i,a){let c=Zu(i);n.children.forEach(f=>{this.activateRoutes(f,c[f.value.outlet],a),this.forwardEvent(new jS(f.value.snapshot))}),n.children.length&&this.forwardEvent(new VS(n.value.snapshot))}activateRoutes(n,i,a){let c=n.value,f=i?i.value:null;if(xS(c),c===f)if(c.component){let h=a.getOrCreateContext(c.outlet);this.activateChildRoutes(n,i,h.children)}else this.activateChildRoutes(n,i,a);else if(c.component){let h=a.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){let g=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),h.children.onOutletReAttached(g.contexts),h.attachRef=g.componentRef,h.route=g.route.value,h.outlet&&h.outlet.attach(g.componentRef,g.route.value),xS(g.route.value),this.activateChildRoutes(n,null,h.children)}else{let g=Yp(c.snapshot);h.attachRef=null,h.route=c,h.injector=g,h.outlet&&h.outlet.activateWith(c,h.injector),this.activateChildRoutes(n,null,h.children)}}else this.activateChildRoutes(n,null,a)}},Uy=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Xu=class{constructor(n,i){this.component=n,this.route=i}};function nCe(r,n,i){let a=r._root,c=n?n._root:null;return Np(a,c,i,[a.value])}function rCe(r){let n=r.routeConfig?r.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:r,guards:n}}function rd(r,n){let i=Symbol(),a=n.get(r,i);return a===i?typeof r=="function"&&!z2(r)?r:n.get(r):a}function Np(r,n,i,a,c={canDeactivateChecks:[],canActivateChecks:[]}){let f=Zu(n);return r.children.forEach(h=>{oCe(h,f[h.value.outlet],i,a.concat([h.value]),c),delete f[h.value.outlet]}),Object.entries(f).forEach(([h,g])=>Fp(g,i.getContext(h),c)),c}function oCe(r,n,i,a,c={canDeactivateChecks:[],canActivateChecks:[]}){let f=r.value,h=n?n.value:null,g=i?i.getContext(r.value.outlet):null;if(h&&f.routeConfig===h.routeConfig){let y=sCe(h,f,f.routeConfig.runGuardsAndResolvers);y?c.canActivateChecks.push(new Uy(a)):(f.data=h.data,f._resolvedData=h._resolvedData),f.component?Np(r,n,g?g.children:null,a,c):Np(r,n,i,a,c),y&&g&&g.outlet&&g.outlet.isActivated&&c.canDeactivateChecks.push(new Xu(g.outlet.component,h))}else h&&Fp(n,g,c),c.canActivateChecks.push(new Uy(a)),f.component?Np(r,null,g?g.children:null,a,c):Np(r,null,i,a,c);return c}function sCe(r,n,i){if(typeof i=="function")return i(r,n);switch(i){case"pathParamsChange":return!ec(r.url,n.url);case"pathParamsOrQueryParamsChange":return!ec(r.url,n.url)||!oi(r.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!WS(r,n)||!oi(r.queryParams,n.queryParams);case"paramsChange":default:return!WS(r,n)}}function Fp(r,n,i){let a=Zu(r),c=r.value;Object.entries(a).forEach(([f,h])=>{c.component?n?Fp(h,n.children.getContext(f),i):Fp(h,null,i):Fp(h,n,i)}),c.component?n&&n.outlet&&n.outlet.isActivated?i.canDeactivateChecks.push(new Xu(n.outlet.component,c)):i.canDeactivateChecks.push(new Xu(null,c)):i.canDeactivateChecks.push(new Xu(null,c))}function Zp(r){return typeof r=="function"}function iCe(r){return typeof r=="boolean"}function aCe(r){return r&&Zp(r.canLoad)}function lCe(r){return r&&Zp(r.canActivate)}function cCe(r){return r&&Zp(r.canActivateChild)}function uCe(r){return r&&Zp(r.canDeactivate)}function dCe(r){return r&&Zp(r.canMatch)}function aH(r){return r instanceof Si||r?.name==="EmptyError"}var Ty=Symbol("INITIAL_VALUE");function nd(){return Mr(r=>ap(r.map(n=>n.pipe(Ii(1),YD(Ty)))).pipe(Et(n=>{for(let i of n)if(i!==!0){if(i===Ty)return Ty;if(i===!1||i instanceof Pa)return i}return!0}),Tr(n=>n!==Ty),Ii(1)))}function fCe(r,n){return wn(i=>{let{targetSnapshot:a,currentSnapshot:c,guards:{canActivateChecks:f,canDeactivateChecks:h}}=i;return h.length===0&&f.length===0?it(Me(W({},i),{guardsResult:!0})):pCe(h,a,c,r).pipe(wn(g=>g&&iCe(g)?hCe(a,f,r,n):it(g)),Et(g=>Me(W({},i),{guardsResult:g})))})}function pCe(r,n,i,a){return gn(r).pipe(wn(c=>bCe(c.component,c.route,i,n,a)),go(c=>c!==!0,!0))}function hCe(r,n,i,a){return gn(n).pipe(Ol(c=>Du(gCe(c.route.parent,a),mCe(c.route,a),yCe(r,c.path,i),vCe(r,c.route,i))),go(c=>c!==!0,!0))}function mCe(r,n){return r!==null&&n&&n(new $S(r)),it(!0)}function gCe(r,n){return r!==null&&n&&n(new BS(r)),it(!0)}function vCe(r,n,i){let a=n.routeConfig?n.routeConfig.canActivate:null;if(!a||a.length===0)return it(!0);let c=a.map(f=>cv(()=>{let h=Yp(n)??i,g=rd(f,h),y=lCe(g)?g.canActivate(n,r):Oi(h,()=>g(n,r));return Ba(y).pipe(go())}));return it(c).pipe(nd())}function yCe(r,n,i){let a=n[n.length-1],f=n.slice(0,n.length-1).reverse().map(h=>rCe(h)).filter(h=>h!==null).map(h=>cv(()=>{let g=h.guards.map(y=>{let w=Yp(h.node)??i,_=rd(y,w),k=cCe(_)?_.canActivateChild(a,r):Oi(w,()=>_(a,r));return Ba(k).pipe(go())});return it(g).pipe(nd())}));return it(f).pipe(nd())}function bCe(r,n,i,a,c){let f=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!f||f.length===0)return it(!0);let h=f.map(g=>{let y=Yp(n)??c,w=rd(g,y),_=uCe(w)?w.canDeactivate(r,n,i,a):Oi(y,()=>w(r,n,i,a));return Ba(_).pipe(go())});return it(h).pipe(nd())}function CCe(r,n,i,a){let c=n.canLoad;if(c===void 0||c.length===0)return it(!0);let f=c.map(h=>{let g=rd(h,r),y=aCe(g)?g.canLoad(n,i):Oi(r,()=>g(n,i));return Ba(y)});return it(f).pipe(nd(),lH(a))}function lH(r){return LD(hr(n=>{if(ed(n))throw oH(r,n)}),Et(n=>n===!0))}function wCe(r,n,i,a){let c=n.canMatch;if(!c||c.length===0)return it(!0);let f=c.map(h=>{let g=rd(h,r),y=dCe(g)?g.canMatch(n,i):Oi(r,()=>g(n,i));return Ba(y)});return it(f).pipe(nd(),lH(a))}var zp=class{constructor(n){this.segmentGroup=n||null}},Hy=class extends Error{constructor(n){super(),this.urlTree=n}};function Yu(r){return Cu(new zp(r))}function ECe(r){return Cu(new He(4e3,!1))}function DCe(r){return Cu(sH(!1,So.GuardRejected))}var KS=class{constructor(n,i){this.urlSerializer=n,this.urlTree=i}lineralizeSegments(n,i){let a=[],c=i.root;for(;;){if(a=a.concat(c.segments),c.numberOfChildren===0)return it(a);if(c.numberOfChildren>1||!c.children[ht])return ECe(n.redirectTo);c=c.children[ht]}}applyRedirectCommands(n,i,a){let c=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),n,a);if(i.startsWith("/"))throw new Hy(c);return c}applyRedirectCreateUrlTree(n,i,a,c){let f=this.createSegmentGroup(n,i.root,a,c);return new Pa(f,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(n,i){let a={};return Object.entries(n).forEach(([c,f])=>{if(typeof f=="string"&&f.startsWith(":")){let g=f.substring(1);a[c]=i[g]}else a[c]=f}),a}createSegmentGroup(n,i,a,c){let f=this.createSegments(n,i.segments,a,c),h={};return Object.entries(i.children).forEach(([g,y])=>{h[g]=this.createSegmentGroup(n,y,a,c)}),new Wt(f,h)}createSegments(n,i,a,c){return i.map(f=>f.path.startsWith(":")?this.findPosParam(n,f,c):this.findOrReturn(f,a))}findPosParam(n,i,a){let c=a[i.path.substring(1)];if(!c)throw new He(4001,!1);return c}findOrReturn(n,i){let a=0;for(let c of i){if(c.path===n.path)return i.splice(a),c;a++}return n}},YS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _Ce(r,n,i,a,c){let f=nI(r,n,i);return f.matched?(a=J0e(n,a),wCe(a,n,i,c).pipe(Et(h=>h===!0?f:W({},YS)))):it(f)}function nI(r,n,i){if(n.path==="**")return xCe(i);if(n.path==="")return n.pathMatch==="full"&&(r.hasChildren()||i.length>0)?W({},YS):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let c=(n.matcher||w0e)(i,r,n);if(!c)return W({},YS);let f={};Object.entries(c.posParams??{}).forEach(([g,y])=>{f[g]=y.path});let h=c.consumed.length>0?W(W({},f),c.consumed[c.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:c.consumed,remainingSegments:i.slice(c.consumed.length),parameters:h,positionalParamSegments:c.posParams??{}}}function xCe(r){return{matched:!0,parameters:r.length>0?jU(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}function LU(r,n,i,a){return i.length>0&&ACe(r,i,a)?{segmentGroup:new Wt(n,ICe(a,new Wt(i,r.children))),slicedSegments:[]}:i.length===0&&kCe(r,i,a)?{segmentGroup:new Wt(r.segments,SCe(r,i,a,r.children)),slicedSegments:i}:{segmentGroup:new Wt(r.segments,r.children),slicedSegments:i}}function SCe(r,n,i,a){let c={};for(let f of i)if(qy(r,n,f)&&!a[si(f)]){let h=new Wt([],{});c[si(f)]=h}return W(W({},a),c)}function ICe(r,n){let i={};i[ht]=n;for(let a of r)if(a.path===""&&si(a)!==ht){let c=new Wt([],{});i[si(a)]=c}return i}function ACe(r,n,i){return i.some(a=>qy(r,n,a)&&si(a)!==ht)}function kCe(r,n,i){return i.some(a=>qy(r,n,a))}function qy(r,n,i){return(r.hasChildren()||n.length>0)&&i.pathMatch==="full"?!1:i.path===""}function TCe(r,n,i,a){return si(r)!==a&&(a===ht||!qy(n,i,r))?!1:nI(n,r,i).matched}function MCe(r,n,i){return n.length===0&&!r.children[i]}var ZS=class{};function NCe(r,n,i,a,c,f,h="emptyOnly"){return new QS(r,n,i,a,c,h,f).recognize()}var RCe=31,QS=class{constructor(n,i,a,c,f,h,g){this.injector=n,this.configLoader=i,this.rootComponentType=a,this.config=c,this.urlTree=f,this.paramsInheritanceStrategy=h,this.urlSerializer=g,this.applyRedirects=new KS(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new He(4002,`'${n.segmentGroup}'`)}recognize(){let n=LU(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Et(i=>{let a=new Up([],Object.freeze({}),Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,{},ht,this.rootComponentType,null,{}),c=new xo(a,i),f=new jy("",c),h=$0e(a,[],this.urlTree.queryParams,this.urlTree.fragment);return h.queryParams=this.urlTree.queryParams,f.url=this.urlSerializer.serialize(h),this.inheritParamsAndData(f._root,null),{state:f,tree:h}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,ht).pipe(Ea(a=>{if(a instanceof Hy)return this.urlTree=a.urlTree,this.match(a.urlTree.root);throw a instanceof zp?this.noMatchError(a):a}))}inheritParamsAndData(n,i){let a=n.value,c=JS(a,i,this.paramsInheritanceStrategy);a.params=Object.freeze(c.params),a.data=Object.freeze(c.data),n.children.forEach(f=>this.inheritParamsAndData(f,a))}processSegmentGroup(n,i,a,c){return a.segments.length===0&&a.hasChildren()?this.processChildren(n,i,a):this.processSegment(n,i,a,a.segments,c,!0).pipe(Et(f=>f instanceof xo?[f]:[]))}processChildren(n,i,a){let c=[];for(let f of Object.keys(a.children))f==="primary"?c.unshift(f):c.push(f);return gn(c).pipe(Ol(f=>{let h=a.children[f],g=eCe(i,f);return this.processSegmentGroup(n,g,h,f)}),qD((f,h)=>(f.push(...h),f)),Da(null),WD(),wn(f=>{if(f===null)return Yu(a);let h=cH(f);return OCe(h),it(h)}))}processSegment(n,i,a,c,f,h){return gn(i).pipe(Ol(g=>this.processSegmentAgainstRoute(g._injector??n,i,g,a,c,f,h).pipe(Ea(y=>{if(y instanceof zp)return it(null);throw y}))),go(g=>!!g),Ea(g=>{if(aH(g))return MCe(a,c,f)?it(new ZS):Yu(a);throw g}))}processSegmentAgainstRoute(n,i,a,c,f,h,g){return TCe(a,c,f,h)?a.redirectTo===void 0?this.matchSegmentAgainstRoute(n,c,a,f,h):this.allowRedirects&&g?this.expandSegmentAgainstRouteUsingRedirect(n,c,i,a,f,h):Yu(c):Yu(c)}expandSegmentAgainstRouteUsingRedirect(n,i,a,c,f,h){let{matched:g,consumedSegments:y,positionalParamSegments:w,remainingSegments:_}=nI(i,c,f);if(!g)return Yu(i);c.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>RCe&&(this.allowRedirects=!1));let k=this.applyRedirects.applyRedirectCommands(y,c.redirectTo,w);return this.applyRedirects.lineralizeSegments(c,k).pipe(wn(V=>this.processSegment(n,a,i,V.concat(_),h,!1)))}matchSegmentAgainstRoute(n,i,a,c,f){let h=_Ce(i,a,c,n,this.urlSerializer);return a.path==="**"&&(i.children={}),h.pipe(Mr(g=>g.matched?(n=a._injector??n,this.getChildConfig(n,a,c).pipe(Mr(({routes:y})=>{let w=a._loadedInjector??n,{consumedSegments:_,remainingSegments:k,parameters:V}=g,$=new Up(_,V,Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,FCe(a),si(a),a.component??a._loadedComponent??null,a,LCe(a)),{segmentGroup:oe,slicedSegments:ue}=LU(i,_,k,y);if(ue.length===0&&oe.hasChildren())return this.processChildren(w,y,oe).pipe(Et(_e=>_e===null?null:new xo($,_e)));if(y.length===0&&ue.length===0)return it(new xo($,[]));let Ee=si(a)===f;return this.processSegment(w,y,oe,ue,Ee?ht:f,!0).pipe(Et(_e=>new xo($,_e instanceof xo?[_e]:[])))}))):Yu(i)))}getChildConfig(n,i,a){return i.children?it({routes:i.children,injector:n}):i.loadChildren?i._loadedRoutes!==void 0?it({routes:i._loadedRoutes,injector:i._loadedInjector}):CCe(n,i,a,this.urlSerializer).pipe(wn(c=>c?this.configLoader.loadChildren(n,i).pipe(hr(f=>{i._loadedRoutes=f.routes,i._loadedInjector=f.injector})):DCe(i))):it({routes:[],injector:n})}};function OCe(r){r.sort((n,i)=>n.value.outlet===ht?-1:i.value.outlet===ht?1:n.value.outlet.localeCompare(i.value.outlet))}function PCe(r){let n=r.value.routeConfig;return n&&n.path===""}function cH(r){let n=[],i=new Set;for(let a of r){if(!PCe(a)){n.push(a);continue}let c=n.find(f=>a.value.routeConfig===f.value.routeConfig);c!==void 0?(c.children.push(...a.children),i.add(c)):n.push(a)}for(let a of i){let c=cH(a.children);n.push(new xo(a.value,c))}return n.filter(a=>!i.has(a))}function FCe(r){return r.data||{}}function LCe(r){return r.resolve||{}}function BCe(r,n,i,a,c,f){return wn(h=>NCe(r,n,i,a,h.extractedUrl,c,f).pipe(Et(({state:g,tree:y})=>Me(W({},h),{targetSnapshot:g,urlAfterRedirects:y}))))}function VCe(r,n){return wn(i=>{let{targetSnapshot:a,guards:{canActivateChecks:c}}=i;if(!c.length)return it(i);let f=new Set(c.map(y=>y.route)),h=new Set;for(let y of f)if(!h.has(y))for(let w of uH(y))h.add(w);let g=0;return gn(h).pipe(Ol(y=>f.has(y)?$Ce(y,a,r,n):(y.data=JS(y,y.parent,r).resolve,it(void 0))),hr(()=>g++),xu(1),wn(y=>g===h.size?it(i):mo))})}function uH(r){let n=r.children.map(i=>uH(i)).flat();return[r,...n]}function $Ce(r,n,i,a){let c=r.routeConfig,f=r._resolve;return c?.title!==void 0&&!nH(c)&&(f[qp]=c.title),jCe(f,r,n,a).pipe(Et(h=>(r._resolvedData=h,r.data=JS(r,r.parent,i).resolve,null)))}function jCe(r,n,i,a){let c=AS(r);if(c.length===0)return it({});let f={};return gn(c).pipe(wn(h=>UCe(r[h],n,i,a).pipe(go(),hr(g=>{f[h]=g}))),xu(1),zD(f),Ea(h=>aH(h)?mo:Cu(h)))}function UCe(r,n,i,a){let c=Yp(n)??a,f=rd(r,c),h=f.resolve?f.resolve(n,i):Oi(c,()=>f(n,i));return Ba(h)}function SS(r){return Mr(n=>{let i=r(n);return i?gn(i).pipe(Et(()=>n)):it(n)})}var dH=(()=>{let n=class n{buildTitle(a){let c,f=a.root;for(;f!==void 0;)c=this.getResolvedTitleForRoute(f)??c,f=f.children.find(h=>h.outlet===ht);return c}getResolvedTitleForRoute(a){return a.data[qp]}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:()=>xe(HCe),providedIn:"root"});let r=n;return r})(),HCe=(()=>{let n=class n extends dH{constructor(a){super(),this.title=a}updateTitle(a){let c=this.buildTitle(a);c!==void 0&&this.title.setTitle(c)}};n.\u0275fac=function(c){return new(c||n)(at(TU))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})(),Qp=new tt("",{providedIn:"root",factory:()=>({})}),Wp=new tt(""),rI=(()=>{let n=class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=xe(py)}loadComponent(a){if(this.componentLoaders.get(a))return this.componentLoaders.get(a);if(a._loadedComponent)return it(a._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(a);let c=Ba(a.loadComponent()).pipe(Et(fH),hr(h=>{this.onLoadEndListener&&this.onLoadEndListener(a),a._loadedComponent=h}),lp(()=>{this.componentLoaders.delete(a)})),f=new yu(c,()=>new kn).pipe(vu());return this.componentLoaders.set(a,f),f}loadChildren(a,c){if(this.childrenLoaders.get(c))return this.childrenLoaders.get(c);if(c._loadedRoutes)return it({routes:c._loadedRoutes,injector:c._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(c);let h=zCe(c,this.compiler,a,this.onLoadEndListener).pipe(lp(()=>{this.childrenLoaders.delete(c)})),g=new yu(h,()=>new kn).pipe(vu());return this.childrenLoaders.set(c,g),g}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();function zCe(r,n,i,a){return Ba(r.loadChildren()).pipe(Et(fH),wn(c=>c instanceof yp||Array.isArray(c)?it(c):gn(n.compileModuleAsync(c))),Et(c=>{a&&a(r);let f,h,g=!1;return Array.isArray(c)?(h=c,g=!0):(f=c.create(i).injector,h=f.get(Wp,[],{optional:!0,self:!0}).flat()),{routes:h.map(tI),injector:f}}))}function WCe(r){return r&&typeof r=="object"&&"default"in r}function fH(r){return WCe(r)?r.default:r}var oI=(()=>{let n=class n{};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:()=>xe(qCe),providedIn:"root"});let r=n;return r})(),qCe=(()=>{let n=class n{shouldProcessUrl(a){return!0}extract(a){return a}merge(a,c){return a}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})(),pH=new tt(""),hH=new tt("");function GCe(r,n,i){let a=r.get(hH),c=r.get(Lr);return r.get(cn).runOutsideAngular(()=>{if(!c.startViewTransition||a.skipNextTransition)return a.skipNextTransition=!1,new Promise(w=>setTimeout(w));let f,h=new Promise(w=>{f=w}),g=c.startViewTransition(()=>(f(),KCe(r))),{onViewTransitionCreated:y}=a;return y&&Oi(r,()=>y({transition:g,from:n,to:i})),h})}function KCe(r){return new Promise(n=>{sy(n,{injector:r})})}var sI=(()=>{let n=class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new kn,this.transitionAbortSubject=new kn,this.configLoader=xe(rI),this.environmentInjector=xe(Gr),this.urlSerializer=xe(Gp),this.rootContexts=xe(Kp),this.location=xe(qu),this.inputBindingEnabled=xe(Wy,{optional:!0})!==null,this.titleStrategy=xe(dH),this.options=xe(Qp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=xe(oI),this.createViewTransition=xe(pH,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>it(void 0),this.rootComponentType=null;let a=f=>this.events.next(new FS(f)),c=f=>this.events.next(new LS(f));this.configLoader.onLoadEndListener=c,this.configLoader.onLoadStartListener=a}complete(){this.transitions?.complete()}handleNavigationRequest(a){let c=++this.navigationId;this.transitions?.next(Me(W(W({},this.transitions.value),a),{id:c}))}setupNavigations(a,c,f){return this.transitions=new zn({id:0,currentUrlTree:c,currentRawUrl:c,extractedUrl:this.urlHandlingStrategy.extract(c),urlAfterRedirects:this.urlHandlingStrategy.extract(c),rawUrl:c,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Pp,restoredState:null,currentSnapshot:f.snapshot,targetSnapshot:null,currentRouterState:f,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Tr(h=>h.id!==0),Et(h=>Me(W({},h),{extractedUrl:this.urlHandlingStrategy.extract(h.rawUrl)})),Mr(h=>{let g=!1,y=!1;return it(h).pipe(Mr(w=>{if(this.navigationId>h.id)return this.cancelNavigationTransition(h,"",So.SupersededByNewNavigation),mo;this.currentTransition=h,this.currentNavigation={id:w.id,initialUrl:w.rawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?Me(W({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let _=!a.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),k=w.extras.onSameUrlNavigation??a.onSameUrlNavigation;if(!_&&k!=="reload"){let V="";return this.events.next(new La(w.id,this.urlSerializer.serialize(w.rawUrl),V,Fy.IgnoredSameUrlNavigation)),w.resolve(null),mo}if(this.urlHandlingStrategy.shouldProcessUrl(w.rawUrl))return it(w).pipe(Mr(V=>{let $=this.transitions?.getValue();return this.events.next(new td(V.id,this.urlSerializer.serialize(V.extractedUrl),V.source,V.restoredState)),$!==this.transitions?.getValue()?mo:Promise.resolve(V)}),BCe(this.environmentInjector,this.configLoader,this.rootComponentType,a.config,this.urlSerializer,this.paramsInheritanceStrategy),hr(V=>{h.targetSnapshot=V.targetSnapshot,h.urlAfterRedirects=V.urlAfterRedirects,this.currentNavigation=Me(W({},this.currentNavigation),{finalUrl:V.urlAfterRedirects});let $=new Ly(V.id,this.urlSerializer.serialize(V.extractedUrl),this.urlSerializer.serialize(V.urlAfterRedirects),V.targetSnapshot);this.events.next($)}));if(_&&this.urlHandlingStrategy.shouldProcessUrl(w.currentRawUrl)){let{id:V,extractedUrl:$,source:oe,restoredState:ue,extras:Ee}=w,_e=new td(V,this.urlSerializer.serialize($),oe,ue);this.events.next(_e);let te=eH(this.rootComponentType).snapshot;return this.currentTransition=h=Me(W({},w),{targetSnapshot:te,urlAfterRedirects:$,extras:Me(W({},Ee),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=$,it(h)}else{let V="";return this.events.next(new La(w.id,this.urlSerializer.serialize(w.extractedUrl),V,Fy.IgnoredByUrlHandlingStrategy)),w.resolve(null),mo}}),hr(w=>{let _=new NS(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(_)}),Et(w=>(this.currentTransition=h=Me(W({},w),{guards:nCe(w.targetSnapshot,w.currentSnapshot,this.rootContexts)}),h)),fCe(this.environmentInjector,w=>this.events.next(w)),hr(w=>{if(h.guardsResult=w.guardsResult,ed(w.guardsResult))throw oH(this.urlSerializer,w.guardsResult);let _=new RS(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.events.next(_)}),Tr(w=>w.guardsResult?!0:(this.cancelNavigationTransition(w,"",So.GuardRejected),!1)),SS(w=>{if(w.guards.canActivateChecks.length)return it(w).pipe(hr(_=>{let k=new OS(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(k)}),Mr(_=>{let k=!1;return it(_).pipe(VCe(this.paramsInheritanceStrategy,this.environmentInjector),hr({next:()=>k=!0,complete:()=>{k||this.cancelNavigationTransition(_,"",So.NoDataFromResolver)}}))}),hr(_=>{let k=new PS(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(k)}))}),SS(w=>{let _=k=>{let V=[];k.routeConfig?.loadComponent&&!k.routeConfig._loadedComponent&&V.push(this.configLoader.loadComponent(k.routeConfig).pipe(hr($=>{k.component=$}),Et(()=>{})));for(let $ of k.children)V.push(..._($));return V};return ap(_(w.targetSnapshot.root)).pipe(Da(null),Ii(1))}),SS(()=>this.afterPreactivation()),Mr(()=>{let{currentSnapshot:w,targetSnapshot:_}=h,k=this.createViewTransition?.(this.environmentInjector,w.root,_.root);return k?gn(k).pipe(Et(()=>h)):it(h)}),Et(w=>{let _=K0e(a.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return this.currentTransition=h=Me(W({},w),{targetRouterState:_}),this.currentNavigation.targetRouterState=_,h}),hr(()=>{this.events.next(new $p)}),tCe(this.rootContexts,a.routeReuseStrategy,w=>this.events.next(w),this.inputBindingEnabled),Ii(1),hr({next:w=>{g=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qi(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects))),this.titleStrategy?.updateTitle(w.targetRouterState.snapshot),w.resolve(!0)},complete:()=>{g=!0}}),Pl(this.transitionAbortSubject.pipe(hr(w=>{throw w}))),lp(()=>{!g&&!y&&this.cancelNavigationTransition(h,"",So.SupersededByNewNavigation),this.currentTransition?.id===h.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ea(w=>{if(y=!0,iH(w))this.events.next(new Fa(h.id,this.urlSerializer.serialize(h.extractedUrl),w.message,w.cancellationCode)),Q0e(w)?this.events.next(new jp(w.url)):h.resolve(!1);else{this.events.next(new Vp(h.id,this.urlSerializer.serialize(h.extractedUrl),w,h.targetSnapshot??void 0));try{h.resolve(a.errorHandler(w))}catch(_){this.options.resolveNavigationPromiseOnError?h.resolve(!1):h.reject(_)}}return mo}))}))}cancelNavigationTransition(a,c,f){let h=new Fa(a.id,this.urlSerializer.serialize(a.extractedUrl),c,f);this.events.next(h),a.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();function YCe(r){return r!==Pp}var ZCe=(()=>{let n=class n{};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:()=>xe(QCe),providedIn:"root"});let r=n;return r})(),XS=class{shouldDetach(n){return!1}store(n,i){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,i){return n.routeConfig===i.routeConfig}},QCe=(()=>{let n=class n extends XS{};n.\u0275fac=(()=>{let a;return function(f){return(a||(a=ju(n)))(f||n)}})(),n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})(),mH=(()=>{let n=class n{};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:()=>xe(XCe),providedIn:"root"});let r=n;return r})(),XCe=(()=>{let n=class n extends mH{constructor(){super(...arguments),this.location=xe(qu),this.urlSerializer=xe(Gp),this.options=xe(Qp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=xe(oI),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pa,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=eH(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(a){return this.location.subscribe(c=>{c.type==="popstate"&&a(c.url,c.state)})}handleRouterEvent(a,c){if(a instanceof td)this.stateMemento=this.createStateMemento();else if(a instanceof La)this.rawUrlTree=c.initialUrl;else if(a instanceof Ly){if(this.urlUpdateStrategy==="eager"&&!c.extras.skipLocationChange){let f=this.urlHandlingStrategy.merge(c.finalUrl,c.initialUrl);this.setBrowserUrl(f,c)}}else a instanceof $p?(this.currentUrlTree=c.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(c.finalUrl,c.initialUrl),this.routerState=c.targetRouterState,this.urlUpdateStrategy==="deferred"&&(c.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,c))):a instanceof Fa&&(a.code===So.GuardRejected||a.code===So.NoDataFromResolver)?this.restoreHistory(c):a instanceof Vp?this.restoreHistory(c,!0):a instanceof qi&&(this.lastSuccessfulId=a.id,this.currentPageId=this.browserPageId)}setBrowserUrl(a,c){let f=this.urlSerializer.serialize(a);if(this.location.isCurrentPathEqualTo(f)||c.extras.replaceUrl){let h=this.browserPageId,g=W(W({},c.extras.state),this.generateNgRouterState(c.id,h));this.location.replaceState(f,"",g)}else{let h=W(W({},c.extras.state),this.generateNgRouterState(c.id,this.browserPageId+1));this.location.go(f,"",h)}}restoreHistory(a,c=!1){if(this.canceledNavigationResolution==="computed"){let f=this.browserPageId,h=this.currentPageId-f;h!==0?this.location.historyGo(h):this.currentUrlTree===a.finalUrl&&h===0&&(this.resetState(a),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(c&&this.resetState(a),this.resetUrlToCurrentUrlTree())}resetState(a){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,a.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(a,c){return this.canceledNavigationResolution==="computed"?{navigationId:a,\u0275routerPageId:c}:{navigationId:a}}};n.\u0275fac=(()=>{let a;return function(f){return(a||(a=ju(n)))(f||n)}})(),n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})(),Rp=function(r){return r[r.COMPLETE=0]="COMPLETE",r[r.FAILED=1]="FAILED",r[r.REDIRECTING=2]="REDIRECTING",r}(Rp||{});function gH(r,n){r.events.pipe(Tr(i=>i instanceof qi||i instanceof Fa||i instanceof Vp||i instanceof La),Et(i=>i instanceof qi||i instanceof La?Rp.COMPLETE:(i instanceof Fa?i.code===So.Redirect||i.code===So.SupersededByNewNavigation:!1)?Rp.REDIRECTING:Rp.FAILED),Tr(i=>i!==Rp.REDIRECTING),Ii(1)).subscribe(()=>{n()})}function JCe(r){throw r}var ewe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},twe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Yr=(()=>{let n=class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=xe(uy),this.stateManager=xe(mH),this.options=xe(Qp,{optional:!0})||{},this.pendingTasks=xe(ay),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=xe(sI),this.urlSerializer=xe(Gp),this.location=xe(qu),this.urlHandlingStrategy=xe(oI),this._events=new kn,this.errorHandler=this.options.errorHandler||JCe,this.navigated=!1,this.routeReuseStrategy=xe(ZCe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=xe(Wp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!xe(Wy,{optional:!0}),this.eventsSubscription=new Hn,this.isNgZoneEnabled=xe(cn)instanceof cn&&cn.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:a=>{this.console.warn(a)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let a=this.navigationTransitions.events.subscribe(c=>{try{let f=this.navigationTransitions.currentTransition,h=this.navigationTransitions.currentNavigation;if(f!==null&&h!==null){if(this.stateManager.handleRouterEvent(c,h),c instanceof Fa&&c.code!==So.Redirect&&c.code!==So.SupersededByNewNavigation)this.navigated=!0;else if(c instanceof qi)this.navigated=!0;else if(c instanceof jp){let g=this.urlHandlingStrategy.merge(c.url,f.currentRawUrl),y={info:f.extras.info,skipLocationChange:f.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||YCe(f.source)};this.scheduleNavigation(g,Pp,null,y,{resolve:f.resolve,reject:f.reject,promise:f.promise})}}rwe(c)&&this._events.next(c)}catch(f){this.navigationTransitions.transitionAbortSubject.next(f)}});this.eventsSubscription.add(a)}resetRootComponentType(a){this.routerState.root.component=a,this.navigationTransitions.rootComponentType=a}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Pp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((a,c)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(a,"popstate",c)},0)})}navigateToSyncWithBrowser(a,c,f){let h={replaceUrl:!0},g=f?.navigationId?f:null;if(f){let w=W({},f);delete w.navigationId,delete w.\u0275routerPageId,Object.keys(w).length!==0&&(h.state=w)}let y=this.parseUrl(a);this.scheduleNavigation(y,c,g,h)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(a){this.config=a.map(tI),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(a,c={}){let{relativeTo:f,queryParams:h,fragment:g,queryParamsHandling:y,preserveFragment:w}=c,_=w?this.currentUrlTree.fragment:g,k=null;switch(y){case"merge":k=W(W({},this.currentUrlTree.queryParams),h);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=h||null}k!==null&&(k=this.removeEmptyProps(k));let V;try{let $=f?f.snapshot:this.routerState.snapshot.root;V=ZU($)}catch{(typeof a[0]!="string"||!a[0].startsWith("/"))&&(a=[]),V=this.currentUrlTree.root}return QU(V,a,k,_??null)}navigateByUrl(a,c={skipLocationChange:!1}){let f=ed(a)?a:this.parseUrl(a),h=this.urlHandlingStrategy.merge(f,this.rawUrlTree);return this.scheduleNavigation(h,Pp,null,c)}navigate(a,c={skipLocationChange:!1}){return nwe(a),this.navigateByUrl(this.createUrlTree(a,c),c)}serializeUrl(a){return this.urlSerializer.serialize(a)}parseUrl(a){try{return this.urlSerializer.parse(a)}catch{return this.urlSerializer.parse("/")}}isActive(a,c){let f;if(c===!0?f=W({},ewe):c===!1?f=W({},twe):f=c,ed(a))return NU(this.currentUrlTree,a,f);let h=this.parseUrl(a);return NU(this.currentUrlTree,h,f)}removeEmptyProps(a){return Object.entries(a).reduce((c,[f,h])=>(h!=null&&(c[f]=h),c),{})}scheduleNavigation(a,c,f,h,g){if(this.disposed)return Promise.resolve(!1);let y,w,_;g?(y=g.resolve,w=g.reject,_=g.promise):_=new Promise((V,$)=>{y=V,w=$});let k=this.pendingTasks.add();return gH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(k))}),this.navigationTransitions.handleNavigationRequest({source:c,restoredState:f,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:a,extras:h,resolve:y,reject:w,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(V=>Promise.reject(V))}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();function nwe(r){for(let n=0;n<r.length;n++)if(r[n]==null)throw new He(4008,!1)}function rwe(r){return!(r instanceof $p)&&!(r instanceof jp)}var zy=class{};var owe=(()=>{let n=class n{constructor(a,c,f,h,g){this.router=a,this.injector=f,this.preloadingStrategy=h,this.loader=g}setUpPreloading(){this.subscription=this.router.events.pipe(Tr(a=>a instanceof qi),Ol(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(a,c){let f=[];for(let h of c){h.providers&&!h._injector&&(h._injector=iy(h.providers,a,`Route: ${h.path}`));let g=h._injector??a,y=h._loadedInjector??g;(h.loadChildren&&!h._loadedRoutes&&h.canLoad===void 0||h.loadComponent&&!h._loadedComponent)&&f.push(this.preloadConfig(g,h)),(h.children||h._loadedRoutes)&&f.push(this.processRoutes(y,h.children??h._loadedRoutes))}return gn(f).pipe(Eu())}preloadConfig(a,c){return this.preloadingStrategy.preload(c,()=>{let f;c.loadChildren&&c.canLoad===void 0?f=this.loader.loadChildren(a,c):f=it(null);let h=f.pipe(wn(g=>g===null?it(void 0):(c._loadedRoutes=g.routes,c._loadedInjector=g.injector,this.processRoutes(g.injector??a,g.routes))));if(c.loadComponent&&!c._loadedComponent){let g=this.loader.loadComponent(c);return gn([h,g]).pipe(Eu())}else return h})}};n.\u0275fac=function(c){return new(c||n)(at(Yr),at(py),at(Gr),at(zy),at(rI))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})(),vH=new tt(""),swe=(()=>{let n=class n{constructor(a,c,f,h,g={}){this.urlSerializer=a,this.transitions=c,this.viewportScroller=f,this.zone=h,this.options=g,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=xe(Gr),g.scrollPositionRestoration||="disabled",g.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(a=>{a instanceof td?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=a.navigationTrigger,this.restoredId=a.restoredState?a.restoredState.navigationId:0):a instanceof qi?(this.lastId=a.id,this.scheduleScrollEvent(a,this.urlSerializer.parse(a.urlAfterRedirects).fragment)):a instanceof La&&a.code===Fy.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(a,this.urlSerializer.parse(a.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(a=>{a instanceof By&&(a.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(a.position):a.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(a.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(a,c){this.zone.runOutsideAngular(()=>pt(this,null,function*(){yield new Promise(f=>{setTimeout(()=>{f()}),sy(()=>{f()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new By(a,this.lastSource==="popstate"?this.store[this.restoredId]:null,c))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};n.\u0275fac=function(c){_j()},n.\u0275prov=Ge({token:n,factory:n.\u0275fac});let r=n;return r})();function yH(r,...n){return qv([{provide:Wp,multi:!0,useValue:r},[],{provide:Cs,useFactory:bH,deps:[Yr]},{provide:fy,multi:!0,useFactory:CH},n.map(i=>i.\u0275providers)])}function bH(r){return r.routerState.root}function Xp(r,n){return{\u0275kind:r,\u0275providers:n}}function CH(){let r=xe(Li);return n=>{let i=r.get(Sp);if(n!==i.components[0])return;let a=r.get(Yr),c=r.get(wH);r.get(iI)===1&&a.initialNavigation(),r.get(EH,null,Dt.Optional)?.setUpPreloading(),r.get(vH,null,Dt.Optional)?.init(),a.resetRootComponentType(i.componentTypes[0]),c.closed||(c.next(),c.complete(),c.unsubscribe())}}var wH=new tt("",{factory:()=>new kn}),iI=new tt("",{providedIn:"root",factory:()=>1});function iwe(){return Xp(2,[{provide:iI,useValue:0},{provide:dy,multi:!0,deps:[Li],useFactory:n=>{let i=n.get(hU,Promise.resolve());return()=>i.then(()=>new Promise(a=>{let c=n.get(Yr),f=n.get(wH);gH(c,()=>{a(!0)}),n.get(sI).afterPreactivation=()=>(a(!0),f.closed?it(void 0):f),c.initialNavigation()}))}}])}function awe(){return Xp(3,[{provide:dy,multi:!0,useFactory:()=>{let n=xe(Yr);return()=>{n.setUpLocationChangeListener()}}},{provide:iI,useValue:2}])}var EH=new tt("");function lwe(r){return Xp(0,[{provide:EH,useExisting:owe},{provide:zy,useExisting:r}])}function cwe(){return Xp(8,[FU,{provide:Wy,useExisting:FU}])}function uwe(r){let n=[{provide:pH,useValue:GCe},{provide:hH,useValue:W({skipNextTransition:!!r?.skipInitialTransition},r)}];return Xp(9,n)}var BU=new tt("ROUTER_FORROOT_GUARD"),dwe=[qu,{provide:Gp,useClass:Lp},Yr,Kp,{provide:Cs,useFactory:bH,deps:[Yr]},rI,[]],Gy=(()=>{let n=class n{constructor(a){}static forRoot(a,c){return{ngModule:n,providers:[dwe,[],{provide:Wp,multi:!0,useValue:a},{provide:BU,useFactory:mwe,deps:[[Yr,new Wv,new gx]]},{provide:Qp,useValue:c||{}},c?.useHash?pwe():hwe(),fwe(),c?.preloadingStrategy?lwe(c.preloadingStrategy).\u0275providers:[],c?.initialNavigation?gwe(c):[],c?.bindToComponentInputs?cwe().\u0275providers:[],c?.enableViewTransitions?uwe().\u0275providers:[],vwe()]}}static forChild(a){return{ngModule:n,providers:[{provide:Wp,multi:!0,useValue:a}]}}};n.\u0275fac=function(c){return new(c||n)(at(BU,8))},n.\u0275mod=Ri({type:n}),n.\u0275inj=Ni({});let r=n;return r})();function fwe(){return{provide:vH,useFactory:()=>{let r=xe(wU),n=xe(cn),i=xe(Qp),a=xe(sI),c=xe(Gp);return i.scrollOffset&&r.setOffset(i.scrollOffset),new swe(c,a,r,n,i)}}}function pwe(){return{provide:Xl,useClass:gU}}function hwe(){return{provide:Xl,useClass:dS}}function mwe(r){return"guarded"}function gwe(r){return[r.initialNavigation==="disabled"?awe().\u0275providers:[],r.initialNavigation==="enabledBlocking"?iwe().\u0275providers:[]]}var VU=new tt("");function vwe(){return[{provide:VU,useFactory:CH},{provide:fy,multi:!0,useExisting:VU}]}function ywe(r,n){if(r&1&&Xe(0,"img",11),r&2){let i=Ct();Eo("src",i.user.image_name,wo)}}function bwe(r,n){if(r&1&&(K(0,"div"),le(1),Y()),r&2){let i=Ct();Ce(),en(i.user.username)}}function Cwe(r,n){if(r&1&&(K(0,"div",12),le(1),Y()),r&2){let i=Ct();Ce(),en(i.user.email)}}function wwe(r,n){if(r&1){let i=ys();K(0,"a",13),Tt("click",function(){Or(i);let c=Ct();return Pr(c.logoutCallback())}),le(1,"Sign out"),Y()}}var DH=(()=>{let n=class n{ngOnInit(){}};n.\u0275fac=function(c){return new(c||n)},n.\u0275cmp=_t({type:n,selectors:[["app-profile-dropdown"]],inputs:{user:"user",logoutCallback:"logoutCallback"},standalone:!0,features:[xt],decls:14,vars:4,consts:[["id","dropdownUserAvatarButton","data-dropdown-toggle","dropdownAvatar","type","button",1,"flex","text-sm","bg-gray-800","rounded-full","md:me-0","focus:ring-4","focus:ring-gray-300","dark:focus:ring-gray-600"],[1,"sr-only"],["class","w-8 h-8 rounded-full","alt","user photo",3,"src",4,"ngIf"],["id","dropdownAvatar",1,"z-10","hidden","bg-white","divide-y","divide-gray-100","rounded-lg","shadow","w-44","dark:bg-gray-700","dark:divide-gray-600"],[1,"px-4","py-3","text-sm","text-gray-900","dark:text-white"],[4,"ngIf"],["class","font-medium truncate",4,"ngIf"],["aria-labelledby","dropdownUserAvatarButton",1,"py-2","text-sm","text-gray-700","dark:text-gray-200"],["href","/profile",1,"block","px-4","py-2","hover:bg-gray-100","dark:hover:bg-gray-600","dark:hover:text-white"],[1,"py-2"],["class","block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white",3,"click",4,"ngIf"],["alt","user photo",1,"w-8","h-8","rounded-full",3,"src"],[1,"font-medium","truncate"],[1,"block","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","dark:hover:bg-gray-600","dark:text-gray-200","dark:hover:text-white",3,"click"]],template:function(c,f){c&1&&(K(0,"button",0)(1,"span",1),le(2,"Open user menu"),Y(),Yt(3,ywe,1,1,"img",2),Y(),K(4,"div",3)(5,"div",4),Yt(6,bwe,2,1,"div",5)(7,Cwe,2,1,"div",6),Y(),K(8,"ul",7)(9,"li")(10,"a",8),le(11,"Profile"),Y()()(),K(12,"div",9),Yt(13,wwe,2,0,"a",10),Y()()),c&2&&(Ce(3),nt("ngIf",f.user!=null),Ce(3),nt("ngIf",f.user!=null),Ce(),nt("ngIf",f.user!=null),Ce(6),nt("ngIf",f.logoutCallback))},dependencies:[Mn,Kr],encapsulation:2});let r=n;return r})();var En=(()=>{let n=class n{constructor(){this.header={Accept:"application/json"},localStorage.getItem("token")!=null&&(this.token=localStorage.getItem("token"),this.addAuthorizationToHeader())}addAuthorizationToHeader(){this.header.Authorization=`Bearer ${this.token}`}get(a,c){return pt(this,null,function*(){try{return this.addAuthorizationToHeader(),yield(yield fetch(`http://localhost/bloggy-api/public/api/${a}/${c}`,{headers:this.header,method:"GET"})).json()}catch(f){f instanceof Error?console.log(f.message):console.log("An uknown error occured")}})}getAll(a){return pt(this,null,function*(){return this.addAuthorizationToHeader(),yield(yield fetch(`http://localhost/bloggy-api/public/api/${a}`,{headers:this.header,method:"GET"})).json()})}update(a,c,f){return pt(this,null,function*(){return this.addAuthorizationToHeader(),yield(yield fetch(`http://localhost/bloggy-api/public/api/${a}/${c}`,{headers:this.header,method:"PUT",body:JSON.stringify(f)})).json()})}create(a,c){return pt(this,null,function*(){try{return this.addAuthorizationToHeader(),yield(yield fetch(`http://localhost/bloggy-api/public/api/${a}`,{headers:this.header,method:"POST",body:JSON.stringify(c)})).json()}catch(f){if(f instanceof Error)return f.message}})}upload(a,c){return pt(this,null,function*(){try{return this.addAuthorizationToHeader(),yield(yield fetch(`http://localhost/bloggy-api/public/api/${a}`,{headers:this.header,method:"POST",body:c})).json()}catch(f){if(f instanceof Error)return f.message}})}delete(a,c){return pt(this,null,function*(){return this.addAuthorizationToHeader(),yield(yield fetch(`http://localhost/bloggy-api/public/api/${a}/${c}`,{headers:this.header,method:"DELETE"})).json()})}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();function Ewe(r,n){if(r&1&&Xe(0,"app-profile-dropdown",20),r&2){let i=Ct();nt("user",i.user)("logoutCallback",i.logout)}}function Dwe(r,n){r&1&&(K(0,"a",21),le(1," Log in"),Y())}function _we(r,n){r&1&&(K(0,"a",22),le(1,"Get started"),Y())}var qo=(()=>{let n=class n{constructor(a){this.dataService=a,this.isAuthorized=!1,this.getUser(),this.isAuthorized=!!localStorage.getItem("token")}ngOnInit(){}getUser(){return pt(this,null,function*(){try{let a=localStorage.getItem("user_id");if(a!=null){let c=yield this.dataService.get("users",a);this.user=c.data.user}}catch{}})}logout(){localStorage.removeItem("token"),localStorage.removeItem("user_id"),this.isAuthorized=!1,window.location.href="/home"}};n.\u0275fac=function(c){return new(c||n)(Re(En))},n.\u0275cmp=_t({type:n,selectors:[["app-header"]],inputs:{page:"page"},standalone:!0,features:[xt],decls:29,vars:3,consts:[[1,"bg-white","border-gray-200","px-4","lg:px-6","py-2.5","dark:bg-gray-800"],[1,"flex","flex-wrap","justify-between","items-center","mx-auto","max-w-screen-xl"],[1,"flex","items-center"],["src","../../../../assets/blogger.png","alt","Flowbite Logo",1,"mr-3","h-6","sm:h-9"],[1,"self-center","text-xl","font-semibold","whitespace-nowrap","dark:text-white"],[1,"flex","items-center","lg:order-2"],["class","md:pr-12 ",3,"user","logoutCallback",4,"ngIf"],["href","/login","class","text-gray-800 dark:text-white hover:bg-gray-50 focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-4 lg:px-5 py-2 lg:py-2.5 mr-2 dark:hover:bg-gray-700 focus:outline-none dark:focus:ring-gray-800",4,"ngIf"],["href","/register","class","text-white bg-primary-700 hover:bg-primary-800 focus:ring-4 focus:ring-primary-300 font-medium rounded-lg text-sm px-4 lg:px-5 py-2 lg:py-2.5 mr-2 dark:bg-primary-600 dark:hover:bg-primary-700 focus:outline-none dark:focus:ring-primary-800",4,"ngIf"],["data-collapse-toggle","mobile-menu-2","type","button","aria-controls","mobile-menu-2","aria-expanded","false",1,"inline-flex","items-center","p-2","ml-1","text-sm","text-gray-500","rounded-lg","lg:hidden","hover:bg-gray-100","focus:outline-none","focus:ring-2","focus:ring-gray-200","dark:text-gray-400","dark:hover:bg-gray-700","dark:focus:ring-gray-600"],[1,"sr-only"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["fill-rule","evenodd","d","M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule","evenodd"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"hidden","w-6","h-6"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],["id","mobile-menu-2",1,"hidden","justify-between","items-center","w-full","lg:flex","lg:w-auto","lg:order-1"],[1,"flex","flex-col","mt-4","font-medium","lg:flex-row","lg:space-x-8","lg:mt-0"],["href","/home",1,"block","py-2","pr-4","pl-3","text-white","rounded","bg-primary-700","lg:bg-transparent","lg:text-primary-700","lg:p-0","dark:text-gray-400"],["href","/explore",1,"block","py-2","pr-4","pl-3","text-gray-700","border-b","border-gray-100","hover:bg-gray-50","lg:hover:bg-transparent","lg:border-0","lg:hover:text-primary-700","lg:p-0","dark:text-gray-400","lg:dark:hover:text-white","dark:hover:bg-gray-700","dark:hover:text-white","lg:dark:hover:bg-transparent","dark:border-gray-700"],["href","/blogs",1,"block","py-2","pr-4","pl-3","text-gray-700","border-b","border-gray-100","hover:bg-gray-50","lg:hover:bg-transparent","lg:border-0","lg:hover:text-primary-700","lg:p-0","dark:text-gray-400","lg:dark:hover:text-white","dark:hover:bg-gray-700","dark:hover:text-white","lg:dark:hover:bg-transparent","dark:border-gray-700"],[1,"md:pr-12",3,"user","logoutCallback"],["href","/login",1,"text-gray-800","dark:text-white","hover:bg-gray-50","focus:ring-4","focus:ring-gray-300","font-medium","rounded-lg","text-sm","px-4","lg:px-5","py-2","lg:py-2.5","mr-2","dark:hover:bg-gray-700","focus:outline-none","dark:focus:ring-gray-800"],["href","/register",1,"text-white","bg-primary-700","hover:bg-primary-800","focus:ring-4","focus:ring-primary-300","font-medium","rounded-lg","text-sm","px-4","lg:px-5","py-2","lg:py-2.5","mr-2","dark:bg-primary-600","dark:hover:bg-primary-700","focus:outline-none","dark:focus:ring-primary-800"]],template:function(c,f){c&1&&(K(0,"header")(1,"nav",0)(2,"div",1)(3,"div",2),Xe(4,"img",3),K(5,"span",4),le(6,"BLOGGY"),Y()(),K(7,"div",5),Yt(8,Ewe,1,2,"app-profile-dropdown",6)(9,Dwe,2,0,"a",7)(10,_we,2,0,"a",8),K(11,"button",9)(12,"span",10),le(13,"Open main menu"),Y(),ei(),K(14,"svg",11),Xe(15,"path",12),Y(),K(16,"svg",13),Xe(17,"path",14),Y()()(),Ta(),K(18,"div",15)(19,"ul",16)(20,"li")(21,"a",17),le(22," Home"),Y()(),K(23,"li")(24,"a",18),le(25,"Explore"),Y()(),K(26,"li")(27,"a",19),le(28,"Blog"),Y()()()()()()()),c&2&&(Ce(8),nt("ngIf",f.isAuthorized),Ce(),nt("ngIf",!f.isAuthorized),Ce(),nt("ngIf",!f.isAuthorized))},dependencies:[Gy,Mn,Kr,DH],encapsulation:2});let r=n;return r})();var _H=(()=>{let n=class n{constructor(a){this.route=a}goToExplore(){this.route.navigate(["/explore"])}};n.\u0275fac=function(c){return new(c||n)(Re(Yr))},n.\u0275cmp=_t({type:n,selectors:[["app-home"]],standalone:!0,features:[xt],decls:16,vars:0,consts:[[1,"bg-white","dark:bg-gray-900"],[1,"gap-16","pt-8","px-4","mx-auto","max-w-screen-xl","min-h-screen","lg:grid","lg:grid-cols-2","lg:pt-16","lg:px-6"],[1,"font-light","text-gray-500","sm:text-lg","dark:text-gray-400"],[1,"mb-4","text-4xl","tracking-tight","font-extrabold","text-gray-900","dark:text-white"],[1,"mb-4"],[1,"mt-4"],["type","button",1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","me-2","mb-2","dark:bg-blue-600","dark:hover:bg-blue-700","focus:outline-none","dark:focus:ring-blue-800",3,"click"],[1,"grid","grid-cols-2","gap-4","mt-8"],["src","../../../assets/public.png","alt","office content 1",1,"hidden","w-full","rounded-lg","lg:block"],["src","../../../assets/article.png","alt","office content 2",1,"hidden","mt-4","w-full","lg:mt-32","rounded-lg","lg:block"]],template:function(c,f){c&1&&(Xe(0,"app-header"),K(1,"section",0)(2,"div",1)(3,"div",2)(4,"h2",3),le(5,"Effortless Blogging, Unmatched Quality."),Y(),K(6,"p",4),le(7,"Unlock the power of seamless blogging with our expert team of strategists, designers, and developers. We're not just creators\u2014we're innovators and problem solvers dedicated to delivering top-notch solutions quickly and efficiently. Get the results you need, exactly when you need them."),Y(),K(8,"p"),le(9,"Experience the perfect blend of strategy, creativity, and technical expertise. Choose us for a hassle-free, high-quality blogging experience that sets you apart."),Y(),K(10,"div",5)(11,"button",6),Tt("click",function(){return f.goToExplore()}),le(12,"Start Reading"),Y()()(),K(13,"div",7),Xe(14,"img",8)(15,"img",9),Y()()())},dependencies:[qo],encapsulation:2});let r=n;return r})();function xwe(r,n){if(r&1){let i=ys();K(0,"button",17),Tt("click",function(){Or(i);let c=Ct();return Pr(c.deleteBlog(c.data.blog_id))}),le(1," Delete "),Y()}}function Swe(r,n){if(r&1&&(K(0,"a",14),le(1," Edit "),Y()),r&2){let i=Ct();Zl("href","blogs/edit/",i.data.blog_id,"",wo)}}var Ky=(()=>{let n=class n{constructor(a){this.dataService=a,this.user_id=localStorage.getItem("user_id")}ngOnInit(){}deleteBlog(a){return pt(this,null,function*(){if(a)try{yield this.dataService.delete("blogs",a),window.location.href="/blogs"}catch(c){console.error("Error deleting blog:",c)}else console.error("Blog ID is undefined")})}};n.\u0275fac=function(c){return new(c||n)(Re(En))},n.\u0275cmp=_t({type:n,selectors:[["app-blog-card"]],inputs:{data:"data"},standalone:!0,features:[xt],decls:24,vars:16,consts:[[1,"p-6","bg-white","rounded-lg","border","border-gray-200","shadow-md","dark:bg-gray-800","dark:border-gray-700"],[1,"flex","justify-between","items-center","mb-5","text-gray-500"],[1,"bg-primary-100","text-primary-800","text-xs","font-medium","inline-flex","items-center","px-2.5","py-0.5","rounded","dark:bg-primary-200","dark:text-primary-800"],[1,"text-sm"],[1,"mb-2","text-2xl","font-bold","tracking-tight","text-gray-900","dark:text-white"],[3,"href"],[1,"mb-5","font-light","text-gray-500","dark:text-gray-400"],[1,"flex","justify-between","items-center"],[1,"flex","items-center","space-x-4"],[1,"w-7","h-7","rounded-full",3,"src","alt"],[1,"font-medium","dark:text-white"],[1,"flex","gap-5"],["class","inline-flex items-center font-medium text-red-600 dark:text-red-600 hover:underline",3,"click",4,"ngIf"],["class","inline-flex items-center font-medium text-primary-600 dark:text-primary-500 hover:underline",3,"href",4,"ngIf"],[1,"inline-flex","items-center","font-medium","text-primary-600","dark:text-primary-500","hover:underline",3,"href"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"ml-2","w-4","h-4"],["fill-rule","evenodd","d","M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"inline-flex","items-center","font-medium","text-red-600","dark:text-red-600","hover:underline",3,"click"]],template:function(c,f){c&1&&(K(0,"article",0)(1,"div",1)(2,"span",2),le(3," Bloggy "),Y(),K(4,"span",3),le(5),zu(6,"date"),Y()(),K(7,"h2",4)(8,"a",5),le(9),Y()(),K(10,"p",6),le(11),Y(),K(12,"div",7)(13,"div",8),Xe(14,"img",9),K(15,"span",10),le(16),Y()(),K(17,"div",11),Yt(18,xwe,2,0,"button",12)(19,Swe,2,2,"a",13),K(20,"a",14),le(21," Read more "),ei(),K(22,"svg",15),Xe(23,"path",16),Y()()()()()),c&2&&(Ce(5),en(Wu(6,13,f.data.created_at,"medium")),Ce(3),Zl("href","blogs/",f.data.blog_id,"",wo),Ce(),en(f.data.title),Ce(2),en(f.data.summary),Ce(3),Eo("src",f.data.image_name,wo),Zl("alt","",f.data.username," avatar"),Ce(2),Do(" ",f.data.username," "),Ce(2),nt("ngIf",f.data.user_id==f.user_id),Ce(),nt("ngIf",f.data.user_id==f.user_id),Ce(),Zl("href","blogs/",f.data.blog_id,"",wo))},dependencies:[Gy,Mn,Kr,Ku],encapsulation:2});let r=n;return r})();var xH=(()=>{let n=class n{};n.\u0275fac=function(c){return new(c||n)},n.\u0275cmp=_t({type:n,selectors:[["app-register-prompt"]],standalone:!0,features:[xt],decls:13,vars:0,consts:[[1,"bg-white","dark:bg-gray-900"],[1,"grid","max-w-screen-xl","min-h-screen","px-4","py-8","mx-auto","lg:gap-8","xl:gap-0","lg:py-16","lg:grid-cols-12"],[1,"mr-auto","place-self-center","lg:col-span-7"],[1,"max-w-2xl","mb-4","text-4xl","font-extrabold","tracking-tight","leading-none","md:text-5xl","xl:text-6xl","dark:text-white"],[1,"max-w-2xl","mb-6","font-light","text-gray-500","lg:mb-8","md:text-lg","lg:text-xl","dark:text-gray-400"],["href","/register",1,"inline-flex","items-center","justify-center","px-5","py-3","mr-3","text-base","font-medium","text-center","text-white","rounded-lg","bg-primary-700","hover:bg-primary-800","focus:ring-4","focus:ring-primary-300","dark:focus:ring-primary-900"],["fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","ml-2","-mr-1"],["fill-rule","evenodd","d","M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z","clip-rule","evenodd"],["href","/login",1,"inline-flex","items-center","justify-center","px-5","py-3","text-base","font-medium","text-center","text-gray-900","border","border-gray-300","rounded-lg","hover:bg-gray-100","focus:ring-4","focus:ring-gray-100","dark:text-white","dark:border-gray-700","dark:hover:bg-gray-700","dark:focus:ring-gray-800"]],template:function(c,f){c&1&&(K(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),le(4,"Please login or register to access this page."),Y(),K(5,"p",4),le(6," Be part of our growing community of writers, and publishers."),Y(),K(7,"a",5),le(8," Get started "),ei(),K(9,"svg",6),Xe(10,"path",7),Y()(),Ta(),K(11,"a",8),le(12," Login "),Y()()()())},encapsulation:2});let r=n;return r})();var OH=(()=>{let n=class n{constructor(a,c){this._renderer=a,this._elementRef=c,this.onChange=f=>{},this.onTouched=()=>{}}setProperty(a,c){this._renderer.setProperty(this._elementRef.nativeElement,a,c)}registerOnTouched(a){this.onTouched=a}registerOnChange(a){this.onChange=a}setDisabledState(a){this.setProperty("disabled",a)}};n.\u0275fac=function(c){return new(c||n)(Re(Hu),Re(Uo))},n.\u0275dir=ir({type:n});let r=n;return r})(),Iwe=(()=>{let n=class n extends OH{};n.\u0275fac=(()=>{let a;return function(f){return(a||(a=ju(n)))(f||n)}})(),n.\u0275dir=ir({type:n,features:[vs]});let r=n;return r})(),tb=new tt("");var Awe={provide:tb,useExisting:Mi(()=>Go),multi:!0};function kwe(){let r=zi()?zi().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}var Twe=new tt(""),Go=(()=>{let n=class n extends OH{constructor(a,c,f){super(a,c),this._compositionMode=f,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!kwe())}writeValue(a){let c=a??"";this.setProperty("value",c)}_handleInput(a){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(a)}_compositionStart(){this._composing=!0}_compositionEnd(a){this._composing=!1,this._compositionMode&&this.onChange(a)}};n.\u0275fac=function(c){return new(c||n)(Re(Hu),Re(Uo),Re(Twe,8))},n.\u0275dir=ir({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(c,f){c&1&&Tt("input",function(g){return f._handleInput(g.target.value)})("blur",function(){return f.onTouched()})("compositionstart",function(){return f._compositionStart()})("compositionend",function(g){return f._compositionEnd(g.target.value)})},features:[Vi([Awe]),vs]});let r=n;return r})();function Mwe(r){return r==null||(typeof r=="string"||Array.isArray(r))&&r.length===0}var lI=new tt(""),PH=new tt("");function Nwe(r){return Mwe(r.value)?{required:!0}:null}function SH(r){return null}function FH(r){return r!=null}function LH(r){return Ql(r)?gn(r):r}function BH(r){let n={};return r.forEach(i=>{n=i!=null?W(W({},n),i):n}),Object.keys(n).length===0?null:n}function VH(r,n){return n.map(i=>i(r))}function Rwe(r){return!r.validate}function $H(r){return r.map(n=>Rwe(n)?n:i=>n.validate(i))}function Owe(r){if(!r)return null;let n=r.filter(FH);return n.length==0?null:function(i){return BH(VH(i,n))}}function cI(r){return r!=null?Owe($H(r)):null}function Pwe(r){if(!r)return null;let n=r.filter(FH);return n.length==0?null:function(i){let a=VH(i,n).map(LH);return HD(a).pipe(Et(BH))}}function uI(r){return r!=null?Pwe($H(r)):null}function IH(r,n){return r===null?[n]:Array.isArray(r)?[...r,n]:[r,n]}function Fwe(r){return r._rawValidators}function Lwe(r){return r._rawAsyncValidators}function aI(r){return r?Array.isArray(r)?r:[r]:[]}function Zy(r,n){return Array.isArray(r)?r.includes(n):r===n}function AH(r,n){let i=aI(n);return aI(r).forEach(c=>{Zy(i,c)||i.push(c)}),i}function kH(r,n){return aI(n).filter(i=>!Zy(r,i))}var Qy=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=cI(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=uI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,i){return this.control?this.control.hasError(n,i):!1}getError(n,i){return this.control?this.control.getError(n,i):null}},sd=class extends Qy{get formDirective(){return null}get path(){return null}},rh=class extends Qy{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Xy=class{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Bwe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},u1e=Me(W({},Bwe),{"[class.ng-submitted]":"isSubmitted"}),ii=(()=>{let n=class n extends Xy{constructor(a){super(a)}};n.\u0275fac=function(c){return new(c||n)(Re(rh,2))},n.\u0275dir=ir({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(c,f){c&2&&cy("ng-untouched",f.isUntouched)("ng-touched",f.isTouched)("ng-pristine",f.isPristine)("ng-dirty",f.isDirty)("ng-valid",f.isValid)("ng-invalid",f.isInvalid)("ng-pending",f.isPending)},features:[vs]});let r=n;return r})(),nb=(()=>{let n=class n extends Xy{constructor(a){super(a)}};n.\u0275fac=function(c){return new(c||n)(Re(sd,10))},n.\u0275dir=ir({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(c,f){c&2&&cy("ng-untouched",f.isUntouched)("ng-touched",f.isTouched)("ng-pristine",f.isPristine)("ng-dirty",f.isDirty)("ng-valid",f.isValid)("ng-invalid",f.isInvalid)("ng-pending",f.isPending)("ng-submitted",f.isSubmitted)},features:[vs]});let r=n;return r})();var eh="VALID",Yy="INVALID",od="PENDING",th="DISABLED";function jH(r){return(rb(r)?r.validators:r)||null}function Vwe(r){return Array.isArray(r)?cI(r):r||null}function UH(r,n){return(rb(n)?n.asyncValidators:r)||null}function $we(r){return Array.isArray(r)?uI(r):r||null}function rb(r){return r!=null&&!Array.isArray(r)&&typeof r=="object"}function jwe(r,n,i){let a=r.controls;if(!(n?Object.keys(a):a).length)throw new He(1e3,"");if(!a[i])throw new He(1001,"")}function Uwe(r,n,i){r._forEachChild((a,c)=>{if(i[c]===void 0)throw new He(1002,"")})}var Jy=class{constructor(n,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===eh}get invalid(){return this.status===Yy}get pending(){return this.status==od}get disabled(){return this.status===th}get enabled(){return this.status!==th}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(AH(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(AH(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(kH(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(kH(n,this._rawAsyncValidators))}hasValidator(n){return Zy(this._rawValidators,n)}hasAsyncValidator(n){return Zy(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=od,n.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){let i=this._parentMarkedDirty(n.onlySelf);this.status=th,this.errors=null,this._forEachChild(a=>{a.disable(Me(W({},n),{onlySelf:!0}))}),this._updateValue(),n.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Me(W({},n),{skipPristineCheck:i})),this._onDisabledChange.forEach(a=>a(!0))}enable(n={}){let i=this._parentMarkedDirty(n.onlySelf);this.status=eh,this._forEachChild(a=>{a.enable(Me(W({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Me(W({},n),{skipPristineCheck:i})),this._onDisabledChange.forEach(a=>a(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===eh||this.status===od)&&this._runAsyncValidator(n.emitEvent)),n.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?th:eh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=od,this._hasOwnPendingAsyncValidator=!0;let i=LH(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(a=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(a,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,i={}){this.errors=n,this._updateControlsErrors(i.emitEvent!==!1)}get(n){let i=n;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((a,c)=>a&&a._find(c),this)}getError(n,i){let a=i?this.get(i):this;return a&&a.errors?a.errors[n]:null}hasError(n,i){return!!this.getError(n,i)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new ve,this.statusChanges=new ve}_calculateStatus(){return this._allControlsDisabled()?th:this.errors?Yy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(od)?od:this._anyControlsHaveStatus(Yy)?Yy:eh}_anyControlsHaveStatus(n){return this._anyControls(i=>i.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){rb(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let i=this._parent&&this._parent.dirty;return!n&&!!i&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=Vwe(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=$we(this._rawAsyncValidators)}},eb=class extends Jy{constructor(n,i,a){super(jH(i),UH(a,i)),this.controls=n,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,i){return this.controls[n]?this.controls[n]:(this.controls[n]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(n,i,a={}){this.registerControl(n,i),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}removeControl(n,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(n,i,a={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],i&&this.registerControl(n,i),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,i={}){Uwe(this,!0,n),Object.keys(n).forEach(a=>{jwe(this,!0,a),this.controls[a].setValue(n[a],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(n,i={}){n!=null&&(Object.keys(n).forEach(a=>{let c=this.controls[a];c&&c.patchValue(n[a],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(n={},i={}){this._forEachChild((a,c)=>{a.reset(n?n[c]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(n,i,a)=>(n[a]=i.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(i,a)=>a._syncPendingControls()?!0:i);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(i=>{let a=this.controls[i];a&&n(a,i)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[i,a]of Object.entries(this.controls))if(this.contains(i)&&n(a))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(i,a,c)=>((a.enabled||this.disabled)&&(i[c]=a.value),i))}_reduceChildren(n,i){let a=n;return this._forEachChild((c,f)=>{a=i(a,c,f)}),a}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var dI=new tt("CallSetDisabledState",{providedIn:"root",factory:()=>fI}),fI="always";function Hwe(r,n){return[...n.path,r]}function HH(r,n,i=fI){zH(r,n),n.valueAccessor.writeValue(r.value),(r.disabled||i==="always")&&n.valueAccessor.setDisabledState?.(r.disabled),Wwe(r,n),Gwe(r,n),qwe(r,n),zwe(r,n)}function TH(r,n){r.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(n)})}function zwe(r,n){if(n.valueAccessor.setDisabledState){let i=a=>{n.valueAccessor.setDisabledState(a)};r.registerOnDisabledChange(i),n._registerOnDestroy(()=>{r._unregisterOnDisabledChange(i)})}}function zH(r,n){let i=Fwe(r);n.validator!==null?r.setValidators(IH(i,n.validator)):typeof i=="function"&&r.setValidators([i]);let a=Lwe(r);n.asyncValidator!==null?r.setAsyncValidators(IH(a,n.asyncValidator)):typeof a=="function"&&r.setAsyncValidators([a]);let c=()=>r.updateValueAndValidity();TH(n._rawValidators,c),TH(n._rawAsyncValidators,c)}function Wwe(r,n){n.valueAccessor.registerOnChange(i=>{r._pendingValue=i,r._pendingChange=!0,r._pendingDirty=!0,r.updateOn==="change"&&WH(r,n)})}function qwe(r,n){n.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,r.updateOn==="blur"&&r._pendingChange&&WH(r,n),r.updateOn!=="submit"&&r.markAsTouched()})}function WH(r,n){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Gwe(r,n){let i=(a,c)=>{n.valueAccessor.writeValue(a),c&&n.viewToModelUpdate(a)};r.registerOnChange(i),n._registerOnDestroy(()=>{r._unregisterOnChange(i)})}function Kwe(r,n){r==null,zH(r,n)}function Ywe(r,n){if(!r.hasOwnProperty("model"))return!1;let i=r.model;return i.isFirstChange()?!0:!Object.is(n,i.currentValue)}function Zwe(r){return Object.getPrototypeOf(r.constructor)===Iwe}function Qwe(r,n){r._syncPendingControls(),n.forEach(i=>{let a=i.control;a.updateOn==="submit"&&a._pendingChange&&(i.viewToModelUpdate(a._pendingValue),a._pendingChange=!1)})}function Xwe(r,n){if(!n)return null;Array.isArray(n);let i,a,c;return n.forEach(f=>{f.constructor===Go?i=f:Zwe(f)?a=f:c=f}),c||a||i||null}var Jwe={provide:sd,useExisting:Mi(()=>oh)},nh=Promise.resolve(),oh=(()=>{let n=class n extends sd{constructor(a,c,f){super(),this.callSetDisabledState=f,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ve,this.form=new eb({},cI(a),uI(c))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(a){nh.then(()=>{let c=this._findContainer(a.path);a.control=c.registerControl(a.name,a.control),HH(a.control,a,this.callSetDisabledState),a.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(a)})}getControl(a){return this.form.get(a.path)}removeControl(a){nh.then(()=>{let c=this._findContainer(a.path);c&&c.removeControl(a.name),this._directives.delete(a)})}addFormGroup(a){nh.then(()=>{let c=this._findContainer(a.path),f=new eb({});Kwe(f,a),c.registerControl(a.name,f),f.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(a){nh.then(()=>{let c=this._findContainer(a.path);c&&c.removeControl(a.name)})}getFormGroup(a){return this.form.get(a.path)}updateModel(a,c){nh.then(()=>{this.form.get(a.path).setValue(c)})}setValue(a){this.control.setValue(a)}onSubmit(a){return this.submitted=!0,Qwe(this.form,this._directives),this.ngSubmit.emit(a),a?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(a=void 0){this.form.reset(a),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(a){return a.pop(),a.length?this.form.get(a):this.form}};n.\u0275fac=function(c){return new(c||n)(Re(lI,10),Re(PH,10),Re(dI,8))},n.\u0275dir=ir({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(c,f){c&1&&Tt("submit",function(g){return f.onSubmit(g)})("reset",function(){return f.onReset()})},inputs:{options:[bo.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Vi([Jwe]),vs]});let r=n;return r})();function MH(r,n){let i=r.indexOf(n);i>-1&&r.splice(i,1)}function NH(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===2&&"value"in r&&"disabled"in r}var eEe=class extends Jy{constructor(n=null,i,a){super(jH(i),UH(a,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rb(i)&&(i.nonNullable||i.initialValueIsDefault)&&(NH(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,i={}){this.value=this._pendingValue=n,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(a=>a(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(n,i={}){this.setValue(n,i)}reset(n=this.defaultValue,i={}){this._applyFormState(n),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){MH(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){MH(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){NH(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var tEe={provide:rh,useExisting:Mi(()=>Es)},RH=Promise.resolve(),Es=(()=>{let n=class n extends rh{constructor(a,c,f,h,g,y){super(),this._changeDetectorRef=g,this.callSetDisabledState=y,this.control=new eEe,this._registered=!1,this.name="",this.update=new ve,this._parent=a,this._setValidators(c),this._setAsyncValidators(f),this.valueAccessor=Xwe(this,h)}ngOnChanges(a){if(this._checkForErrors(),!this._registered||"name"in a){if(this._registered&&(this._checkName(),this.formDirective)){let c=a.name.previousValue;this.formDirective.removeControl({name:c,path:this._getPath(c)})}this._setUpControl()}"isDisabled"in a&&this._updateDisabled(a),Ywe(a,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(a){this.viewModel=a,this.update.emit(a)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){HH(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(a){RH.then(()=>{this.control.setValue(a,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(a){let c=a.isDisabled.currentValue,f=c!==0&&Ip(c);RH.then(()=>{f&&!this.control.disabled?this.control.disable():!f&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(a){return this._parent?Hwe(a,this._parent):[a]}};n.\u0275fac=function(c){return new(c||n)(Re(sd,9),Re(lI,10),Re(PH,10),Re(tb,10),Re($i,8),Re(dI,8))},n.\u0275dir=ir({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[bo.None,"disabled","isDisabled"],model:[bo.None,"ngModel","model"],options:[bo.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Vi([tEe]),vs,gs]});let r=n;return r})(),ob=(()=>{let n=class n{};n.\u0275fac=function(c){return new(c||n)},n.\u0275dir=ir({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let r=n;return r})();var nEe=(()=>{let n=class n{constructor(){this._validator=SH}ngOnChanges(a){if(this.inputName in a){let c=this.normalizeInput(a[this.inputName].currentValue);this._enabled=this.enabled(c),this._validator=this._enabled?this.createValidator(c):SH,this._onChange&&this._onChange()}}validate(a){return this._validator(a)}registerOnValidatorChange(a){this._onChange=a}enabled(a){return a!=null}};n.\u0275fac=function(c){return new(c||n)},n.\u0275dir=ir({type:n,features:[gs]});let r=n;return r})();var rEe={provide:lI,useExisting:Mi(()=>Ds),multi:!0};var Ds=(()=>{let n=class n extends nEe{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ip,this.createValidator=a=>Nwe}enabled(a){return a}};n.\u0275fac=(()=>{let a;return function(f){return(a||(a=ju(n)))(f||n)}})(),n.\u0275dir=ir({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(c,f){c&2&&ly("required",f._enabled?"":null)},inputs:{required:"required"},features:[Vi([rEe]),vs]});let r=n;return r})();var oEe=(()=>{let n=class n{};n.\u0275fac=function(c){return new(c||n)},n.\u0275mod=Ri({type:n}),n.\u0275inj=Ni({});let r=n;return r})();var Zr=(()=>{let n=class n{static withConfig(a){return{ngModule:n,providers:[{provide:dI,useValue:a.callSetDisabledState??fI}]}}};n.\u0275fac=function(c){return new(c||n)},n.\u0275mod=Ri({type:n}),n.\u0275inj=Ni({imports:[oEe]});let r=n;return r})();var sb=(()=>{let n=class n{constructor(){this.searchEvent=new ve,this.searchValue=""}onSearch(){this.searchEvent.emit(this.searchValue)}};n.\u0275fac=function(c){return new(c||n)},n.\u0275cmp=_t({type:n,selectors:[["app-search"]],outputs:{searchEvent:"searchEvent"},standalone:!0,features:[xt],decls:10,vars:1,consts:[[1,"max-w-md","mx-auto"],["for","default-search",1,"mb-2","text-sm","font-medium","text-gray-900","sr-only","dark:text-white"],[1,"relative"],[1,"absolute","inset-y-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","search","id","default-search","placeholder","Search for blog title","required","",1,"block","w-full","p-4","ps-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["type","submit",1,"text-white","absolute","end-2.5","bottom-2.5","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-4","py-2","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click"]],template:function(c,f){c&1&&(K(0,"div",0)(1,"label",1),le(2,"Search"),Y(),K(3,"div",2)(4,"div",3),ei(),K(5,"svg",4),Xe(6,"path",5),Y()(),Ta(),K(7,"input",6),qn("ngModelChange",function(g){return ar(f.searchValue,g)||(f.searchValue=g),g}),Y(),K(8,"button",7),Tt("click",function(){return f.onSearch()}),le(9,"Search"),Y()()()),c&2&&(Ce(7),Wn("ngModel",f.searchValue))},dependencies:[Zr,Go,ii,Ds,Es],encapsulation:2});let r=n;return r})();function sEe(r,n){if(r&1&&(K(0,"app-blog-card",12),le(1),Y()),r&2){let i=n.$implicit;nt("data",i),Ce(),en(i)}}function iEe(r,n){if(r&1){let i=ys();K(0,"section",3)(1,"div",4)(2,"div",5)(3,"h2",6),le(4,"Your Blogs "),Y(),K(5,"p",7),le(6,"Be part of the conversation, read your interest, give a feedback, be entertained, and connect with the community early and often."),Y(),K(7,"button",8),Tt("click",function(){Or(i);let c=Ct();return Pr(c.goToCreateBlog())}),le(8,"Create Blog"),Y(),K(9,"app-search",9),Tt("searchEvent",function(c){Or(i);let f=Ct();return Pr(f.searchBlog(c))}),Y()(),K(10,"div",10),Yt(11,sEe,2,2,"app-blog-card",11),Y()()()}if(r&2){let i=Ct();Ce(11),nt("ngForOf",i.blogs)}}function aEe(r,n){r&1&&Xe(0,"app-register-prompt")}var qH=(()=>{let n=class n{constructor(a,c){this.dataService=a,this.router=c,this.blogs=[],this.isAuthorized=!!localStorage.getItem("token")}ngOnInit(){this.fetchBlogs()}fetchBlogs(a=void 0){return pt(this,null,function*(){let c=localStorage.getItem("user_id");if(c){let f=`blogs?user_id=${c}`;a&&(f+=`&title=${a}`);let h=yield this.dataService.getAll(`${f}`);this.blogs=h.data.blog}})}searchBlog(a){this.fetchBlogs(a)}goToCreateBlog(){this.router.navigate(["/blogs/create"])}};n.\u0275fac=function(c){return new(c||n)(Re(En),Re(Yr))},n.\u0275cmp=_t({type:n,selectors:[["app-blogs"]],standalone:!0,features:[xt],decls:4,vars:3,consts:[[3,"page"],["class","bg-white dark:bg-gray-900",4,"ngIf"],[4,"ngIf"],[1,"bg-white","dark:bg-gray-900"],[1,"py-8","px-4","mx-auto","max-w-screen-xl","min-h-screen","lg:py-16","lg:px-6"],[1,"mx-auto","max-w-screen-sm","text-center","lg:mb-16","mb-8"],[1,"mb-4","text-3xl","lg:text-4xl","tracking-tight","font-extrabold","text-gray-900","dark:text-white"],[1,"font-light","text-gray-500","sm:text-xl","dark:text-gray-400","mb-4"],["type","button",1,"mb-8","text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","me-2","dark:bg-blue-600","dark:hover:bg-blue-700","focus:outline-none","dark:focus:ring-blue-800",3,"click"],[3,"searchEvent"],[1,"grid","gap-8","lg:grid-cols-2"],[3,"data",4,"ngFor","ngForOf"],[3,"data"]],template:function(c,f){c&1&&(Xe(0,"app-header",0),Yt(1,iEe,12,1,"section",1)(2,aEe,1,0,"app-register-prompt",2),Xe(3,"router-outlet")),c&2&&(nt("page","blogs"),Ce(),nt("ngIf",f.isAuthorized),Ce(),nt("ngIf",!f.isAuthorized))},dependencies:[Ky,qo,tc,Mn,Gu,Kr,xH,sb],encapsulation:2});let r=n;return r})();function lEe(r,n){if(r&1){let i=ys();K(0,"div",5)(1,"div",6)(2,"label",7),le(3,"Your comment"),Y(),K(4,"textarea",8),qn("ngModelChange",function(c){Or(i);let f=Ct();return ar(f.content,c)||(f.content=c),Pr(c)}),Y()(),K(5,"button",9),Tt("click",function(){Or(i);let c=Ct();return Pr(c.createComment())}),le(6," Post comment "),Y()()}if(r&2){let i=Ct();Ce(4),Wn("ngModel",i.content)}}function cEe(r,n){if(r&1){let i=ys();K(0,"li")(1,"button",19),Tt("click",function(){Or(i);let c=Ct(2).$implicit,f=Ct();return Pr(f.onEdit(c.comment_id))}),le(2,"Edit"),Y()()}}function uEe(r,n){if(r&1){let i=ys();K(0,"li")(1,"button",20),Tt("click",function(){Or(i);let c=Ct(2).$implicit,f=Ct();return Pr(f.deleteComment(c.comment_id))}),le(2,"Remove"),Y()()}}function dEe(r,n){if(r&1&&(K(0,"ul",18),Yt(1,cEe,3,0,"li",17)(2,uEe,3,0,"li",17),Y()),r&2){let i=Ct().$implicit,a=Ct();Ce(),nt("ngIf",i.user_id==a.user_id),Ce(),nt("ngIf",i.user_id==a.user_id)}}function fEe(r,n){if(r&1&&(K(0,"p"),le(1),Y()),r&2){let i=Ct().$implicit;Ce(),en(i.comment_content)}}function pEe(r,n){if(r&1){let i=ys();K(0,"div",5)(1,"div",6)(2,"label",7),le(3,"Edit comment"),Y(),K(4,"textarea",21),qn("ngModelChange",function(c){Or(i);let f=Ct(2);return ar(f.new_content,c)||(f.new_content=c),Pr(c)}),Y()(),K(5,"button",22),Tt("click",function(){Or(i);let c=Ct().$implicit,f=Ct();return Pr(f.editComment(c.comment_id))}),le(6," Edit comment "),Y(),K(7,"button",23),Tt("click",function(){Or(i);let c=Ct(2);return Pr(c.onCancel())}),le(8," Cancel "),Y()()}if(r&2){let i=Ct(2);Ce(4),Wn("ngModel",i.new_content)}}function hEe(r,n){if(r&1&&(K(0,"article",10)(1,"section",11)(2,"div",12)(3,"p",13),Xe(4,"img",14),le(5),Y(),K(6,"p",15),le(7),zu(8,"date"),Y()(),Yt(9,dEe,3,2,"ul",16),Y(),Yt(10,fEe,2,1,"p",17)(11,pEe,9,1,"div",3),Y()),r&2){let i=n.$implicit,a=Ct();Ce(4),Eo("src",i.image_name,wo),Ce(),Do("",i.username," "),Ce(2),Do(" ",Wu(8,6,i.comment_created_at,"medium"),""),Ce(2),nt("ngIf",!a.isEditing),Ce(),nt("ngIf",i.comment_id!=a.editing_comment_id),Ce(),nt("ngIf",a.isEditing&&i.comment_id==a.editing_comment_id)}}var GH=(()=>{let n=class n{constructor(a){this.dataService=a,this.comments=[],this.user_id=localStorage.getItem("user_id"),this.content="",this.new_content="",this.isEditing=!1}ngOnInit(){this.fetchComments()}ngOnChanges(a){a.blog_id&&this.blog_id&&this.fetchComments()}createComment(){return pt(this,null,function*(){try{let a=yield this.dataService.create("comments",{content:this.content});this.comment_id=yield a.data.comment.comment_id;let c={comment_id:this.comment_id,user_id:this.user_id,blog_id:this.blog_id};yield this.dataService.create("users/blogs/comments",c),this.fetchComments()}catch(a){a instanceof Error?console.log(a.message):console.log("Unknown error occured.")}})}deleteComment(a){return pt(this,null,function*(){try{console.log(a),yield this.dataService.delete("comments",a),this.fetchComments()}catch(c){c instanceof Error?console.log(c.message):console.log("Unknown error occured)")}})}onEdit(a){if(this.isEditing=!0,this.editing_comment_id=a,!!this.comments)for(let c of this.comments)c.comment_id==a&&(this.new_content=c.comment_content)}editComment(a){return pt(this,null,function*(){try{yield this.dataService.update("comments",a,{content:this.new_content}),yield this.fetchComments(),this.onCancel()}catch(c){c instanceof Error?console.log(c.message):console.log("Unknown error occured.")}})}onCancel(){this.isEditing=!1,this.editing_comment_id=void 0,this.new_content=""}fetchComments(){return pt(this,null,function*(){try{let a=yield this.dataService.getAll(`users/blogs/comments?blog_id=${this.blog_id}`);this.comments=a.data.userBlogComment}catch(a){a instanceof Error?console.log(a.message):console.log("Unknown error occured.")}})}openDropdown(a){this.comment_id=a}};n.\u0275fac=function(c){return new(c||n)(Re(En))},n.\u0275cmp=_t({type:n,selectors:[["app-comments"]],inputs:{blog_id:"blog_id"},standalone:!0,features:[gs,xt],decls:6,vars:2,consts:[[1,"not-format"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-lg","lg:text-2xl","font-bold","text-gray-900","dark:text-white"],["class","mb-6",4,"ngIf"],["class","p-6 mb-6 text-base bg-white rounded-lg dark:bg-gray-900",4,"ngFor","ngForOf"],[1,"mb-6"],[1,"py-2","px-4","mb-4","bg-white","rounded-lg","rounded-t-lg","border","border-gray-200","dark:bg-gray-800","dark:border-gray-700"],["for","comment",1,"sr-only"],["id","comment","rows","6","name","comment","placeholder","Write a comment...","required","",1,"px-0","w-full","text-sm","text-gray-900","border-0","focus:ring-0","dark:text-white","dark:placeholder-gray-400","dark:bg-gray-800",3,"ngModelChange","ngModel"],["type","submit",1,"inline-flex","items-center","py-2.5","px-4","text-xs","font-medium","text-center","text-white","bg-primary-700","rounded-lg","focus:ring-4","focus:ring-primary-200","dark:focus:ring-primary-900","hover:bg-primary-800",3,"click"],[1,"p-6","mb-6","text-base","bg-white","rounded-lg","dark:bg-gray-900"],[1,"flex","justify-between","items-center","mb-2"],[1,"flex","items-center"],[1,"inline-flex","items-center","mr-3","font-semibold","text-sm","text-gray-900","dark:text-white"],["alt","Michael Gough",1,"mr-2","w-6","h-6","rounded-full",3,"src"],[1,"hidden","md:block","text-sm","text-gray-600","dark:text-gray-400"],["class","flex py-1 text-sm text-gray-700 dark:text-gray-200",4,"ngIf"],[4,"ngIf"],[1,"flex","py-1","text-sm","text-gray-700","dark:text-gray-200"],[1,"block","py-2","px-4","hover:bg-gray-100","dark:hover:bg-primary-600","dark:hover:text-white",3,"click"],[1,"block","py-2","px-4","hover:bg-gray-100","dark:hover:bg-red-600","dark:hover:text-white",3,"click"],["id","comment","rows","6","name","comment","placeholder","Edit your comment here...","required","",1,"px-0","w-full","text-sm","text-gray-900","border-0","focus:ring-0","dark:text-white","dark:placeholder-gray-400","dark:bg-gray-800",3,"ngModelChange","ngModel"],["type","button",1,"inline-flex","items-center","py-2.5","px-4","mr-4","text-xs","font-medium","text-center","text-white","bg-primary-700","rounded-lg","focus:ring-4","focus:ring-primary-200","dark:focus:ring-primary-900","hover:bg-primary-800",3,"click"],["type","button",1,"inline-flex","items-center","py-2.5","px-4","text-xs","font-medium","text-center","text-white","bg-gray-700","rounded-lg","focus:ring-4","focus:ring-primary-200","dark:focus:ring-primary-900","hover:bg-gray-800",3,"click"]],template:function(c,f){c&1&&(K(0,"section",0)(1,"div",1)(2,"h2",2),le(3,"Discussion"),Y()(),Yt(4,lEe,7,1,"div",3)(5,hEe,12,9,"article",4),Y()),c&2&&(Ce(4),nt("ngIf",f.user_id!=null),Ce(),nt("ngForOf",f.comments))},dependencies:[Mn,Gu,Kr,Ku,Zr,Go,ii,Ds,Es],encapsulation:2});let r=n;return r})();var KH=(()=>{let n=class n{constructor(a,c){this.dataService=a,this.sanitizer=c}ngOnInit(){}ngOnChanges(a){a.data&&this.data&&this.fetchUser(),this.data!=null&&this.data.content!=null&&(this.webContent=this.sanitizer.bypassSecurityTrustHtml(this.data.content))}fetchUser(){return pt(this,null,function*(){let a=this.data?.user_id;if(a!=null){let c=yield this.dataService.get("users",a);this.user=c.data.user}})}};n.\u0275fac=function(c){return new(c||n)(Re(En),Re(ES))},n.\u0275cmp=_t({type:n,selectors:[["app-blog-template"]],inputs:{data:"data"},standalone:!0,features:[gs,xt],decls:20,vars:9,consts:[[1,"flex","justify-between","px-4","mx-auto","max-w-screen-xl"],[1,"mx-auto","w-full","max-w-2xl","format","format-sm","sm:format-base","lg:format-lg","format-blue","dark:format-invert"],[1,"mb-4","lg:mb-6","not-format"],[1,"flex","items-center","mb-6","not-italic"],[1,"inline-flex","items-center","mr-3","text-sm","text-gray-900","dark:text-white"],["alt","Jese Leos",1,"mr-4","w-16","h-16","rounded-full",3,"src"],["href","#","rel","author",1,"text-xl","font-bold","text-gray-900","dark:text-white"],[1,"text-base","text-gray-500","dark:text-gray-400"],["pubdate","","datetime","2022-02-08","title","February 8th, 2022"],[1,"mb-4","text-3xl","font-extrabold","leading-tight","text-gray-900","lg:mb-6","lg:text-4xl","dark:text-white"],[1,"text-gray-300",3,"innerHTML"],[3,"blog_id"]],template:function(c,f){c&1&&(K(0,"div",0)(1,"article",1)(2,"header",2)(3,"address",3)(4,"div",4),Xe(5,"img",5),K(6,"div")(7,"a",6),le(8),Y(),K(9,"p",7),le(10,"Author"),Y(),K(11,"p",7)(12,"time",8),le(13),zu(14,"date"),Y()()()()(),K(15,"div")(16,"h1",9),le(17),Y()()(),Xe(18,"div",10)(19,"app-comments",11),Y()()),c&2&&(Ce(5),Eo("src",f.user==null?null:f.user.image_name,wo),Ce(3),Do("\u2202 ",f.user==null?null:f.user.username,""),Ce(5),en(Wu(14,6,f.data==null?null:f.data.created_at,"medium")),Ce(4),Do(" ",f.data==null?null:f.data.title,""),Ce(),nt("innerHTML",f.webContent,fj),Ce(),nt("blog_id",f.data==null?null:f.data.blog_id))},dependencies:[Mn,Ku,GH],encapsulation:2});let r=n;return r})();var YH=(()=>{let n=class n{constructor(a,c){this.dataService=a,this.aRoute=c,this.id=this.aRoute.snapshot.paramMap.get("id"),this.fetchBlog()}fetchBlog(){return pt(this,null,function*(){let a=yield this.dataService.getAll(`blogs/${this.id}`);this.blog=a.data.blog})}};n.\u0275fac=function(c){return new(c||n)(Re(En),Re(Cs))},n.\u0275cmp=_t({type:n,selectors:[["app-blog"]],standalone:!0,features:[xt],decls:4,vars:1,consts:[[1,"bg-white","dark:bg-gray-900"],[1,"py-8","px-4","mx-auto","max-w-screen-xl","min-h-screen","lg:py-16","lg:px-6"],[3,"data"]],template:function(c,f){c&1&&(Xe(0,"app-header"),K(1,"section",0)(2,"div",1),Xe(3,"app-blog-template",2),Y()()),c&2&&(Ce(3),nt("data",f.blog))},dependencies:[qo,KH],encapsulation:2});let r=n;return r})();var ZH=(()=>{let n=class n{constructor(a){this.dataService=a}login(a,c){return pt(this,null,function*(){return yield this.dataService.create("token",{email:a,password:c})})}};n.\u0275fac=function(c){return new(c||n)(at(En))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();function gEe(r,n){if(r&1&&(K(0,"p",16),le(1),Y()),r&2){let i=Ct();Ce(),en(i.error)}}var QH=(()=>{let n=class n{constructor(a,c){this.tokenService=a,this.route=c,this.userData={email:"",password:""},this.error=""}login(){return pt(this,null,function*(){let a=yield this.tokenService.login(this.userData.email,this.userData.password);a.success===!1?this.error=a.errors:(localStorage.setItem("token",a.data.token),localStorage.setItem("user_id",a.data.user_id),window.location.href="/blogs")})}};n.\u0275fac=function(c){return new(c||n)(Re(ZH),Re(Yr))},n.\u0275cmp=_t({type:n,selectors:[["app-login"]],standalone:!0,features:[xt],decls:26,vars:3,consts:[[1,"bg-gray-50","dark:bg-gray-900"],[1,"flex","flex-col","items-center","justify-center","px-6","py-8","mx-auto","h-screen","lg:py-0"],["href","#",1,"flex","items-center","mb-6","text-2xl","font-semibold","text-gray-900","dark:text-white"],["src","../../../assets/blogger.png","alt","logo",1,"w-8","h-8","mr-2"],[1,"w-full","bg-white","rounded-lg","shadow","dark:border","md:mt-0","sm:max-w-md","xl:p-0","dark:bg-gray-800","dark:border-gray-700"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-tight","tracking-tight","text-gray-900","md:text-2xl","dark:text-white"],[1,"space-y-4","md:space-y-6",3,"ngSubmit"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","email","name","email","id","email","placeholder","name@company.com","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["class","block mb-2 text-sm font-medium text-red-900 dark:text-red-600",4,"ngIf"],["type","submit",1,"w-full","text-white","bg-primary-600","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-primary-600","dark:hover:bg-primary-700","dark:focus:ring-primary-800"],[1,"text-sm","font-light","text-gray-500","dark:text-gray-400"],["href","/register",1,"font-medium","text-primary-600","hover:underline","dark:text-primary-500"],[1,"block","mb-2","text-sm","font-medium","text-red-900","dark:text-red-600"]],template:function(c,f){c&1&&(K(0,"section",0)(1,"div",1)(2,"a",2),Xe(3,"img",3),le(4," Bloggy "),Y(),K(5,"div",4)(6,"div",5)(7,"h1",6),le(8," Sign in to your account "),Y(),K(9,"form",7),Tt("ngSubmit",function(){return f.login()}),K(10,"div")(11,"label",8),le(12,"Your email"),Y(),K(13,"input",9),qn("ngModelChange",function(g){return ar(f.userData.email,g)||(f.userData.email=g),g}),Y()(),K(14,"div")(15,"label",10),le(16,"Password"),Y(),K(17,"input",11),qn("ngModelChange",function(g){return ar(f.userData.password,g)||(f.userData.password=g),g}),Y()(),K(18,"div"),Yt(19,gEe,2,1,"p",12),Y(),K(20,"button",13),le(21,"Sign in"),Y(),K(22,"p",14),le(23," Don\u2019t have an account yet? "),K(24,"a",15),le(25,"Sign up"),Y()()()()()()()),c&2&&(Ce(13),Wn("ngModel",f.userData.email),Ce(4),Wn("ngModel",f.userData.password),Ce(2),nt("ngIf",f.error!=""))},dependencies:[Zr,ob,Go,ii,nb,Ds,Es,oh,Mn,Kr],encapsulation:2});let r=n;return r})();function vEe(r,n){if(r&1&&(K(0,"p",24),le(1),Y()),r&2){let i=Ct();Ce(),en(i.errors==null?null:i.errors.username)}}function yEe(r,n){if(r&1&&(K(0,"p",24),le(1),Y()),r&2){let i=Ct();Ce(),en(i.errors==null?null:i.errors.email)}}function bEe(r,n){if(r&1&&(K(0,"p",24),le(1),Y()),r&2){let i=Ct();Ce(),en(i.errors==null?null:i.errors.first_name)}}function CEe(r,n){if(r&1&&(K(0,"p",24),le(1),Y()),r&2){let i=Ct();Ce(),en(i.errors==null?null:i.errors.last_name)}}function wEe(r,n){if(r&1&&(K(0,"p",24),le(1),Y()),r&2){let i=Ct();Ce(),en(i.errors==null?null:i.errors.password)}}function EEe(r,n){if(r&1&&(K(0,"p",24),le(1),Y()),r&2){let i=Ct();Ce(),en(i.errors==null?null:i.errors.password1)}}var XH=(()=>{let n=class n{constructor(a){this.dataService=a,this.userData={username:"",first_name:"",last_name:"",email:"",password:"",confirm_password:"",status:0}}register(){return pt(this,null,function*(){try{let a=yield this.dataService.create("users",this.userData);a.success==!1?(this.errors=a.errors,console.log(this.errors)):window.location.href="/login"}catch(a){a instanceof Error&&console.log(a.message)}})}};n.\u0275fac=function(c){return new(c||n)(Re(En))},n.\u0275cmp=_t({type:n,selectors:[["app-register"]],standalone:!0,features:[xt],decls:46,vars:12,consts:[[1,"bg-gray-50","dark:bg-gray-900"],[1,"flex","flex-col","items-center","justify-center","px-6","py-8","mx-auto","min-h-screen","lg:py-12"],["href","#",1,"flex","items-center","mb-6","text-2xl","font-semibold","text-gray-900","dark:text-white"],["src","../../../assets/blogger.png","alt","logo",1,"w-8","h-8","mr-2"],[1,"w-full","bg-white","rounded-lg","shadow","dark:border","md:mt-0","sm:max-w-md","xl:p-0","dark:bg-gray-800","dark:border-gray-700"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-tight","tracking-tight","text-gray-900","md:text-2xl","dark:text-white"],[1,"space-y-4","md:space-y-6",3,"ngSubmit"],["for","username",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","username","name","username","id","username","placeholder","AdrianGallano","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["class","text-red-500",4,"ngIf"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","email","name","email","id","email","placeholder","name@company.com","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["for","first_name",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","first_name","name","first_name","id","first_name","placeholder","name@company.com","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["for","last_name",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","last_name","name","last_name","id","last_name","placeholder","name@company.com","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","password","name","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["for","confirm_password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","password","name","confirm_password","id","confirm_password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","text-white","bg-primary-600","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-primary-600","dark:hover:bg-primary-700","dark:focus:ring-primary-800"],[1,"text-sm","font-light","text-gray-500","dark:text-gray-400"],["href","/login",1,"font-medium","text-primary-600","hover:underline","dark:text-primary-500"],[1,"text-red-500"]],template:function(c,f){c&1&&(K(0,"section",0)(1,"div",1)(2,"a",2),Xe(3,"img",3),le(4," Bloggy "),Y(),K(5,"div",4)(6,"div",5)(7,"h1",6),le(8," Create an account "),Y(),K(9,"form",7),Tt("ngSubmit",function(){return f.register()}),K(10,"div")(11,"label",8),le(12,"Your username"),Y(),K(13,"input",9),qn("ngModelChange",function(g){return ar(f.userData.username,g)||(f.userData.username=g),g}),Y(),Yt(14,vEe,2,1,"p",10),Y(),K(15,"div")(16,"label",11),le(17,"Your email"),Y(),K(18,"input",12),qn("ngModelChange",function(g){return ar(f.userData.email,g)||(f.userData.email=g),g}),Y(),Yt(19,yEe,2,1,"p",10),Y(),K(20,"div")(21,"label",13),le(22,"Your First name"),Y(),K(23,"input",14),qn("ngModelChange",function(g){return ar(f.userData.first_name,g)||(f.userData.first_name=g),g}),Y(),Yt(24,bEe,2,1,"p",10),Y(),K(25,"div")(26,"label",15),le(27,"Your Last name"),Y(),K(28,"input",16),qn("ngModelChange",function(g){return ar(f.userData.last_name,g)||(f.userData.last_name=g),g}),Y(),Yt(29,CEe,2,1,"p",10),Y(),K(30,"div")(31,"label",17),le(32,"Password"),Y(),K(33,"input",18),qn("ngModelChange",function(g){return ar(f.userData.password,g)||(f.userData.password=g),g}),Y(),Yt(34,wEe,2,1,"p",10),Y(),K(35,"div")(36,"label",19),le(37,"Confirm password"),Y(),K(38,"input",20),qn("ngModelChange",function(g){return ar(f.userData.confirm_password,g)||(f.userData.confirm_password=g),g}),Y(),Yt(39,EEe,2,1,"p",10),Y(),K(40,"button",21),le(41,"Create an account"),Y(),K(42,"p",22),le(43," Already have an account? "),K(44,"a",23),le(45,"Login here"),Y()()()()()()()),c&2&&(Ce(13),Wn("ngModel",f.userData.username),Ce(),nt("ngIf",f.errors==null?null:f.errors.username),Ce(4),Wn("ngModel",f.userData.email),Ce(),nt("ngIf",f.errors==null?null:f.errors.email),Ce(4),Wn("ngModel",f.userData.first_name),Ce(),nt("ngIf",f.errors==null?null:f.errors.first_name),Ce(4),Wn("ngModel",f.userData.last_name),Ce(),nt("ngIf",f.errors==null?null:f.errors.last_name),Ce(4),Wn("ngModel",f.userData.password),Ce(),nt("ngIf",f.errors==null?null:f.errors.password),Ce(4),Wn("ngModel",f.userData.confirm_password),Ce(),nt("ngIf",f.errors==null?null:f.errors.password1))},dependencies:[Zr,ob,Go,ii,nb,Ds,Es,oh,Mn,Kr],encapsulation:2});let r=n;return r})();function DEe(r,n){if(r&1&&(K(0,"app-blog-card",9),le(1),Y()),r&2){let i=n.$implicit;nt("data",i),Ce(),en(i)}}var JH=(()=>{let n=class n{constructor(a){this.dataService=a,this.blogs=[]}ngOnInit(){this.asyncfetchBlogs()}asyncfetchBlogs(a=null){return pt(this,null,function*(){let c="blogs";a&&(c+=`?title=${a}`);let f=yield this.dataService.getAll(`${c}`);this.blogs=f.data.blog})}searchBlog(a){this.asyncfetchBlogs(a)}};n.\u0275fac=function(c){return new(c||n)(Re(En))},n.\u0275cmp=_t({type:n,selectors:[["app-explore"]],standalone:!0,features:[xt],decls:12,vars:2,consts:[[3,"page"],[1,"bg-white","dark:bg-gray-900"],[1,"py-8","px-4","mx-auto","max-w-screen-xl","min-h-screen","lg:py-16","lg:px-6"],[1,"mx-auto","max-w-screen-sm","text-center","lg:mb-16","mb-8"],[1,"mb-4","text-3xl","lg:text-4xl","tracking-tight","font-extrabold","text-gray-900","dark:text-white"],[1,"font-light","text-gray-500","sm:text-xl","dark:text-gray-400","mb-4"],[3,"searchEvent"],[1,"grid","gap-8","lg:grid-cols-2"],[3,"data",4,"ngFor","ngForOf"],[3,"data"]],template:function(c,f){c&1&&(Xe(0,"app-header",0),K(1,"section",1)(2,"div",2)(3,"div",3)(4,"h2",4),le(5,"Explore Blogs "),Y(),K(6,"p",5),le(7,"Be part of the conversation, read your interest, give a feedback, be entertained, and connect with the community early and often."),Y(),K(8,"app-search",6),Tt("searchEvent",function(g){return f.searchBlog(g)}),Y()(),K(9,"div",7),Yt(10,DEe,2,2,"app-blog-card",8),Y()()(),Xe(11,"router-outlet")),c&2&&(nt("page","explore"),Ce(10),nt("ngForOf",f.blogs))},dependencies:[Ky,qo,tc,Mn,Gu,sb],encapsulation:2});let r=n;return r})();var ib=()=>{let r=typeof window<"u"?window:void 0;return r&&r.tinymce?r.tinymce:null},_Ee=(()=>{class r{onBeforePaste=new ve;onBlur=new ve;onClick=new ve;onCompositionEnd=new ve;onCompositionStart=new ve;onCompositionUpdate=new ve;onContextMenu=new ve;onCopy=new ve;onCut=new ve;onDblclick=new ve;onDrag=new ve;onDragDrop=new ve;onDragEnd=new ve;onDragGesture=new ve;onDragOver=new ve;onDrop=new ve;onFocus=new ve;onFocusIn=new ve;onFocusOut=new ve;onKeyDown=new ve;onKeyPress=new ve;onKeyUp=new ve;onMouseDown=new ve;onMouseEnter=new ve;onMouseLeave=new ve;onMouseMove=new ve;onMouseOut=new ve;onMouseOver=new ve;onMouseUp=new ve;onPaste=new ve;onSelectionChange=new ve;onActivate=new ve;onAddUndo=new ve;onBeforeAddUndo=new ve;onBeforeExecCommand=new ve;onBeforeGetContent=new ve;onBeforeRenderUI=new ve;onBeforeSetContent=new ve;onChange=new ve;onClearUndos=new ve;onDeactivate=new ve;onDirty=new ve;onExecCommand=new ve;onGetContent=new ve;onHide=new ve;onInit=new ve;onInput=new ve;onInitNgModel=new ve;onLoadContent=new ve;onNodeChange=new ve;onPostProcess=new ve;onPostRender=new ve;onPreInit=new ve;onPreProcess=new ve;onProgressState=new ve;onRedo=new ve;onRemove=new ve;onReset=new ve;onResizeEditor=new ve;onSaveContent=new ve;onSetAttrib=new ve;onObjectResizeStart=new ve;onObjectResized=new ve;onObjectSelected=new ve;onSetContent=new ve;onShow=new ve;onSubmit=new ve;onUndo=new ve;onVisualAid=new ve;static \u0275fac=function(a){return new(a||r)};static \u0275dir=ir({type:r,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onCompositionEnd:"onCompositionEnd",onCompositionStart:"onCompositionStart",onCompositionUpdate:"onCompositionUpdate",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInput:"onInput",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}})}return r})(),e3=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onCompositionEnd","onCompositionStart","onCompositionUpdate","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],ab=(r,n,i)=>_u(r,n).pipe(Pl(i)),xEe=(r,n,i)=>{SEe(r).forEach(c=>{let f=r[c];ab(n,c.substring(2),i).subscribe(h=>{TEe(f)&&r.ngZone.run(()=>f.emit({event:h,editor:n}))})})},SEe=r=>{let n=t3(r.ignoreEvents,[]);return t3(r.allowedEvents,e3).filter(a=>e3.includes(a)&&!n.includes(a))},t3=(r,n)=>typeof r=="string"?r.split(",").map(i=>i.trim()):Array.isArray(r)?r:n,n3=0,IEe=r=>{let i=new Date().getTime(),a=Math.floor(Math.random()*1e9);return n3++,r+"_"+a+n3+String(i)},r3=r=>typeof r<"u"&&r.tagName.toLowerCase()==="textarea",o3=r=>typeof r>"u"||r===""?[]:Array.isArray(r)?r:r.split(" "),AEe=(r,n)=>o3(r).concat(o3(n)),kEe=()=>{},s3=r=>r==null,TEe=r=>r.observed||r.observers?.length>0,MEe=()=>r=>r.pipe(go(),Et(()=>{})),NEe=()=>{let r=new zn(null),n=r.pipe(Tr(Boolean),Mr(([i,a])=>{let c=i.createElement("script");return c.referrerPolicy="origin",c.type="application/javascript",c.src=a,i.head.appendChild(c),_u(c,"load").pipe(MEe())}),KD({bufferSize:1,refCount:!0}));return{load:(...i)=>(r.getValue()||r.next(i),n),reinitialize:()=>{r.next(null)}}},REe=NEe(),pI=new tt("TINYMCE_SCRIPT_SRC"),OEe={provide:tb,useExisting:Mi(()=>hI),multi:!0},hI=(()=>{class r extends _Ee{cdRef;platformId;tinymceScriptSrc;cloudChannel="7";apiKey="no-api-key";licenseKey;init;id="";initialValue;outputFormat;inline;tagName;plugins;toolbar;modelEvents="change input undo redo";allowedEvents;ignoreEvents;set disabled(i){this._disabled=i,this._editor&&this._editor.initialized&&(typeof this._editor.mode?.set=="function"?this._editor.mode.set(i?"readonly":"design"):this._editor.setMode(i?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}ngZone;_elementRef;_element;_disabled;_editor;onTouchedCallback=kEe;onChangeCallback;destroy$=new kn;constructor(i,a,c,f,h){super(),this.cdRef=c,this.platformId=f,this.tinymceScriptSrc=h,this._elementRef=i,this.ngZone=a}writeValue(i){this._editor&&this._editor.initialized?this._editor.setContent(s3(i)?"":i):this.initialValue=i===null?void 0:i}registerOnChange(i){this.onChangeCallback=i}registerOnTouched(i){this.onTouchedCallback=i}setDisabledState(i){this.disabled=i}ngAfterViewInit(){pS(this.platformId)&&(this.id=this.id||IEe("tiny-angular"),this.inline=this.inline!==void 0?this.inline!==!1:!!this.init?.inline,this.createElement(),ib()!==null?this.initialise():this._element&&this._element.ownerDocument&&REe.load(this._element.ownerDocument,this.getScriptSrc()).pipe(Pl(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),ib()!==null&&ib().remove(this._editor)}createElement(){let i=typeof this.tagName=="string"?this.tagName:"div";if(this._element=document.createElement(this.inline?i:"textarea"),this._element){let a=document.getElementById(this.id);a&&a!==this._elementRef.nativeElement&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,r3(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element)}}initialise=()=>{let i=Me(W({},this.init),{selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,license_key:this.licenseKey,plugins:AEe(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:a=>{this._editor=a,ab(a,"init",this.destroy$).subscribe(()=>{this.initEditor(a)}),xEe(this,a,this.destroy$),this.init&&typeof this.init.setup=="function"&&this.init.setup(a)}});r3(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{ib().init(i)})};getScriptSrc(){return s3(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(i){ab(i,"blur",this.destroy$).subscribe(()=>{this.cdRef.markForCheck(),this.ngZone.run(()=>this.onTouchedCallback())}),ab(i,this.modelEvents,this.destroy$).subscribe(()=>{this.cdRef.markForCheck(),this.ngZone.run(()=>this.emitOnChange(i))}),typeof this.initialValue=="string"&&this.ngZone.run(()=>{i.setContent(this.initialValue),i.getContent()!==this.initialValue&&this.emitOnChange(i),this.onInitNgModel!==void 0&&this.onInitNgModel.emit(i)})}emitOnChange(i){this.onChangeCallback&&this.onChangeCallback(i.getContent({format:this.outputFormat}))}static \u0275fac=function(a){return new(a||r)(Re(Uo),Re(cn),Re($i),Re(ti),Re(pI,8))};static \u0275cmp=_t({type:r,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",licenseKey:"licenseKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[Vi([OEe]),vs,xt],decls:0,vars:0,template:function(a,c){},dependencies:[Mn,Zr],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return r})();var a3=fpe(i3());var gI=(()=>{let n=class n{constructor(){this.content=`<h1>Welcome to TinyMCE</h1>
                        <p>TinyMCE is a powerful and flexible text editor that allows you to create and edit content with ease. Here's a quick guide on how to use it:</p>
                        
                        <h2>Basic Features</h2>
                        <p>Start typing in the editor to create your content. You can format text, create lists, insert links, images, and more using the toolbar options.</p>
                        
                        <h3>Formatting Text</h3>
                        <p>Use the toolbar buttons to apply <strong>bold</strong>, <em>italic</em>, or <u>underline</u> formatting to your text.</p>
                        
                        <h3>Creating Lists</h3>
                        <p>Create ordered (numbered) and unordered (bulleted) lists using the list buttons on the toolbar:</p>
                        <ul>
                            <li>This is an unordered list item.</li>
                            <li>This is another unordered list item.</li>
                        </ul>
                        <ol>
                            <li>This is an ordered list item.</li>
                            <li>This is another ordered list item.</li>
                        </ol>
                        
                        <h3>Inserting Links</h3>
                        <p>Insert links using the link button on the toolbar. Select the text you want to turn into a link, click the link button, and enter the URL.</p>
                        
                        <h3>Inserting Images</h3>
                        <p>Insert images using the image button on the toolbar. Click the image button, upload your image or provide a URL, and insert it into your content.</p>
                        
                        <h2>Advanced Features</h2>
                        <p>Explore more advanced features like tables, code blocks, and media embeds using the toolbar options.</p>
                        
                        <h3>Inserting Tables</h3>
                        <p>To insert a table, click the table button on the toolbar, select the number of rows and columns you want, and click to insert. You can then populate the table cells with content.</p>
                        <table border="1">
                            <thead>
                                <tr>
                                    <th>Header 1</th>
                                    <th>Header 2</th>
                                    <th>Header 3</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Row 1, Cell 1</td>
                                    <td>Row 1, Cell 2</td>
                                    <td>Row 1, Cell 3</td>
                                </tr>
                                <tr>
                                    <td>Row 2, Cell 1</td>
                                    <td>Row 2, Cell 2</td>
                                    <td>Row 2, Cell 3</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <h3>Inserting Code Samples</h3>
                        <p>To insert a code sample, click the code button on the toolbar, then enter or paste your code. Here's an example:</p>
                        <pre><code class="language-html">
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Example Code&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello, World!&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;
                        </code></pre>
                        
                        <h2>Saving and Exporting</h2>
                        <p>Once you're done editing, you can save or export your content as needed. Use the save button or export options available in your application.</p>
                        
                        <h2>Tips and Tricks</h2>
                        <p>Here are some additional tips for using TinyMCE effectively:</p>
                        <ul>
                            <li>Use keyboard shortcuts for common actions (e.g., Ctrl+B for bold, Ctrl+I for italic).</li>
                            <li>Customize the toolbar to include the buttons you use most often.</li>
                            <li>Explore the plugins available for TinyMCE to extend its functionality.</li>
                        </ul>
                        
                        <p>Enjoy using TinyMCE for all your content creation needs!</p>`,this.editorConfig={base_url:"/tinymce",suffix:".min",plugins:"anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount",toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat",skin:"oxide-dark",content_css:"dark",height:720},this.getEditorContent=()=>a3.default.activeEditor?.getContent()}};n.\u0275fac=function(c){return new(c||n)},n.\u0275cmp=_t({type:n,selectors:[["app-blog-editor"]],standalone:!0,features:[Vi([{provide:pI,useValue:"tinymce/tinymce.min.js"}]),xt],decls:1,vars:2,consts:[["apiKey","wosa4nwcx3nlec1v6cen5dztn0bu47iepff6m1h3jxcq4l5v",3,"init","initialValue"]],template:function(c,f){c&1&&Xe(0,"editor",0),c&2&&(Eo("initialValue",f.content),nt("init",f.editorConfig))},dependencies:[hI,Zr],encapsulation:2});let r=n;return r})();var vI=(()=>{let n=class n{constructor(a,c){this.dataService=a,this.aRoute=c,this.blogData={title:"",summary:"",content:"",user_id:null},this.is_editing=!1,this.blog_id=this.aRoute.snapshot.paramMap.get("id"),this.blog_id!=null&&(this.is_editing=!0)}ngOnInit(){this.fetchBlog()}saveBlog(){return pt(this,null,function*(){this.blogData.content=this.blogEditor.getEditorContent(),this.blogData.user_id=localStorage.getItem("user_id");try{if(this.is_editing){let a=yield this.dataService.update("blogs",this.blog_id,this.blogData)}else{let a=yield this.dataService.create("blogs",this.blogData)}window.location.href="/blogs"}catch(a){a instanceof Error?console.log(a):console.log("Unknown error occurred")}})}fetchBlog(){return pt(this,null,function*(){try{if(this.blog_id!=null){let a=yield this.dataService.get("blogs",this.blog_id);this.blogData.title=a.data.blog.title,this.blogData.summary=a.data.blog.summary,this.blogData.content=a.data.blog.content}}catch(a){a instanceof Error?console.log(a):console.log("Unknown error occurred")}})}goToBlogs(){window.location.href="/blogs"}};n.\u0275fac=function(c){return new(c||n)(Re(En),Re(Cs))},n.\u0275cmp=_t({type:n,selectors:[["app-blog-form"]],viewQuery:function(c,f){if(c&1&&Jj(gI,5),c&2){let h;Xx(h=Jx())&&(f.blogEditor=h.first)}},standalone:!0,features:[xt],decls:20,vars:2,consts:[[1,"bg-white","dark:bg-gray-900"],[1,"px-4","mx-auto","max-w-6xl","min-h-screen","py-2","format","format-sm","sm:format-base","lg:format-lg","format-blue","dark:format-invert"],[1,"grid","gap-4","sm:grid-cols-2","sm:gap-6"],[1,"sm:col-span-2"],["for","title",1,"sr-only","block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","text","name","title","id","title","placeholder","Type blog title","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-transparent","dark:border-b-2","dark:border-0","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500",3,"ngModelChange","ngModel"],["for","summary",1,"sr-only","block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","summary","rows","3","required","","placeholder","Your summary here",1,"block","p-2.5","w-full","text-sm","text-gray-900","bg-gray-50","border","border-gray-300","focus:ring-primary-500","focus:border-primary-500","dark:bg-transparent","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500",3,"ngModelChange","ngModel"],[1,"fixed","flex","gap-3","right-10","bottom-10"],["type","button",1,"inline-flex","items-center","px-5","py-2.5","mt-4","sm:mt-6","text-sm","font-medium","text-center","text-white","bg-gray-700","rounded-lg","focus:ring-4","focus:ring-gray-200","dark:focus:ring-gray-900","hover:bg-gray-800",3,"click"],["type","button",1,"inline-flex","items-center","px-5","py-2.5","mt-4","sm:mt-6","text-sm","font-medium","text-center","text-white","bg-primary-700","rounded-lg","focus:ring-4","focus:ring-primary-200","dark:focus:ring-primary-900","hover:bg-primary-800",3,"click"]],template:function(c,f){c&1&&(Xe(0,"app-header"),K(1,"section",0)(2,"div",1)(3,"div")(4,"div",2)(5,"div",3)(6,"label",4),le(7,"Blog Title"),Y(),K(8,"input",5),qn("ngModelChange",function(g){return ar(f.blogData.title,g)||(f.blogData.title=g),g}),Y()(),K(9,"div",3)(10,"label",6),le(11,"Summary"),Y(),K(12,"textarea",7),qn("ngModelChange",function(g){return ar(f.blogData.summary,g)||(f.blogData.summary=g),g}),Y()(),K(13,"div",3),Xe(14,"app-blog-editor"),Y()(),K(15,"div",8)(16,"button",9),Tt("click",function(){return f.goToBlogs()}),le(17," Cancel "),Y(),K(18,"button",10),Tt("click",function(){return f.saveBlog()}),le(19," Save "),Y()()()()()),c&2&&(Ce(8),Wn("ngModel",f.blogData.title),Ce(4),Wn("ngModel",f.blogData.summary))},dependencies:[qo,gI,Zr,Go,ii,Ds,Es],encapsulation:2});let r=n;return r})();var l3=(()=>{let n=class n{constructor(a){this.dataService=a}ngOnInit(){this.fetchUser()}onUpload(a){return pt(this,null,function*(){let c=a.target,f=new FormData;if(c.files&&c.files[0]){console.log(c.files[0]),f.append("image",c.files[0]),f.forEach((h,g)=>{console.log(`${g}: ${h}`)});try{yield this.dataService.upload(`users/${this.user?.user_id}/avatar`,f),this.fetchUser()}catch(h){h instanceof Error?console.log(h.message):console.log("Unknown error occured")}}})}fetchUser(){return pt(this,null,function*(){try{let a=yield this.dataService.get("users",localStorage.getItem("user_id"));this.user=a.data.user,console.log(this.user)}catch(a){a instanceof Error?console.log(a.message):console.log("Unknown error occured.")}})}};n.\u0275fac=function(c){return new(c||n)(Re(En))},n.\u0275cmp=_t({type:n,selectors:[["app-profile"]],standalone:!0,features:[xt],decls:33,vars:4,consts:[[1,"flex","flex-col","items-center","py-8","px-4","mx-auto","max-w-screen","min-h-screen","lg:py-16","lg:px-6","dark:bg-gray-900"],[1,"mb-4","text-3xl","lg:text-4xl","tracking-tight","font-extrabold","text-gray-900","dark:text-white"],[1,"font-light","text-gray-500","sm:text-xl","dark:text-gray-400","mb-4","w-4/5"],[1,"flex","gap-8","mb-6","lg:mb-16","justify-center","items-center"],[1,"items-center","bg-gray-50","rounded-lg","shadow","sm:flex","dark:bg-gray-800","dark:border-gray-700"],[1,"w-modal","h-modal","relative"],[1,"flex","items-center","justify-center","w-full","h-full","absolute"],["for","dropzone-file",1,"dark:opacity-0","transition-all","dark:hover:opacity-100","dark:hover:bg-gray-600","flex","flex-col","items-center","justify-center","w-full","h-full","dark:hover:border-gray-500"],[1,"flex","flex-col","items-center","justify-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 16",1,"w-8","h-8","mb-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"font-semibold"],[1,"text-xs","text-gray-500","dark:text-gray-400"],["id","dropzone-file","type","file",1,"hidden",3,"change"],["alt","Avatar",1,"md:w-60","md:h-60","rounded-lg","sm:rounded-none","sm:rounded-l-lg",3,"src"],[1,"p-5"],[1,"text-xl","font-bold","tracking-tight","text-gray-900","dark:text-white"],["href","#"],[1,"text-gray-500","dark:text-gray-400"],[1,"mt-3","mb-4","font-light","text-gray-500","dark:text-gray-400"]],template:function(c,f){c&1&&(Xe(0,"app-header"),K(1,"div",0)(2,"h2",1),le(3,"Your Profile "),Y(),K(4,"p",2),le(5,"Be part of the conversation, read your interest, give a feedback, be entertained, and connect with the community early and often."),Y(),K(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"label",7)(11,"div",8),ei(),K(12,"svg",9),Xe(13,"path",10),Y(),Ta(),K(14,"p",11)(15,"span",12),le(16,"Click to upload"),Y(),le(17," or drag and drop"),Y(),K(18,"p",13),le(19,"SVG, PNG, JPG or GIF (MAX. 800x400px) "),Y()(),K(20,"input",14),Tt("change",function(g){return f.onUpload(g)}),Y()()(),Xe(21,"img",15),Y(),K(22,"div",16)(23,"h3",17)(24,"a",18),le(25),Y()(),K(26,"span",19),le(27),Y(),K(28,"p",20),le(29),K(30,"i"),le(31,"bloggy blog community"),Y(),le(32,", you are one of his fellow bloggy mate."),Y()()()()()),c&2&&(Ce(21),Eo("src",f.user==null?null:f.user.image_name,wo),Ce(4),Do("\u2202 ",f.user==null?null:f.user.username,""),Ce(2),en(f.user==null?null:f.user.email),Ce(2),Do(" ",f.user==null||f.user.first_name==null?null:f.user.first_name.toLowerCase()," is part of the "))},dependencies:[qo],encapsulation:2});let r=n;return r})();var c3=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:_H},{path:"explore",component:JH},{path:"blogs",component:qH},{path:"blogs/create",component:vI},{path:"blogs/edit/:id",component:vI},{path:"blogs/:id",component:YH},{path:"login",component:QH},{path:"register",component:XH},{path:"profile",component:l3}];var u3={providers:[yH(c3)]};var PEe=function(){function r(n,i){i===void 0&&(i=[]),this._eventType=n,this._eventFunctions=i}return r.prototype.init=function(){var n=this;this._eventFunctions.forEach(function(i){typeof window<"u"&&window.addEventListener(n._eventType,i)})},r}(),d3=PEe;var FEe=function(){function r(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{},CopyClipboard:{},Datepicker:{}}}return r.prototype.addInstance=function(n,i,a,c){if(c===void 0&&(c=!1),!this._instances[n])return console.warn("Flowbite: Component ".concat(n," does not exist.")),!1;if(this._instances[n][a]&&!c){console.warn("Flowbite: Instance with ID ".concat(a," already exists."));return}c&&this._instances[n][a]&&this._instances[n][a].destroyAndRemoveInstance(),this._instances[n][a||this._generateRandomId()]=i},r.prototype.getAllInstances=function(){return this._instances},r.prototype.getInstances=function(n){return this._instances[n]?this._instances[n]:(console.warn("Flowbite: Component ".concat(n," does not exist.")),!1)},r.prototype.getInstance=function(n,i){if(this._componentAndInstanceCheck(n,i)){if(!this._instances[n][i]){console.warn("Flowbite: Instance with ID ".concat(i," does not exist."));return}return this._instances[n][i]}},r.prototype.destroyAndRemoveInstance=function(n,i){this._componentAndInstanceCheck(n,i)&&(this.destroyInstanceObject(n,i),this.removeInstance(n,i))},r.prototype.removeInstance=function(n,i){this._componentAndInstanceCheck(n,i)&&delete this._instances[n][i]},r.prototype.destroyInstanceObject=function(n,i){this._componentAndInstanceCheck(n,i)&&this._instances[n][i].destroy()},r.prototype.instanceExists=function(n,i){return!(!this._instances[n]||!this._instances[n][i])},r.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},r.prototype._componentAndInstanceCheck=function(n,i){return this._instances[n]?this._instances[n][i]?!0:(console.warn("Flowbite: Instance with ID ".concat(i," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(n," does not exist.")),!1)},r}(),f3=new FEe,Ze=f3;typeof window<"u"&&(window.FlowbiteInstances=f3);var lb=function(){return lb=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},lb.apply(this,arguments)},cb={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},LEe={id:null,override:!0},p3=function(){function r(n,i,a,c){n===void 0&&(n=null),i===void 0&&(i=[]),a===void 0&&(a=cb),c===void 0&&(c=LEe),this._instanceId=c.id?c.id:n.id,this._accordionEl=n,this._items=i,this._options=lb(lb({},cb),a),this._initialized=!1,this.init(),Ze.addInstance("Accordion",this,this._instanceId,c.override)}return r.prototype.init=function(){var n=this;this._items.length&&!this._initialized&&(this._items.forEach(function(i){i.active&&n.open(i.id);var a=function(){n.toggle(i.id)};i.triggerEl.addEventListener("click",a),i.clickHandler=a}),this._initialized=!0)},r.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach(function(n){n.triggerEl.removeEventListener("click",n.clickHandler),delete n.clickHandler}),this._initialized=!1)},r.prototype.removeInstance=function(){Ze.removeInstance("Accordion",this._instanceId)},r.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},r.prototype.getItem=function(n){return this._items.filter(function(i){return i.id===n})[0]},r.prototype.open=function(n){var i,a,c=this,f=this.getItem(n);this._options.alwaysOpen||this._items.map(function(h){var g,y;h!==f&&((g=h.triggerEl.classList).remove.apply(g,c._options.activeClasses.split(" ")),(y=h.triggerEl.classList).add.apply(y,c._options.inactiveClasses.split(" ")),h.targetEl.classList.add("hidden"),h.triggerEl.setAttribute("aria-expanded","false"),h.active=!1,h.iconEl&&h.iconEl.classList.add("rotate-180"))}),(i=f.triggerEl.classList).add.apply(i,this._options.activeClasses.split(" ")),(a=f.triggerEl.classList).remove.apply(a,this._options.inactiveClasses.split(" ")),f.triggerEl.setAttribute("aria-expanded","true"),f.targetEl.classList.remove("hidden"),f.active=!0,f.iconEl&&f.iconEl.classList.remove("rotate-180"),this._options.onOpen(this,f)},r.prototype.toggle=function(n){var i=this.getItem(n);i.active?this.close(n):this.open(n),this._options.onToggle(this,i)},r.prototype.close=function(n){var i,a,c=this.getItem(n);(i=c.triggerEl.classList).remove.apply(i,this._options.activeClasses.split(" ")),(a=c.triggerEl.classList).add.apply(a,this._options.inactiveClasses.split(" ")),c.targetEl.classList.add("hidden"),c.triggerEl.setAttribute("aria-expanded","false"),c.active=!1,c.iconEl&&c.iconEl.classList.add("rotate-180"),this._options.onClose(this,c)},r.prototype.updateOnOpen=function(n){this._options.onOpen=n},r.prototype.updateOnClose=function(n){this._options.onClose=n},r.prototype.updateOnToggle=function(n){this._options.onToggle=n},r}();function id(){document.querySelectorAll("[data-accordion]").forEach(function(r){var n=r.getAttribute("data-accordion"),i=r.getAttribute("data-active-classes"),a=r.getAttribute("data-inactive-classes"),c=[];r.querySelectorAll("[data-accordion-target]").forEach(function(f){if(f.closest("[data-accordion]")===r){var h={id:f.getAttribute("data-accordion-target"),triggerEl:f,targetEl:document.querySelector(f.getAttribute("data-accordion-target")),iconEl:f.querySelector("[data-accordion-icon]"),active:f.getAttribute("aria-expanded")==="true"};c.push(h)}}),new p3(r,c,{alwaysOpen:n==="open",activeClasses:i||cb.activeClasses,inactiveClasses:a||cb.inactiveClasses})})}typeof window<"u"&&(window.Accordion=p3,window.initAccordions=id);var ub=function(){return ub=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},ub.apply(this,arguments)},h3={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},BEe={id:null,override:!0},yI=function(){function r(n,i,a,c){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=h3),c===void 0&&(c=BEe),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=i,this._options=ub(ub({},h3),a),this._visible=!1,this._initialized=!1,this.init(),Ze.addInstance("Collapse",this,this._instanceId,c.override)}return r.prototype.init=function(){var n=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){n.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},r.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},r.prototype.removeInstance=function(){Ze.removeInstance("Collapse",this._instanceId)},r.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},r.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},r.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},r.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},r.prototype.updateOnCollapse=function(n){this._options.onCollapse=n},r.prototype.updateOnExpand=function(n){this._options.onExpand=n},r.prototype.updateOnToggle=function(n){this._options.onToggle=n},r}();function ad(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(r){var n=r.getAttribute("data-collapse-toggle"),i=document.getElementById(n);i?Ze.instanceExists("Collapse",i.getAttribute("id"))?new yI(i,r,{},{id:i.getAttribute("id")+"_"+Ze._generateRandomId()}):new yI(i,r):console.error('The target element with id "'.concat(n,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=yI,window.initCollapses=ad);var nc=function(){return nc=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},nc.apply(this,arguments)},db={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},VEe={id:null,override:!0},m3=function(){function r(n,i,a,c){n===void 0&&(n=null),i===void 0&&(i=[]),a===void 0&&(a=db),c===void 0&&(c=VEe),this._instanceId=c.id?c.id:n.id,this._carouselEl=n,this._items=i,this._options=nc(nc(nc({},db),a),{indicators:nc(nc({},db.indicators),a.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),Ze.addInstance("Carousel",this,this._instanceId,c.override)}return r.prototype.init=function(){var n=this;this._items.length&&!this._initialized&&(this._items.map(function(i){i.el.classList.add("absolute","inset-0","transition-transform","transform")}),this.getActiveItem()?this.slideTo(this.getActiveItem().position):this.slideTo(0),this._indicators.map(function(i,a){i.el.addEventListener("click",function(){n.slideTo(a)})}),this._initialized=!0)},r.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},r.prototype.removeInstance=function(){Ze.removeInstance("Carousel",this._instanceId)},r.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},r.prototype.getItem=function(n){return this._items[n]},r.prototype.slideTo=function(n){var i=this._items[n],a={left:i.position===0?this._items[this._items.length-1]:this._items[i.position-1],middle:i,right:i.position===this._items.length-1?this._items[0]:this._items[i.position+1]};this._rotate(a),this._setActiveItem(i),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},r.prototype.next=function(){var n=this.getActiveItem(),i=null;n.position===this._items.length-1?i=this._items[0]:i=this._items[n.position+1],this.slideTo(i.position),this._options.onNext(this)},r.prototype.prev=function(){var n=this.getActiveItem(),i=null;n.position===0?i=this._items[this._items.length-1]:i=this._items[n.position-1],this.slideTo(i.position),this._options.onPrev(this)},r.prototype._rotate=function(n){if(this._items.map(function(i){i.el.classList.add("hidden")}),this._items.length===1){n.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),n.middle.el.classList.add("translate-x-0","z-20");return}n.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),n.left.el.classList.add("-translate-x-full","z-10"),n.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),n.middle.el.classList.add("translate-x-0","z-30"),n.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-30"),n.right.el.classList.add("translate-x-full","z-20")},r.prototype.cycle=function(){var n=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){n.next()},this._intervalDuration))},r.prototype.pause=function(){clearInterval(this._intervalInstance)},r.prototype.getActiveItem=function(){return this._activeItem},r.prototype._setActiveItem=function(n){var i,a,c=this;this._activeItem=n;var f=n.position;this._indicators.length&&(this._indicators.map(function(h){var g,y;h.el.setAttribute("aria-current","false"),(g=h.el.classList).remove.apply(g,c._options.indicators.activeClasses.split(" ")),(y=h.el.classList).add.apply(y,c._options.indicators.inactiveClasses.split(" "))}),(i=this._indicators[f].el.classList).add.apply(i,this._options.indicators.activeClasses.split(" ")),(a=this._indicators[f].el.classList).remove.apply(a,this._options.indicators.inactiveClasses.split(" ")),this._indicators[f].el.setAttribute("aria-current","true"))},r.prototype.updateOnNext=function(n){this._options.onNext=n},r.prototype.updateOnPrev=function(n){this._options.onPrev=n},r.prototype.updateOnChange=function(n){this._options.onChange=n},r}();function ld(){document.querySelectorAll("[data-carousel]").forEach(function(r){var n=r.getAttribute("data-carousel-interval"),i=r.getAttribute("data-carousel")==="slide",a=[],c=0;r.querySelectorAll("[data-carousel-item]").length&&Array.from(r.querySelectorAll("[data-carousel-item]")).map(function(w,_){a.push({position:_,el:w}),w.getAttribute("data-carousel-item")==="active"&&(c=_)});var f=[];r.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(r.querySelectorAll("[data-carousel-slide-to]")).map(function(w){f.push({position:parseInt(w.getAttribute("data-carousel-slide-to")),el:w})});var h=new m3(r,a,{defaultPosition:c,indicators:{items:f},interval:n||db.interval});i&&h.cycle();var g=r.querySelector("[data-carousel-next]"),y=r.querySelector("[data-carousel-prev]");g&&g.addEventListener("click",function(){h.next()}),y&&y.addEventListener("click",function(){h.prev()})})}typeof window<"u"&&(window.Carousel=m3,window.initCarousels=ld);var fb=function(){return fb=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},fb.apply(this,arguments)},g3={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},$Ee={id:null,override:!0},v3=function(){function r(n,i,a,c){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=g3),c===void 0&&(c=$Ee),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=i,this._options=fb(fb({},g3),a),this._initialized=!1,this.init(),Ze.addInstance("Dismiss",this,this._instanceId,c.override)}return r.prototype.init=function(){var n=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){n.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},r.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},r.prototype.removeInstance=function(){Ze.removeInstance("Dismiss",this._instanceId)},r.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},r.prototype.hide=function(){var n=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){n._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},r.prototype.updateOnHide=function(n){this._options.onHide=n},r}();function cd(){document.querySelectorAll("[data-dismiss-target]").forEach(function(r){var n=r.getAttribute("data-dismiss-target"),i=document.querySelector(n);i?new v3(i,r):console.error('The dismiss element with id "'.concat(n,'" does not exist. Please check the data-dismiss-target attribute.'))})}typeof window<"u"&&(window.Dismiss=v3,window.initDismisses=cd);var Dn="top",Gn="bottom",$n="right",Nn="left",pb="auto",Va=[Dn,Gn,$n,Nn],Gi="start",rc="end",y3="clippingParents",hb="viewport",ud="popper",b3="reference",bI=Va.reduce(function(r,n){return r.concat([n+"-"+Gi,n+"-"+rc])},[]),mb=[].concat(Va,[pb]).reduce(function(r,n){return r.concat([n,n+"-"+Gi,n+"-"+rc])},[]),jEe="beforeRead",UEe="read",HEe="afterRead",zEe="beforeMain",WEe="main",qEe="afterMain",GEe="beforeWrite",KEe="write",YEe="afterWrite",C3=[jEe,UEe,HEe,zEe,WEe,qEe,GEe,KEe,YEe];function cr(r){return r?(r.nodeName||"").toLowerCase():null}function fn(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var n=r.ownerDocument;return n&&n.defaultView||window}return r}function Ko(r){var n=fn(r).Element;return r instanceof n||r instanceof Element}function Kn(r){var n=fn(r).HTMLElement;return r instanceof n||r instanceof HTMLElement}function dd(r){if(typeof ShadowRoot>"u")return!1;var n=fn(r).ShadowRoot;return r instanceof n||r instanceof ShadowRoot}function ZEe(r){var n=r.state;Object.keys(n.elements).forEach(function(i){var a=n.styles[i]||{},c=n.attributes[i]||{},f=n.elements[i];!Kn(f)||!cr(f)||(Object.assign(f.style,a),Object.keys(c).forEach(function(h){var g=c[h];g===!1?f.removeAttribute(h):f.setAttribute(h,g===!0?"":g)}))})}function QEe(r){var n=r.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow),function(){Object.keys(n.elements).forEach(function(a){var c=n.elements[a],f=n.attributes[a]||{},h=Object.keys(n.styles.hasOwnProperty(a)?n.styles[a]:i[a]),g=h.reduce(function(y,w){return y[w]="",y},{});!Kn(c)||!cr(c)||(Object.assign(c.style,g),Object.keys(f).forEach(function(y){c.removeAttribute(y)}))})}}var w3={name:"applyStyles",enabled:!0,phase:"write",fn:ZEe,effect:QEe,requires:["computeStyles"]};function ur(r){return r.split("-")[0]}var _s=Math.max,oc=Math.min,Ki=Math.round;function fd(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function ih(){return!/^((?!chrome|android).)*safari/i.test(fd())}function Yo(r,n,i){n===void 0&&(n=!1),i===void 0&&(i=!1);var a=r.getBoundingClientRect(),c=1,f=1;n&&Kn(r)&&(c=r.offsetWidth>0&&Ki(a.width)/r.offsetWidth||1,f=r.offsetHeight>0&&Ki(a.height)/r.offsetHeight||1);var h=Ko(r)?fn(r):window,g=h.visualViewport,y=!ih()&&i,w=(a.left+(y&&g?g.offsetLeft:0))/c,_=(a.top+(y&&g?g.offsetTop:0))/f,k=a.width/c,V=a.height/f;return{width:k,height:V,top:_,right:w+k,bottom:_+V,left:w,x:w,y:_}}function sc(r){var n=Yo(r),i=r.offsetWidth,a=r.offsetHeight;return Math.abs(n.width-i)<=1&&(i=n.width),Math.abs(n.height-a)<=1&&(a=n.height),{x:r.offsetLeft,y:r.offsetTop,width:i,height:a}}function ah(r,n){var i=n.getRootNode&&n.getRootNode();if(r.contains(n))return!0;if(i&&dd(i)){var a=n;do{if(a&&r.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Br(r){return fn(r).getComputedStyle(r)}function CI(r){return["table","td","th"].indexOf(cr(r))>=0}function vr(r){return((Ko(r)?r.ownerDocument:r.document)||window.document).documentElement}function Yi(r){return cr(r)==="html"?r:r.assignedSlot||r.parentNode||(dd(r)?r.host:null)||vr(r)}function E3(r){return!Kn(r)||Br(r).position==="fixed"?null:r.offsetParent}function XEe(r){var n=/firefox/i.test(fd()),i=/Trident/i.test(fd());if(i&&Kn(r)){var a=Br(r);if(a.position==="fixed")return null}var c=Yi(r);for(dd(c)&&(c=c.host);Kn(c)&&["html","body"].indexOf(cr(c))<0;){var f=Br(c);if(f.transform!=="none"||f.perspective!=="none"||f.contain==="paint"||["transform","perspective"].indexOf(f.willChange)!==-1||n&&f.willChange==="filter"||n&&f.filter&&f.filter!=="none")return c;c=c.parentNode}return null}function xs(r){for(var n=fn(r),i=E3(r);i&&CI(i)&&Br(i).position==="static";)i=E3(i);return i&&(cr(i)==="html"||cr(i)==="body"&&Br(i).position==="static")?n:i||XEe(r)||n}function ic(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function ac(r,n,i){return _s(r,oc(n,i))}function D3(r,n,i){var a=ac(r,n,i);return a>i?i:a}function lh(){return{top:0,right:0,bottom:0,left:0}}function ch(r){return Object.assign({},lh(),r)}function uh(r,n){return n.reduce(function(i,a){return i[a]=r,i},{})}var JEe=function(n,i){return n=typeof n=="function"?n(Object.assign({},i.rects,{placement:i.placement})):n,ch(typeof n!="number"?n:uh(n,Va))};function eDe(r){var n,i=r.state,a=r.name,c=r.options,f=i.elements.arrow,h=i.modifiersData.popperOffsets,g=ur(i.placement),y=ic(g),w=[Nn,$n].indexOf(g)>=0,_=w?"height":"width";if(!(!f||!h)){var k=JEe(c.padding,i),V=sc(f),$=y==="y"?Dn:Nn,oe=y==="y"?Gn:$n,ue=i.rects.reference[_]+i.rects.reference[y]-h[y]-i.rects.popper[_],Ee=h[y]-i.rects.reference[y],_e=xs(f),te=_e?y==="y"?_e.clientHeight||0:_e.clientWidth||0:0,Fe=ue/2-Ee/2,Le=k[$],Ie=te-V[_]-k[oe],ke=te/2-V[_]/2+Fe,et=ac(Le,ke,Ie),Ke=y;i.modifiersData[a]=(n={},n[Ke]=et,n.centerOffset=et-ke,n)}}function tDe(r){var n=r.state,i=r.options,a=i.element,c=a===void 0?"[data-popper-arrow]":a;c!=null&&(typeof c=="string"&&(c=n.elements.popper.querySelector(c),!c)||ah(n.elements.popper,c)&&(n.elements.arrow=c))}var _3={name:"arrow",enabled:!0,phase:"main",fn:eDe,effect:tDe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zo(r){return r.split("-")[1]}var nDe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function rDe(r,n){var i=r.x,a=r.y,c=n.devicePixelRatio||1;return{x:Ki(i*c)/c||0,y:Ki(a*c)/c||0}}function x3(r){var n,i=r.popper,a=r.popperRect,c=r.placement,f=r.variation,h=r.offsets,g=r.position,y=r.gpuAcceleration,w=r.adaptive,_=r.roundOffsets,k=r.isFixed,V=h.x,$=V===void 0?0:V,oe=h.y,ue=oe===void 0?0:oe,Ee=typeof _=="function"?_({x:$,y:ue}):{x:$,y:ue};$=Ee.x,ue=Ee.y;var _e=h.hasOwnProperty("x"),te=h.hasOwnProperty("y"),Fe=Nn,Le=Dn,Ie=window;if(w){var ke=xs(i),et="clientHeight",Ke="clientWidth";if(ke===fn(i)&&(ke=vr(i),Br(ke).position!=="static"&&g==="absolute"&&(et="scrollHeight",Ke="scrollWidth")),ke=ke,c===Dn||(c===Nn||c===$n)&&f===rc){Le=Gn;var $e=k&&ke===Ie&&Ie.visualViewport?Ie.visualViewport.height:ke[et];ue-=$e-a.height,ue*=y?1:-1}if(c===Nn||(c===Dn||c===Gn)&&f===rc){Fe=$n;var G=k&&ke===Ie&&Ie.visualViewport?Ie.visualViewport.width:ke[Ke];$-=G-a.width,$*=y?1:-1}}var Oe=Object.assign({position:g},w&&nDe),Zt=_===!0?rDe({x:$,y:ue},fn(i)):{x:$,y:ue};if($=Zt.x,ue=Zt.y,y){var on;return Object.assign({},Oe,(on={},on[Le]=te?"0":"",on[Fe]=_e?"0":"",on.transform=(Ie.devicePixelRatio||1)<=1?"translate("+$+"px, "+ue+"px)":"translate3d("+$+"px, "+ue+"px, 0)",on))}return Object.assign({},Oe,(n={},n[Le]=te?ue+"px":"",n[Fe]=_e?$+"px":"",n.transform="",n))}function oDe(r){var n=r.state,i=r.options,a=i.gpuAcceleration,c=a===void 0?!0:a,f=i.adaptive,h=f===void 0?!0:f,g=i.roundOffsets,y=g===void 0?!0:g,w={placement:ur(n.placement),variation:Zo(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:c,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,x3(Object.assign({},w,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:h,roundOffsets:y})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,x3(Object.assign({},w,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:y})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}var S3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:oDe,data:{}};var gb={passive:!0};function sDe(r){var n=r.state,i=r.instance,a=r.options,c=a.scroll,f=c===void 0?!0:c,h=a.resize,g=h===void 0?!0:h,y=fn(n.elements.popper),w=[].concat(n.scrollParents.reference,n.scrollParents.popper);return f&&w.forEach(function(_){_.addEventListener("scroll",i.update,gb)}),g&&y.addEventListener("resize",i.update,gb),function(){f&&w.forEach(function(_){_.removeEventListener("scroll",i.update,gb)}),g&&y.removeEventListener("resize",i.update,gb)}}var I3={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:sDe,data:{}};var iDe={left:"right",right:"left",bottom:"top",top:"bottom"};function pd(r){return r.replace(/left|right|bottom|top/g,function(n){return iDe[n]})}var aDe={start:"end",end:"start"};function vb(r){return r.replace(/start|end/g,function(n){return aDe[n]})}function lc(r){var n=fn(r),i=n.pageXOffset,a=n.pageYOffset;return{scrollLeft:i,scrollTop:a}}function cc(r){return Yo(vr(r)).left+lc(r).scrollLeft}function wI(r,n){var i=fn(r),a=vr(r),c=i.visualViewport,f=a.clientWidth,h=a.clientHeight,g=0,y=0;if(c){f=c.width,h=c.height;var w=ih();(w||!w&&n==="fixed")&&(g=c.offsetLeft,y=c.offsetTop)}return{width:f,height:h,x:g+cc(r),y}}function EI(r){var n,i=vr(r),a=lc(r),c=(n=r.ownerDocument)==null?void 0:n.body,f=_s(i.scrollWidth,i.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),h=_s(i.scrollHeight,i.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),g=-a.scrollLeft+cc(r),y=-a.scrollTop;return Br(c||i).direction==="rtl"&&(g+=_s(i.clientWidth,c?c.clientWidth:0)-f),{width:f,height:h,x:g,y}}function uc(r){var n=Br(r),i=n.overflow,a=n.overflowX,c=n.overflowY;return/auto|scroll|overlay|hidden/.test(i+c+a)}function yb(r){return["html","body","#document"].indexOf(cr(r))>=0?r.ownerDocument.body:Kn(r)&&uc(r)?r:yb(Yi(r))}function $a(r,n){var i;n===void 0&&(n=[]);var a=yb(r),c=a===((i=r.ownerDocument)==null?void 0:i.body),f=fn(a),h=c?[f].concat(f.visualViewport||[],uc(a)?a:[]):a,g=n.concat(h);return c?g:g.concat($a(Yi(h)))}function hd(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function lDe(r,n){var i=Yo(r,!1,n==="fixed");return i.top=i.top+r.clientTop,i.left=i.left+r.clientLeft,i.bottom=i.top+r.clientHeight,i.right=i.left+r.clientWidth,i.width=r.clientWidth,i.height=r.clientHeight,i.x=i.left,i.y=i.top,i}function A3(r,n,i){return n===hb?hd(wI(r,i)):Ko(n)?lDe(n,i):hd(EI(vr(r)))}function cDe(r){var n=$a(Yi(r)),i=["absolute","fixed"].indexOf(Br(r).position)>=0,a=i&&Kn(r)?xs(r):r;return Ko(a)?n.filter(function(c){return Ko(c)&&ah(c,a)&&cr(c)!=="body"}):[]}function DI(r,n,i,a){var c=n==="clippingParents"?cDe(r):[].concat(n),f=[].concat(c,[i]),h=f[0],g=f.reduce(function(y,w){var _=A3(r,w,a);return y.top=_s(_.top,y.top),y.right=oc(_.right,y.right),y.bottom=oc(_.bottom,y.bottom),y.left=_s(_.left,y.left),y},A3(r,h,a));return g.width=g.right-g.left,g.height=g.bottom-g.top,g.x=g.left,g.y=g.top,g}function dh(r){var n=r.reference,i=r.element,a=r.placement,c=a?ur(a):null,f=a?Zo(a):null,h=n.x+n.width/2-i.width/2,g=n.y+n.height/2-i.height/2,y;switch(c){case Dn:y={x:h,y:n.y-i.height};break;case Gn:y={x:h,y:n.y+n.height};break;case $n:y={x:n.x+n.width,y:g};break;case Nn:y={x:n.x-i.width,y:g};break;default:y={x:n.x,y:n.y}}var w=c?ic(c):null;if(w!=null){var _=w==="y"?"height":"width";switch(f){case Gi:y[w]=y[w]-(n[_]/2-i[_]/2);break;case rc:y[w]=y[w]+(n[_]/2-i[_]/2);break;default:}}return y}function Ss(r,n){n===void 0&&(n={});var i=n,a=i.placement,c=a===void 0?r.placement:a,f=i.strategy,h=f===void 0?r.strategy:f,g=i.boundary,y=g===void 0?y3:g,w=i.rootBoundary,_=w===void 0?hb:w,k=i.elementContext,V=k===void 0?ud:k,$=i.altBoundary,oe=$===void 0?!1:$,ue=i.padding,Ee=ue===void 0?0:ue,_e=ch(typeof Ee!="number"?Ee:uh(Ee,Va)),te=V===ud?b3:ud,Fe=r.rects.popper,Le=r.elements[oe?te:V],Ie=DI(Ko(Le)?Le:Le.contextElement||vr(r.elements.popper),y,_,h),ke=Yo(r.elements.reference),et=dh({reference:ke,element:Fe,strategy:"absolute",placement:c}),Ke=hd(Object.assign({},Fe,et)),$e=V===ud?Ke:ke,G={top:Ie.top-$e.top+_e.top,bottom:$e.bottom-Ie.bottom+_e.bottom,left:Ie.left-$e.left+_e.left,right:$e.right-Ie.right+_e.right},Oe=r.modifiersData.offset;if(V===ud&&Oe){var Zt=Oe[c];Object.keys(G).forEach(function(on){var Ne=[$n,Gn].indexOf(on)>=0?1:-1,Mt=[Dn,Gn].indexOf(on)>=0?"y":"x";G[on]+=Zt[Mt]*Ne})}return G}function _I(r,n){n===void 0&&(n={});var i=n,a=i.placement,c=i.boundary,f=i.rootBoundary,h=i.padding,g=i.flipVariations,y=i.allowedAutoPlacements,w=y===void 0?mb:y,_=Zo(a),k=_?g?bI:bI.filter(function(oe){return Zo(oe)===_}):Va,V=k.filter(function(oe){return w.indexOf(oe)>=0});V.length===0&&(V=k);var $=V.reduce(function(oe,ue){return oe[ue]=Ss(r,{placement:ue,boundary:c,rootBoundary:f,padding:h})[ur(ue)],oe},{});return Object.keys($).sort(function(oe,ue){return $[oe]-$[ue]})}function uDe(r){if(ur(r)===pb)return[];var n=pd(r);return[vb(r),n,vb(n)]}function dDe(r){var n=r.state,i=r.options,a=r.name;if(!n.modifiersData[a]._skip){for(var c=i.mainAxis,f=c===void 0?!0:c,h=i.altAxis,g=h===void 0?!0:h,y=i.fallbackPlacements,w=i.padding,_=i.boundary,k=i.rootBoundary,V=i.altBoundary,$=i.flipVariations,oe=$===void 0?!0:$,ue=i.allowedAutoPlacements,Ee=n.options.placement,_e=ur(Ee),te=_e===Ee,Fe=y||(te||!oe?[pd(Ee)]:uDe(Ee)),Le=[Ee].concat(Fe).reduce(function(Ao,wt){return Ao.concat(ur(wt)===pb?_I(n,{placement:wt,boundary:_,rootBoundary:k,padding:w,flipVariations:oe,allowedAutoPlacements:ue}):wt)},[]),Ie=n.rects.reference,ke=n.rects.popper,et=new Map,Ke=!0,$e=Le[0],G=0;G<Le.length;G++){var Oe=Le[G],Zt=ur(Oe),on=Zo(Oe)===Gi,Ne=[Dn,Gn].indexOf(Zt)>=0,Mt=Ne?"width":"height",Yn=Ss(n,{placement:Oe,boundary:_,rootBoundary:k,altBoundary:V,padding:w}),re=Ne?on?$n:Nn:on?Gn:Dn;Ie[Mt]>ke[Mt]&&(re=pd(re));var _n=pd(re),Is=[];if(f&&Is.push(Yn[Zt]<=0),g&&Is.push(Yn[re]<=0,Yn[_n]<=0),Is.every(function(Ao){return Ao})){$e=Oe,Ke=!1;break}et.set(Oe,Is)}if(Ke)for(var pe=oe?3:1,ai=function(wt){var Ut=Le.find(function(D){var Xo=et.get(D);if(Xo)return Xo.slice(0,wt).every(function(kd){return kd})});if(Ut)return $e=Ut,"break"},Xi=pe;Xi>0;Xi--){var Ji=ai(Xi);if(Ji==="break")break}n.placement!==$e&&(n.modifiersData[a]._skip=!0,n.placement=$e,n.reset=!0)}}var k3={name:"flip",enabled:!0,phase:"main",fn:dDe,requiresIfExists:["offset"],data:{_skip:!1}};function T3(r,n,i){return i===void 0&&(i={x:0,y:0}),{top:r.top-n.height-i.y,right:r.right-n.width+i.x,bottom:r.bottom-n.height+i.y,left:r.left-n.width-i.x}}function M3(r){return[Dn,$n,Gn,Nn].some(function(n){return r[n]>=0})}function fDe(r){var n=r.state,i=r.name,a=n.rects.reference,c=n.rects.popper,f=n.modifiersData.preventOverflow,h=Ss(n,{elementContext:"reference"}),g=Ss(n,{altBoundary:!0}),y=T3(h,a),w=T3(g,c,f),_=M3(y),k=M3(w);n.modifiersData[i]={referenceClippingOffsets:y,popperEscapeOffsets:w,isReferenceHidden:_,hasPopperEscaped:k},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":_,"data-popper-escaped":k})}var N3={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:fDe};function pDe(r,n,i){var a=ur(r),c=[Nn,Dn].indexOf(a)>=0?-1:1,f=typeof i=="function"?i(Object.assign({},n,{placement:r})):i,h=f[0],g=f[1];return h=h||0,g=(g||0)*c,[Nn,$n].indexOf(a)>=0?{x:g,y:h}:{x:h,y:g}}function hDe(r){var n=r.state,i=r.options,a=r.name,c=i.offset,f=c===void 0?[0,0]:c,h=mb.reduce(function(_,k){return _[k]=pDe(k,n.rects,f),_},{}),g=h[n.placement],y=g.x,w=g.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=y,n.modifiersData.popperOffsets.y+=w),n.modifiersData[a]=h}var R3={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:hDe};function mDe(r){var n=r.state,i=r.name;n.modifiersData[i]=dh({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}var O3={name:"popperOffsets",enabled:!0,phase:"read",fn:mDe,data:{}};function xI(r){return r==="x"?"y":"x"}function gDe(r){var n=r.state,i=r.options,a=r.name,c=i.mainAxis,f=c===void 0?!0:c,h=i.altAxis,g=h===void 0?!1:h,y=i.boundary,w=i.rootBoundary,_=i.altBoundary,k=i.padding,V=i.tether,$=V===void 0?!0:V,oe=i.tetherOffset,ue=oe===void 0?0:oe,Ee=Ss(n,{boundary:y,rootBoundary:w,padding:k,altBoundary:_}),_e=ur(n.placement),te=Zo(n.placement),Fe=!te,Le=ic(_e),Ie=xI(Le),ke=n.modifiersData.popperOffsets,et=n.rects.reference,Ke=n.rects.popper,$e=typeof ue=="function"?ue(Object.assign({},n.rects,{placement:n.placement})):ue,G=typeof $e=="number"?{mainAxis:$e,altAxis:$e}:Object.assign({mainAxis:0,altAxis:0},$e),Oe=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Zt={x:0,y:0};if(ke){if(f){var on,Ne=Le==="y"?Dn:Nn,Mt=Le==="y"?Gn:$n,Yn=Le==="y"?"height":"width",re=ke[Le],_n=re+Ee[Ne],Is=re-Ee[Mt],pe=$?-Ke[Yn]/2:0,ai=te===Gi?et[Yn]:Ke[Yn],Xi=te===Gi?-Ke[Yn]:-et[Yn],Ji=n.elements.arrow,Ao=$&&Ji?sc(Ji):{width:0,height:0},wt=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:lh(),Ut=wt[Ne],D=wt[Mt],Xo=ac(0,et[Yn],Ao[Yn]),kd=Fe?et[Yn]/2-pe-Xo-Ut-G.mainAxis:ai-Xo-Ut-G.mainAxis,zb=Fe?-et[Yn]/2+pe+Xo+D+G.mainAxis:Xi+Xo+D+G.mainAxis,yc=n.elements.arrow&&xs(n.elements.arrow),Wb=yc?Le==="y"?yc.clientTop||0:yc.clientLeft||0:0,ft=(on=Oe?.[Le])!=null?on:0,Ht=re+kd-ft-Wb,rt=re+zb-ft,z=ac($?oc(_n,Ht):_n,re,$?_s(Is,rt):Is);ke[Le]=z,Zt[Le]=z-re}if(g){var Td,ea=Le==="x"?Dn:Nn,Te=Le==="x"?Gn:$n,Qr=ke[Ie],Rn=Ie==="y"?"height":"width",Md=Qr+Ee[ea],sn=Qr-Ee[Te],As=[Dn,Nn].indexOf(_e)!==-1,Nd=(Td=Oe?.[Ie])!=null?Td:0,yr=As?Md:Qr-et[Rn]-Ke[Rn]-Nd+G.altAxis,ko=As?Qr+et[Rn]+Ke[Rn]-Nd-G.altAxis:sn,ta=$&&As?D3(yr,Qr,ko):ac($?yr:Md,Qr,$?ko:sn);ke[Ie]=ta,Zt[Ie]=ta-Qr}n.modifiersData[a]=Zt}}var P3={name:"preventOverflow",enabled:!0,phase:"main",fn:gDe,requiresIfExists:["offset"]};function SI(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function II(r){return r===fn(r)||!Kn(r)?lc(r):SI(r)}function vDe(r){var n=r.getBoundingClientRect(),i=Ki(n.width)/r.offsetWidth||1,a=Ki(n.height)/r.offsetHeight||1;return i!==1||a!==1}function AI(r,n,i){i===void 0&&(i=!1);var a=Kn(n),c=Kn(n)&&vDe(n),f=vr(n),h=Yo(r,c,i),g={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(a||!a&&!i)&&((cr(n)!=="body"||uc(f))&&(g=II(n)),Kn(n)?(y=Yo(n,!0),y.x+=n.clientLeft,y.y+=n.clientTop):f&&(y.x=cc(f))),{x:h.left+g.scrollLeft-y.x,y:h.top+g.scrollTop-y.y,width:h.width,height:h.height}}function yDe(r){var n=new Map,i=new Set,a=[];r.forEach(function(f){n.set(f.name,f)});function c(f){i.add(f.name);var h=[].concat(f.requires||[],f.requiresIfExists||[]);h.forEach(function(g){if(!i.has(g)){var y=n.get(g);y&&c(y)}}),a.push(f)}return r.forEach(function(f){i.has(f.name)||c(f)}),a}function kI(r){var n=yDe(r);return C3.reduce(function(i,a){return i.concat(n.filter(function(c){return c.phase===a}))},[])}function TI(r){var n;return function(){return n||(n=new Promise(function(i){Promise.resolve().then(function(){n=void 0,i(r())})})),n}}function MI(r){var n=r.reduce(function(i,a){var c=i[a.name];return i[a.name]=c?Object.assign({},c,a,{options:Object.assign({},c.options,a.options),data:Object.assign({},c.data,a.data)}):a,i},{});return Object.keys(n).map(function(i){return n[i]})}var F3={placement:"bottom",modifiers:[],strategy:"absolute"};function L3(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return!n.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function B3(r){r===void 0&&(r={});var n=r,i=n.defaultModifiers,a=i===void 0?[]:i,c=n.defaultOptions,f=c===void 0?F3:c;return function(g,y,w){w===void 0&&(w=f);var _={placement:"bottom",orderedModifiers:[],options:Object.assign({},F3,f),modifiersData:{},elements:{reference:g,popper:y},attributes:{},styles:{}},k=[],V=!1,$={state:_,setOptions:function(_e){var te=typeof _e=="function"?_e(_.options):_e;ue(),_.options=Object.assign({},f,_.options,te),_.scrollParents={reference:Ko(g)?$a(g):g.contextElement?$a(g.contextElement):[],popper:$a(y)};var Fe=kI(MI([].concat(a,_.options.modifiers)));return _.orderedModifiers=Fe.filter(function(Le){return Le.enabled}),oe(),$.update()},forceUpdate:function(){if(!V){var _e=_.elements,te=_e.reference,Fe=_e.popper;if(L3(te,Fe)){_.rects={reference:AI(te,xs(Fe),_.options.strategy==="fixed"),popper:sc(Fe)},_.reset=!1,_.placement=_.options.placement,_.orderedModifiers.forEach(function(G){return _.modifiersData[G.name]=Object.assign({},G.data)});for(var Le=0;Le<_.orderedModifiers.length;Le++){if(_.reset===!0){_.reset=!1,Le=-1;continue}var Ie=_.orderedModifiers[Le],ke=Ie.fn,et=Ie.options,Ke=et===void 0?{}:et,$e=Ie.name;typeof ke=="function"&&(_=ke({state:_,options:Ke,name:$e,instance:$})||_)}}}},update:TI(function(){return new Promise(function(Ee){$.forceUpdate(),Ee(_)})}),destroy:function(){ue(),V=!0}};if(!L3(g,y))return $;$.setOptions(w).then(function(Ee){!V&&w.onFirstUpdate&&w.onFirstUpdate(Ee)});function oe(){_.orderedModifiers.forEach(function(Ee){var _e=Ee.name,te=Ee.options,Fe=te===void 0?{}:te,Le=Ee.effect;if(typeof Le=="function"){var Ie=Le({state:_,name:_e,instance:$,options:Fe}),ke=function(){};k.push(Ie||ke)}})}function ue(){k.forEach(function(Ee){return Ee()}),k=[]}return $}}var bDe=[I3,O3,S3,w3,R3,k3,P3,_3,N3],dc=B3({defaultModifiers:bDe});var ja=function(){return ja=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},ja.apply(this,arguments)},bb=function(r,n,i){if(i||arguments.length===2)for(var a=0,c=n.length,f;a<c;a++)(f||!(a in n))&&(f||(f=Array.prototype.slice.call(n,0,a)),f[a]=n[a]);return r.concat(f||Array.prototype.slice.call(n))},Ua={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},CDe={id:null,override:!0},V3=function(){function r(n,i,a,c){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=Ua),c===void 0&&(c=CDe),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=i,this._options=ja(ja({},Ua),a),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Ze.addInstance("Dropdown",this,this._instanceId,c.override)}return r.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},r.prototype.destroy=function(){var n=this,i=this._getTriggerEvents();this._options.triggerType==="click"&&i.showEvents.forEach(function(a){n._triggerEl.removeEventListener(a,n._clickHandler)}),this._options.triggerType==="hover"&&(i.showEvents.forEach(function(a){n._triggerEl.removeEventListener(a,n._hoverShowTriggerElHandler),n._targetEl.removeEventListener(a,n._hoverShowTargetElHandler)}),i.hideEvents.forEach(function(a){n._triggerEl.removeEventListener(a,n._hoverHideHandler),n._targetEl.removeEventListener(a,n._hoverHideHandler)})),this._popperInstance.destroy(),this._initialized=!1},r.prototype.removeInstance=function(){Ze.removeInstance("Dropdown",this._instanceId)},r.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},r.prototype._setupEventListeners=function(){var n=this,i=this._getTriggerEvents();this._clickHandler=function(){n.toggle()},this._options.triggerType==="click"&&i.showEvents.forEach(function(a){n._triggerEl.addEventListener(a,n._clickHandler)}),this._hoverShowTriggerElHandler=function(a){a.type==="click"?n.toggle():setTimeout(function(){n.show()},n._options.delay)},this._hoverShowTargetElHandler=function(){n.show()},this._hoverHideHandler=function(){setTimeout(function(){n._targetEl.matches(":hover")||n.hide()},n._options.delay)},this._options.triggerType==="hover"&&(i.showEvents.forEach(function(a){n._triggerEl.addEventListener(a,n._hoverShowTriggerElHandler),n._targetEl.addEventListener(a,n._hoverShowTargetElHandler)}),i.hideEvents.forEach(function(a){n._triggerEl.addEventListener(a,n._hoverHideHandler),n._targetEl.addEventListener(a,n._hoverHideHandler)}))},r.prototype._createPopperInstance=function(){return dc(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},r.prototype._setupClickOutsideListener=function(){var n=this;this._clickOutsideEventListener=function(i){n._handleClickOutside(i,n._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},r.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},r.prototype._handleClickOutside=function(n,i){var a=n.target,c=this._options.ignoreClickOutsideClass,f=!1;if(c){var h=document.querySelectorAll(".".concat(c));h.forEach(function(g){if(g.contains(a)){f=!0;return}})}a!==i&&!i.contains(a)&&!this._triggerEl.contains(a)&&!f&&this.isVisible()&&this.hide()},r.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},r.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},r.prototype.isVisible=function(){return this._visible},r.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions(function(n){return ja(ja({},n),{modifiers:bb(bb([],n.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},r.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions(function(n){return ja(ja({},n),{modifiers:bb(bb([],n.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},r.prototype.updateOnShow=function(n){this._options.onShow=n},r.prototype.updateOnHide=function(n){this._options.onHide=n},r.prototype.updateOnToggle=function(n){this._options.onToggle=n},r}();function md(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(r){var n=r.getAttribute("data-dropdown-toggle"),i=document.getElementById(n);if(i){var a=r.getAttribute("data-dropdown-placement"),c=r.getAttribute("data-dropdown-offset-skidding"),f=r.getAttribute("data-dropdown-offset-distance"),h=r.getAttribute("data-dropdown-trigger"),g=r.getAttribute("data-dropdown-delay"),y=r.getAttribute("data-dropdown-ignore-click-outside-class");new V3(i,r,{placement:a||Ua.placement,triggerType:h||Ua.triggerType,offsetSkidding:c?parseInt(c):Ua.offsetSkidding,offsetDistance:f?parseInt(f):Ua.offsetDistance,delay:g?parseInt(g):Ua.delay,ignoreClickOutsideClass:y||Ua.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(n,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=V3,window.initDropdowns=md);var Cb=function(){return Cb=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},Cb.apply(this,arguments)},wb={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},wDe={id:null,override:!0},$3=function(){function r(n,i,a){n===void 0&&(n=null),i===void 0&&(i=wb),a===void 0&&(a=wDe),this._eventListenerInstances=[],this._instanceId=a.id?a.id:n.id,this._targetEl=n,this._options=Cb(Cb({},wb),i),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),Ze.addInstance("Modal",this,this._instanceId,a.override)}return r.prototype.init=function(){var n=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map(function(i){n._targetEl.classList.add(i)}),this._initialized=!0)},r.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},r.prototype.removeInstance=function(){Ze.removeInstance("Modal",this._instanceId)},r.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},r.prototype._createBackdrop=function(){var n;if(this._isHidden){var i=document.createElement("div");(n=i.classList).add.apply(n,this._options.backdropClasses.split(" ")),document.querySelector("body").append(i),this._backdropEl=i}},r.prototype._destroyBackdropEl=function(){!this._isHidden&&this._backdropEl&&(this._backdropEl.remove(),this._backdropEl=null)},r.prototype._setupModalCloseEventListeners=function(){var n=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(i){n._handleOutsideClick(i.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(i){i.key==="Escape"&&n.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},r.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},r.prototype._handleOutsideClick=function(n){(n===this._targetEl||n===this._backdropEl&&this.isVisible())&&this.hide()},r.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},r.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},r.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},r.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},r.prototype.isVisible=function(){return!this._isHidden},r.prototype.isHidden=function(){return this._isHidden},r.prototype.addEventListenerInstance=function(n,i,a){this._eventListenerInstances.push({element:n,type:i,handler:a})},r.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(n){n.element.removeEventListener(n.type,n.handler)}),this._eventListenerInstances=[]},r.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},r.prototype.updateOnShow=function(n){this._options.onShow=n},r.prototype.updateOnHide=function(n){this._options.onHide=n},r.prototype.updateOnToggle=function(n){this._options.onToggle=n},r}();function gd(){document.querySelectorAll("[data-modal-target]").forEach(function(r){var n=r.getAttribute("data-modal-target"),i=document.getElementById(n);if(i){var a=i.getAttribute("data-modal-placement"),c=i.getAttribute("data-modal-backdrop");new $3(i,{placement:a||wb.placement,backdrop:c||wb.backdrop})}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(r){var n=r.getAttribute("data-modal-toggle"),i=document.getElementById(n);if(i){var a=Ze.getInstance("Modal",n);if(a){var c=function(){a.toggle()};r.addEventListener("click",c),a.addEventListenerInstance(r,"click",c)}else console.error("Modal with id ".concat(n," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(r){var n=r.getAttribute("data-modal-show"),i=document.getElementById(n);if(i){var a=Ze.getInstance("Modal",n);if(a){var c=function(){a.show()};r.addEventListener("click",c),a.addEventListenerInstance(r,"click",c)}else console.error("Modal with id ".concat(n," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(r){var n=r.getAttribute("data-modal-hide"),i=document.getElementById(n);if(i){var a=Ze.getInstance("Modal",n);if(a){var c=function(){a.hide()};r.addEventListener("click",c),a.addEventListenerInstance(r,"click",c)}else console.error("Modal with id ".concat(n," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(n," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=$3,window.initModals=gd);var Eb=function(){return Eb=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},Eb.apply(this,arguments)},fc={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},EDe={id:null,override:!0},j3=function(){function r(n,i,a){n===void 0&&(n=null),i===void 0&&(i=fc),a===void 0&&(a=EDe),this._eventListenerInstances=[],this._instanceId=a.id?a.id:n.id,this._targetEl=n,this._options=Eb(Eb({},fc),i),this._visible=!1,this._initialized=!1,this.init(),Ze.addInstance("Drawer",this,this._instanceId,a.override)}return r.prototype.init=function(){var n=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map(function(i){n._targetEl.classList.add(i)}),this._handleEscapeKey=function(i){i.key==="Escape"&&n.isVisible()&&n.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},r.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},r.prototype.removeInstance=function(){Ze.removeInstance("Drawer",this._instanceId)},r.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},r.prototype.hide=function(){var n=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(i){n._targetEl.classList.remove(i)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(i){n._targetEl.classList.add(i)})):(this._getPlacementClasses(this._options.placement).active.map(function(i){n._targetEl.classList.remove(i)}),this._getPlacementClasses(this._options.placement).inactive.map(function(i){n._targetEl.classList.add(i)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},r.prototype.show=function(){var n=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(i){n._targetEl.classList.add(i)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(i){n._targetEl.classList.remove(i)})):(this._getPlacementClasses(this._options.placement).active.map(function(i){n._targetEl.classList.add(i)}),this._getPlacementClasses(this._options.placement).inactive.map(function(i){n._targetEl.classList.remove(i)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},r.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},r.prototype._createBackdrop=function(){var n,i=this;if(!this._visible){var a=document.createElement("div");a.setAttribute("drawer-backdrop",""),(n=a.classList).add.apply(n,this._options.backdropClasses.split(" ")),document.querySelector("body").append(a),a.addEventListener("click",function(){i.hide()})}},r.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]")!==null&&document.querySelector("[drawer-backdrop]").remove()},r.prototype._getPlacementClasses=function(n){switch(n){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},r.prototype.isHidden=function(){return!this._visible},r.prototype.isVisible=function(){return this._visible},r.prototype.addEventListenerInstance=function(n,i,a){this._eventListenerInstances.push({element:n,type:i,handler:a})},r.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(n){n.element.removeEventListener(n.type,n.handler)}),this._eventListenerInstances=[]},r.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},r.prototype.updateOnShow=function(n){this._options.onShow=n},r.prototype.updateOnHide=function(n){this._options.onHide=n},r.prototype.updateOnToggle=function(n){this._options.onToggle=n},r}();function vd(){document.querySelectorAll("[data-drawer-target]").forEach(function(r){var n=r.getAttribute("data-drawer-target"),i=document.getElementById(n);if(i){var a=r.getAttribute("data-drawer-placement"),c=r.getAttribute("data-drawer-body-scrolling"),f=r.getAttribute("data-drawer-backdrop"),h=r.getAttribute("data-drawer-edge"),g=r.getAttribute("data-drawer-edge-offset");new j3(i,{placement:a||fc.placement,bodyScrolling:c?c==="true":fc.bodyScrolling,backdrop:f?f==="true":fc.backdrop,edge:h?h==="true":fc.edge,edgeOffset:g||fc.edgeOffset})}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(r){var n=r.getAttribute("data-drawer-toggle"),i=document.getElementById(n);if(i){var a=Ze.getInstance("Drawer",n);if(a){var c=function(){a.toggle()};r.addEventListener("click",c),a.addEventListenerInstance(r,"click",c)}else console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(r){var n=r.getAttribute("data-drawer-dismiss")?r.getAttribute("data-drawer-dismiss"):r.getAttribute("data-drawer-hide"),i=document.getElementById(n);if(i){var a=Ze.getInstance("Drawer",n);if(a){var c=function(){a.hide()};r.addEventListener("click",c),a.addEventListenerInstance(r,"click",c)}else console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(r){var n=r.getAttribute("data-drawer-show"),i=document.getElementById(n);if(i){var a=Ze.getInstance("Drawer",n);if(a){var c=function(){a.show()};r.addEventListener("click",c),a.addEventListenerInstance(r,"click",c)}else console.error("Drawer with id ".concat(n," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(n," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=j3,window.initDrawers=vd);var Db=function(){return Db=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},Db.apply(this,arguments)},_b={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},DDe={id:null,override:!0},U3=function(){function r(n,i,a,c){n===void 0&&(n=null),i===void 0&&(i=[]),a===void 0&&(a=_b),c===void 0&&(c=DDe),this._instanceId=c.id?c.id:n.id,this._tabsEl=n,this._items=i,this._activeTab=a?this.getTab(a.defaultTabId):null,this._options=Db(Db({},_b),a),this._initialized=!1,this.init(),Ze.addInstance("Tabs",this,this._instanceId,c.override)}return r.prototype.init=function(){var n=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(i){i.triggerEl.addEventListener("click",function(a){a.preventDefault(),n.show(i.id)})}))},r.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},r.prototype.removeInstance=function(){this.destroy(),Ze.removeInstance("Tabs",this._instanceId)},r.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},r.prototype.getActiveTab=function(){return this._activeTab},r.prototype.setActiveTab=function(n){this._activeTab=n},r.prototype.getTab=function(n){return this._items.filter(function(i){return i.id===n})[0]},r.prototype.show=function(n,i){var a,c,f=this;i===void 0&&(i=!1);var h=this.getTab(n);h===this._activeTab&&!i||(this._items.map(function(g){var y,w;g!==h&&((y=g.triggerEl.classList).remove.apply(y,f._options.activeClasses.split(" ")),(w=g.triggerEl.classList).add.apply(w,f._options.inactiveClasses.split(" ")),g.targetEl.classList.add("hidden"),g.triggerEl.setAttribute("aria-selected","false"))}),(a=h.triggerEl.classList).add.apply(a,this._options.activeClasses.split(" ")),(c=h.triggerEl.classList).remove.apply(c,this._options.inactiveClasses.split(" ")),h.triggerEl.setAttribute("aria-selected","true"),h.targetEl.classList.remove("hidden"),this.setActiveTab(h),this._options.onShow(this,h))},r.prototype.updateOnShow=function(n){this._options.onShow=n},r}();function yd(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(r){var n=[],i=r.getAttribute("data-tabs-active-classes"),a=r.getAttribute("data-tabs-inactive-classes"),c=null;r.querySelectorAll('[role="tab"]').forEach(function(f){var h=f.getAttribute("aria-selected")==="true",g={id:f.getAttribute("data-tabs-target"),triggerEl:f,targetEl:document.querySelector(f.getAttribute("data-tabs-target"))};n.push(g),h&&(c=g.id)}),new U3(r,n,{defaultTabId:c,activeClasses:i||_b.activeClasses,inactiveClasses:a||_b.inactiveClasses})})}typeof window<"u"&&(window.Tabs=U3,window.initTabs=yd);var Ha=function(){return Ha=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},Ha.apply(this,arguments)},xb=function(r,n,i){if(i||arguments.length===2)for(var a=0,c=n.length,f;a<c;a++)(f||!(a in n))&&(f||(f=Array.prototype.slice.call(n,0,a)),f[a]=n[a]);return r.concat(f||Array.prototype.slice.call(n))},Sb={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},_De={id:null,override:!0},H3=function(){function r(n,i,a,c){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=Sb),c===void 0&&(c=_De),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=i,this._options=Ha(Ha({},Sb),a),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Ze.addInstance("Tooltip",this,this._instanceId,c.override)}return r.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},r.prototype.destroy=function(){var n=this;if(this._initialized){var i=this._getTriggerEvents();i.showEvents.forEach(function(a){n._triggerEl.removeEventListener(a,n._showHandler)}),i.hideEvents.forEach(function(a){n._triggerEl.removeEventListener(a,n._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},r.prototype.removeInstance=function(){Ze.removeInstance("Tooltip",this._instanceId)},r.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},r.prototype._setupEventListeners=function(){var n=this,i=this._getTriggerEvents();this._showHandler=function(){n.show()},this._hideHandler=function(){n.hide()},i.showEvents.forEach(function(a){n._triggerEl.addEventListener(a,n._showHandler)}),i.hideEvents.forEach(function(a){n._triggerEl.addEventListener(a,n._hideHandler)})},r.prototype._createPopperInstance=function(){return dc(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},r.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},r.prototype._setupKeydownListener=function(){var n=this;this._keydownEventListener=function(i){i.key==="Escape"&&n.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},r.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},r.prototype._setupClickOutsideListener=function(){var n=this;this._clickOutsideEventListener=function(i){n._handleClickOutside(i,n._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},r.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},r.prototype._handleClickOutside=function(n,i){var a=n.target;a!==i&&!i.contains(a)&&!this._triggerEl.contains(a)&&this.isVisible()&&this.hide()},r.prototype.isVisible=function(){return this._visible},r.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},r.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(n){return Ha(Ha({},n),{modifiers:xb(xb([],n.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},r.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(n){return Ha(Ha({},n),{modifiers:xb(xb([],n.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},r.prototype.updateOnShow=function(n){this._options.onShow=n},r.prototype.updateOnHide=function(n){this._options.onHide=n},r.prototype.updateOnToggle=function(n){this._options.onToggle=n},r}();function bd(){document.querySelectorAll("[data-tooltip-target]").forEach(function(r){var n=r.getAttribute("data-tooltip-target"),i=document.getElementById(n);if(i){var a=r.getAttribute("data-tooltip-trigger"),c=r.getAttribute("data-tooltip-placement");new H3(i,r,{placement:c||Sb.placement,triggerType:a||Sb.triggerType})}else console.error('The tooltip element with id "'.concat(n,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=H3,window.initTooltips=bd);var za=function(){return za=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},za.apply(this,arguments)},Ib=function(r,n,i){if(i||arguments.length===2)for(var a=0,c=n.length,f;a<c;a++)(f||!(a in n))&&(f||(f=Array.prototype.slice.call(n,0,a)),f[a]=n[a]);return r.concat(f||Array.prototype.slice.call(n))},fh={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},xDe={id:null,override:!0},z3=function(){function r(n,i,a,c){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=fh),c===void 0&&(c=xDe),this._instanceId=c.id?c.id:n.id,this._targetEl=n,this._triggerEl=i,this._options=za(za({},fh),a),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Ze.addInstance("Popover",this,c.id?c.id:this._targetEl.id,c.override)}return r.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},r.prototype.destroy=function(){var n=this;if(this._initialized){var i=this._getTriggerEvents();i.showEvents.forEach(function(a){n._triggerEl.removeEventListener(a,n._showHandler),n._targetEl.removeEventListener(a,n._showHandler)}),i.hideEvents.forEach(function(a){n._triggerEl.removeEventListener(a,n._hideHandler),n._targetEl.removeEventListener(a,n._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},r.prototype.removeInstance=function(){Ze.removeInstance("Popover",this._instanceId)},r.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},r.prototype._setupEventListeners=function(){var n=this,i=this._getTriggerEvents();this._showHandler=function(){n.show()},this._hideHandler=function(){setTimeout(function(){n._targetEl.matches(":hover")||n.hide()},100)},i.showEvents.forEach(function(a){n._triggerEl.addEventListener(a,n._showHandler),n._targetEl.addEventListener(a,n._showHandler)}),i.hideEvents.forEach(function(a){n._triggerEl.addEventListener(a,n._hideHandler),n._targetEl.addEventListener(a,n._hideHandler)})},r.prototype._createPopperInstance=function(){return dc(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},r.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},r.prototype._setupKeydownListener=function(){var n=this;this._keydownEventListener=function(i){i.key==="Escape"&&n.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},r.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},r.prototype._setupClickOutsideListener=function(){var n=this;this._clickOutsideEventListener=function(i){n._handleClickOutside(i,n._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},r.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},r.prototype._handleClickOutside=function(n,i){var a=n.target;a!==i&&!i.contains(a)&&!this._triggerEl.contains(a)&&this.isVisible()&&this.hide()},r.prototype.isVisible=function(){return this._visible},r.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},r.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(n){return za(za({},n),{modifiers:Ib(Ib([],n.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},r.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(n){return za(za({},n),{modifiers:Ib(Ib([],n.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},r.prototype.updateOnShow=function(n){this._options.onShow=n},r.prototype.updateOnHide=function(n){this._options.onHide=n},r.prototype.updateOnToggle=function(n){this._options.onToggle=n},r}();function Cd(){document.querySelectorAll("[data-popover-target]").forEach(function(r){var n=r.getAttribute("data-popover-target"),i=document.getElementById(n);if(i){var a=r.getAttribute("data-popover-trigger"),c=r.getAttribute("data-popover-placement"),f=r.getAttribute("data-popover-offset");new z3(i,r,{placement:c||fh.placement,offset:f?parseInt(f):fh.offset,triggerType:a||fh.triggerType})}else console.error('The popover element with id "'.concat(n,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=z3,window.initPopovers=Cd);var Ab=function(){return Ab=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},Ab.apply(this,arguments)},NI={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},SDe={id:null,override:!0},W3=function(){function r(n,i,a,c,f){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=null),c===void 0&&(c=NI),f===void 0&&(f=SDe),this._instanceId=f.id?f.id:a.id,this._parentEl=n,this._triggerEl=i,this._targetEl=a,this._options=Ab(Ab({},NI),c),this._visible=!1,this._initialized=!1,this.init(),Ze.addInstance("Dial",this,this._instanceId,f.override)}return r.prototype.init=function(){var n=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var i=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){n.show()},i.showEvents.forEach(function(a){n._triggerEl.addEventListener(a,n._showEventHandler),n._targetEl.addEventListener(a,n._showEventHandler)}),this._hideEventHandler=function(){n._parentEl.matches(":hover")||n.hide()},i.hideEvents.forEach(function(a){n._parentEl.addEventListener(a,n._hideEventHandler)}),this._initialized=!0}},r.prototype.destroy=function(){var n=this;if(this._initialized){var i=this._getTriggerEventTypes(this._options.triggerType);i.showEvents.forEach(function(a){n._triggerEl.removeEventListener(a,n._showEventHandler),n._targetEl.removeEventListener(a,n._showEventHandler)}),i.hideEvents.forEach(function(a){n._parentEl.removeEventListener(a,n._hideEventHandler)}),this._initialized=!1}},r.prototype.removeInstance=function(){Ze.removeInstance("Dial",this._instanceId)},r.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},r.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},r.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},r.prototype.toggle=function(){this._visible?this.hide():this.show()},r.prototype.isHidden=function(){return!this._visible},r.prototype.isVisible=function(){return this._visible},r.prototype._getTriggerEventTypes=function(n){switch(n){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},r.prototype.updateOnShow=function(n){this._options.onShow=n},r.prototype.updateOnHide=function(n){this._options.onHide=n},r.prototype.updateOnToggle=function(n){this._options.onToggle=n},r}();function wd(){document.querySelectorAll("[data-dial-init]").forEach(function(r){var n=r.querySelector("[data-dial-toggle]");if(n){var i=n.getAttribute("data-dial-toggle"),a=document.getElementById(i);if(a){var c=n.getAttribute("data-dial-trigger");new W3(r,n,a,{triggerType:c||NI.triggerType})}else console.error("Dial with id ".concat(i," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(r.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}typeof window<"u"&&(window.Dial=W3,window.initDials=wd);var kb=function(){return kb=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},kb.apply(this,arguments)},q3={minValue:null,maxValue:null,onIncrement:function(){},onDecrement:function(){}},IDe={id:null,override:!0},G3=function(){function r(n,i,a,c,f){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=null),c===void 0&&(c=q3),f===void 0&&(f=IDe),this._instanceId=f.id?f.id:n.id,this._targetEl=n,this._incrementEl=i,this._decrementEl=a,this._options=kb(kb({},q3),c),this._initialized=!1,this.init(),Ze.addInstance("InputCounter",this,this._instanceId,f.override)}return r.prototype.init=function(){var n=this;this._targetEl&&!this._initialized&&(this._inputHandler=function(i){{var a=i.target;/^\d*$/.test(a.value)||(a.value=a.value.replace(/[^\d]/g,"")),n._options.maxValue!==null&&parseInt(a.value)>n._options.maxValue&&(a.value=n._options.maxValue.toString()),n._options.minValue!==null&&parseInt(a.value)<n._options.minValue&&(a.value=n._options.minValue.toString())}},this._incrementClickHandler=function(){n.increment()},this._decrementClickHandler=function(){n.decrement()},this._targetEl.addEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.addEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.addEventListener("click",this._decrementClickHandler),this._initialized=!0)},r.prototype.destroy=function(){this._targetEl&&this._initialized&&(this._targetEl.removeEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.removeEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.removeEventListener("click",this._decrementClickHandler),this._initialized=!1)},r.prototype.removeInstance=function(){Ze.removeInstance("InputCounter",this._instanceId)},r.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},r.prototype.getCurrentValue=function(){return parseInt(this._targetEl.value)||0},r.prototype.increment=function(){this._options.maxValue!==null&&this.getCurrentValue()>=this._options.maxValue||(this._targetEl.value=(this.getCurrentValue()+1).toString(),this._options.onIncrement(this))},r.prototype.decrement=function(){this._options.minValue!==null&&this.getCurrentValue()<=this._options.minValue||(this._targetEl.value=(this.getCurrentValue()-1).toString(),this._options.onDecrement(this))},r.prototype.updateOnIncrement=function(n){this._options.onIncrement=n},r.prototype.updateOnDecrement=function(n){this._options.onDecrement=n},r}();function Ed(){document.querySelectorAll("[data-input-counter]").forEach(function(r){var n=r.id,i=document.querySelector('[data-input-counter-increment="'+n+'"]'),a=document.querySelector('[data-input-counter-decrement="'+n+'"]'),c=r.getAttribute("data-input-counter-min"),f=r.getAttribute("data-input-counter-max");r?Ze.instanceExists("InputCounter",r.getAttribute("id"))||new G3(r,i||null,a||null,{minValue:c?parseInt(c):null,maxValue:f?parseInt(f):null}):console.error('The target element with id "'.concat(n,'" does not exist. Please check the data-input-counter attribute.'))})}typeof window<"u"&&(window.InputCounter=G3,window.initInputCounters=Ed);var Tb=function(){return Tb=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},Tb.apply(this,arguments)},Mb={htmlEntities:!1,contentType:"input",onCopy:function(){}},ADe={id:null,override:!0},K3=function(){function r(n,i,a,c){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=Mb),c===void 0&&(c=ADe),this._instanceId=c.id?c.id:i.id,this._triggerEl=n,this._targetEl=i,this._options=Tb(Tb({},Mb),a),this._initialized=!1,this.init(),Ze.addInstance("CopyClipboard",this,this._instanceId,c.override)}return r.prototype.init=function(){var n=this;this._targetEl&&this._triggerEl&&!this._initialized&&(this._triggerElClickHandler=function(){n.copy()},this._triggerEl&&this._triggerEl.addEventListener("click",this._triggerElClickHandler),this._initialized=!0)},r.prototype.destroy=function(){this._triggerEl&&this._targetEl&&this._initialized&&(this._triggerEl&&this._triggerEl.removeEventListener("click",this._triggerElClickHandler),this._initialized=!1)},r.prototype.removeInstance=function(){Ze.removeInstance("CopyClipboard",this._instanceId)},r.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},r.prototype.getTargetValue=function(){if(this._options.contentType==="input")return this._targetEl.value;if(this._options.contentType==="innerHTML")return this._targetEl.innerHTML;if(this._options.contentType==="textContent")return this._targetEl.textContent.replace(/\s+/g," ").trim()},r.prototype.copy=function(){var n=this.getTargetValue();this._options.htmlEntities&&(n=this.decodeHTML(n));var i=document.createElement("textarea");return i.value=n,document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i),this._options.onCopy(this),n},r.prototype.decodeHTML=function(n){var i=document.createElement("textarea");return i.innerHTML=n,i.textContent},r.prototype.updateOnCopyCallback=function(n){this._options.onCopy=n},r}();function Dd(){document.querySelectorAll("[data-copy-to-clipboard-target]").forEach(function(r){var n=r.getAttribute("data-copy-to-clipboard-target"),i=document.getElementById(n),a=r.getAttribute("data-copy-to-clipboard-content-type"),c=r.getAttribute("data-copy-to-clipboard-html-entities");i?Ze.instanceExists("CopyClipboard",i.getAttribute("id"))||new K3(r,i,{htmlEntities:c&&c==="true"?!0:Mb.htmlEntities,contentType:a||Mb.contentType}):console.error('The target element with id "'.concat(n,'" does not exist. Please check the data-copy-to-clipboard-target attribute.'))})}typeof window<"u"&&(window.CopyClipboard=K3,window.initClipboards=Dd);function VI(r,n){(n==null||n>r.length)&&(n=r.length);for(var i=0,a=Array(n);i<n;i++)a[i]=r[i];return a}function kDe(r){if(Array.isArray(r))return r}function TDe(r){if(Array.isArray(r))return VI(r)}function MDe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function HI(r,n,i){return n=qa(n),FDe(r,pz()?Reflect.construct(n,i||[],qa(r).constructor):n.apply(r,i))}function mc(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function Y3(r,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,VDe(a.key),a)}}function gc(r,n,i){return n&&Y3(r.prototype,n),i&&Y3(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r}function vh(){return vh=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,n,i){var a=LDe(r,n);if(a){var c=Object.getOwnPropertyDescriptor(a,n);return c.get?c.get.call(arguments.length<3?r:i):c.value}},vh.apply(null,arguments)}function qa(r){return qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qa(r)}function zI(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&$I(r,n)}function pz(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pz=function(){return!!r})()}function NDe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function RDe(r,n){var i=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(i!=null){var a,c,f,h,g=[],y=!0,w=!1;try{if(f=(i=i.call(r)).next,n===0){if(Object(i)!==i)return;y=!1}else for(;!(y=(a=f.call(i)).done)&&(g.push(a.value),g.length!==n);y=!0);}catch(_){w=!0,c=_}finally{try{if(!y&&i.return!=null&&(h=i.return(),Object(h)!==h))return}finally{if(w)throw c}}return g}}function ODe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FDe(r,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MDe(r)}function $I(r,n){return $I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,a){return i.__proto__=a,i},$I(r,n)}function Io(r,n){return kDe(r)||RDe(r,n)||hz(r,n)||ODe()}function LDe(r,n){for(;!{}.hasOwnProperty.call(r,n)&&(r=qa(r))!==null;);return r}function Ch(r){return TDe(r)||NDe(r)||hz(r)||PDe()}function BDe(r,n){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var a=i.call(r,n||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function VDe(r){var n=BDe(r,"string");return typeof n=="symbol"?n:n+""}function Ob(r){"@babel/helpers - typeof";return Ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ob(r)}function hz(r,n){if(r){if(typeof r=="string")return VI(r,n);var i={}.toString.call(r).slice(8,-1);return i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set"?Array.from(r):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?VI(r,n):void 0}}function Zi(r,n){return Object.prototype.hasOwnProperty.call(r,n)}function WI(r){return r[r.length-1]}function hc(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return i.forEach(function(c){r.includes(c)||r.push(c)}),r}function RI(r,n){return r?r.split(n):[]}function qI(r,n,i){var a=n===void 0||r>=n,c=i===void 0||r<=i;return a&&c}function mz(r,n,i){return r<n?n:r>i?i:r}function Id(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",f=Object.keys(i).reduce(function(g,y){var w=i[y];return typeof w=="function"&&(w=w(a)),"".concat(g," ").concat(y,'="').concat(w,'"')},r);c+="<".concat(f,"></").concat(r,">");var h=a+1;return h<n?Id(r,n,i,h,c):c}function GI(r){return r.replace(/>\s+/g,">").replace(/\s+</,"<")}function jI(r){return new Date(r).setHours(0,0,0,0)}function vc(){return new Date().setHours(0,0,0,0)}function Wa(){switch(arguments.length){case 0:return vc();case 1:return jI(arguments.length<=0?void 0:arguments[0])}var r=new Date(0);return r.setFullYear.apply(r,arguments),r.setHours(0,0,0,0)}function _d(r,n){var i=new Date(r);return i.setDate(i.getDate()+n)}function $De(r,n){return _d(r,n*7)}function Pb(r,n){var i=new Date(r),a=i.getMonth()+n,c=a%12;c<0&&(c+=12);var f=i.setMonth(a);return i.getMonth()!==c?i.setDate(0):f}function xd(r,n){var i=new Date(r),a=i.getMonth(),c=i.setFullYear(i.getFullYear()+n);return a===1&&i.getMonth()===2?i.setDate(0):c}function Z3(r,n){return(r-n+7)%7}function Fb(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=new Date(r).getDay();return _d(r,Z3(n,i)-Z3(a,i))}function jDe(r){var n=Fb(r,4,1),i=Fb(new Date(n).setMonth(0,4),4,1);return Math.round((n-i)/6048e5)+1}function pc(r,n){var i=new Date(r).getFullYear();return Math.floor(i/n)*n}var UI=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,UDe=/[\s!-/:-@[-`{-~]+/,OI={},Q3={y:function(n,i){return new Date(n).setFullYear(parseInt(i,10))},m:function(n,i,a){var c=new Date(n),f=parseInt(i,10)-1;if(isNaN(f)){if(!i)return NaN;var h=i.toLowerCase(),g=function(w){return w.toLowerCase().startsWith(h)};if(f=a.monthsShort.findIndex(g),f<0&&(f=a.months.findIndex(g)),f<0)return NaN}return c.setMonth(f),c.getMonth()!==gz(f)?c.setDate(0):c.getTime()},d:function(n,i){return new Date(n).setDate(parseInt(i,10))}},HDe={d:function(n){return n.getDate()},dd:function(n){return Nb(n.getDate(),2)},D:function(n,i){return i.daysShort[n.getDay()]},DD:function(n,i){return i.days[n.getDay()]},m:function(n){return n.getMonth()+1},mm:function(n){return Nb(n.getMonth()+1,2)},M:function(n,i){return i.monthsShort[n.getMonth()]},MM:function(n,i){return i.months[n.getMonth()]},y:function(n){return n.getFullYear()},yy:function(n){return Nb(n.getFullYear(),2).slice(-2)},yyyy:function(n){return Nb(n.getFullYear(),4)}};function gz(r){return r>-1?r%12:gz(r+12)}function Nb(r,n){return r.toString().padStart(n,"0")}function vz(r){if(typeof r!="string")throw new Error("Invalid date format.");if(r in OI)return OI[r];var n=r.split(UI),i=r.match(new RegExp(UI,"g"));if(n.length===0||!i)throw new Error("Invalid date format.");var a=i.map(function(f){return HDe[f]}),c=Object.keys(Q3).reduce(function(f,h){var g=i.find(function(y){return y[0]!=="D"&&y[0].toLowerCase()===h});return g&&f.push(h),f},[]);return OI[r]={parser:function(h,g){var y=h.split(UDe).reduce(function(w,_,k){if(_.length>0&&i[k]){var V=i[k][0];V==="M"?w.m=_:V!=="D"&&(w[V]=_)}return w},{});return c.reduce(function(w,_){var k=Q3[_](w,y[_],g);return isNaN(k)?w:k},vc())},formatter:function(h,g){var y=a.reduce(function(w,_,k){return w+="".concat(n[k]).concat(_(h,g))},"");return y+=WI(n)}}}function yh(r,n,i){if(r instanceof Date||typeof r=="number"){var a=jI(r);return isNaN(a)?void 0:a}if(r){if(r==="today")return vc();if(n&&n.toValue){var c=n.toValue(r,n,i);return isNaN(c)?void 0:jI(c)}return vz(n).parser(r,i)}}function bh(r,n,i){if(isNaN(r)||!r&&r!==0)return"";var a=typeof r=="number"?new Date(r):r;return n.toDisplay?n.toDisplay(a,n,i):vz(n).formatter(a,i)}var Lb=new WeakMap,yz=EventTarget.prototype,X3=yz.addEventListener,J3=yz.removeEventListener;function KI(r,n){var i=Lb.get(r);i||(i=[],Lb.set(r,i)),n.forEach(function(a){X3.call.apply(X3,Ch(a)),i.push(a)})}function bz(r){var n=Lb.get(r);n&&(n.forEach(function(i){J3.call.apply(J3,Ch(i))}),Lb.delete(r))}Event.prototype.composedPath||(ez=function r(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];i.push(n);var a;return n.parentNode?a=n.parentNode:n.host?a=n.host:n.defaultView&&(a=n.defaultView),a?r(a,i):i},Event.prototype.composedPath=function(){return ez(this.target)});var ez;function Cz(r,n,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=r[a];return n(c)?c:c===i||!c.parentElement?void 0:Cz(r,n,i,a+1)}function wz(r,n){var i=typeof n=="function"?n:function(a){return a.matches(n)};return Cz(r.composedPath(),i,r.currentTarget)}var ph={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},wh={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5H1m0 0 4 4M1 5l4-4"/></svg>',showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},zDe=document.createRange();function Qi(r){return zDe.createContextualFragment(r)}function mh(r){r.style.display!=="none"&&(r.style.display&&(r.dataset.styleDisplay=r.style.display),r.style.display="none")}function gh(r){r.style.display==="none"&&(r.dataset.styleDisplay?(r.style.display=r.dataset.styleDisplay,delete r.dataset.styleDisplay):r.style.display="")}function Bb(r){r.firstChild&&(r.removeChild(r.firstChild),Bb(r))}function WDe(r,n){Bb(r),n instanceof DocumentFragment?r.appendChild(n):typeof n=="string"?r.appendChild(Qi(n)):typeof n.forEach=="function"&&n.forEach(function(i){r.appendChild(i)})}var PI=wh.language,qDe=wh.format,GDe=wh.weekStart;function tz(r,n){return r.length<6&&n>=0&&n<7?hc(r,n):r}function nz(r){return(r+6)%7}function rz(r,n,i,a){var c=yh(r,n,i);return c!==void 0?c:a}function FI(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3,a=parseInt(r,10);return a>=0&&a<=i?a:n}function LI(r,n){var i=Object.assign({},r),a={},c=n.constructor.locales,f=n.config||{},h=f.format,g=f.language,y=f.locale,w=f.maxDate,_=f.maxView,k=f.minDate,V=f.pickLevel,$=f.startView,oe=f.weekStart;if(i.language){var ue;if(i.language!==g&&(c[i.language]?ue=i.language:(ue=i.language.split("-")[0],c[ue]===void 0&&(ue=!1))),delete i.language,ue){g=a.language=ue;var Ee=y||c[PI];y=Object.assign({format:qDe,weekStart:GDe},c[PI]),g!==PI&&Object.assign(y,c[g]),a.locale=y,h===Ee.format&&(h=a.format=y.format),oe===Ee.weekStart&&(oe=a.weekStart=y.weekStart,a.weekEnd=nz(y.weekStart))}}if(i.format){var _e=typeof i.format.toDisplay=="function",te=typeof i.format.toValue=="function",Fe=UI.test(i.format);(_e&&te||Fe)&&(h=a.format=i.format),delete i.format}var Le=k,Ie=w;if(i.minDate!==void 0&&(Le=i.minDate===null?Wa(0,0,1):rz(i.minDate,h,y,Le),delete i.minDate),i.maxDate!==void 0&&(Ie=i.maxDate===null?void 0:rz(i.maxDate,h,y,Ie),delete i.maxDate),Ie<Le?(k=a.minDate=Ie,w=a.maxDate=Le):(k!==Le&&(k=a.minDate=Le),w!==Ie&&(w=a.maxDate=Ie)),i.datesDisabled&&(a.datesDisabled=i.datesDisabled.reduce(function(Mt,Yn){var re=yh(Yn,h,y);return re!==void 0?hc(Mt,re):Mt},[]),delete i.datesDisabled),i.defaultViewDate!==void 0){var ke=yh(i.defaultViewDate,h,y);ke!==void 0&&(a.defaultViewDate=ke),delete i.defaultViewDate}if(i.weekStart!==void 0){var et=Number(i.weekStart)%7;isNaN(et)||(oe=a.weekStart=et,a.weekEnd=nz(et)),delete i.weekStart}if(i.daysOfWeekDisabled&&(a.daysOfWeekDisabled=i.daysOfWeekDisabled.reduce(tz,[]),delete i.daysOfWeekDisabled),i.daysOfWeekHighlighted&&(a.daysOfWeekHighlighted=i.daysOfWeekHighlighted.reduce(tz,[]),delete i.daysOfWeekHighlighted),i.maxNumberOfDates!==void 0){var Ke=parseInt(i.maxNumberOfDates,10);Ke>=0&&(a.maxNumberOfDates=Ke,a.multidate=Ke!==1),delete i.maxNumberOfDates}i.dateDelimiter&&(a.dateDelimiter=String(i.dateDelimiter),delete i.dateDelimiter);var $e=V;i.pickLevel!==void 0&&($e=FI(i.pickLevel,2),delete i.pickLevel),$e!==V&&(V=a.pickLevel=$e);var G=_;i.maxView!==void 0&&(G=FI(i.maxView,_),delete i.maxView),G=V>G?V:G,G!==_&&(_=a.maxView=G);var Oe=$;if(i.startView!==void 0&&(Oe=FI(i.startView,Oe),delete i.startView),Oe<V?Oe=V:Oe>_&&(Oe=_),Oe!==$&&(a.startView=Oe),i.prevArrow){var Zt=Qi(i.prevArrow);Zt.childNodes.length>0&&(a.prevArrow=Zt.childNodes),delete i.prevArrow}if(i.nextArrow){var on=Qi(i.nextArrow);on.childNodes.length>0&&(a.nextArrow=on.childNodes),delete i.nextArrow}if(i.disableTouchKeyboard!==void 0&&(a.disableTouchKeyboard="ontouchstart"in document&&!!i.disableTouchKeyboard,delete i.disableTouchKeyboard),i.orientation){var Ne=i.orientation.toLowerCase().split(/\s+/g);a.orientation={x:Ne.find(function(Mt){return Mt==="left"||Mt==="right"})||"auto",y:Ne.find(function(Mt){return Mt==="top"||Mt==="bottom"})||"auto"},delete i.orientation}if(i.todayBtnMode!==void 0){switch(i.todayBtnMode){case 0:case 1:a.todayBtnMode=i.todayBtnMode}delete i.todayBtnMode}return Object.keys(i).forEach(function(Mt){i[Mt]!==void 0&&Zi(wh,Mt)&&(a[Mt]=i[Mt])}),a}var KDe=GI(`<div class="datepicker hidden">
  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">
    <div class="datepicker-header">
      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>
      <div class="datepicker-controls flex justify-between mb-2">
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>
        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>
      </div>
    </div>
    <div class="datepicker-main p-1"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2">
        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 !bg-primary-700 dark:bg-blue-600 dark:!bg-primary-600 hover:bg-blue-800 hover:!bg-primary-800 dark:hover:bg-blue-700 dark:hover:!bg-primary-700 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
      </div>
    </div>
  </div>
</div>`),YDe=GI(`<div class="days">
  <div class="days-of-week grid grid-cols-7 mb-1">`.concat(Id("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
  <div class="datepicker-grid w-64 grid grid-cols-7">`).concat(Id("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}),`</div>
</div>`)),ZDe=GI(`<div class="calendar-weeks">
  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>
  <div class="weeks">`.concat(Id("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
</div>`)),YI=function(){function r(n,i){mc(this,r),Object.assign(this,i,{picker:n,element:Qi('<div class="datepicker-view flex"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}return gc(r,[{key:"init",value:function(i){i.pickLevel!==void 0&&(this.isMinView=this.id===i.pickLevel),this.setOptions(i),this.updateFocus(),this.updateSelection()}},{key:"performBeforeHook",value:function(i,a,c){var f=this.beforeShow(new Date(c));switch(Ob(f)){case"boolean":f={enabled:f};break;case"string":f={classes:f}}if(f){if(f.enabled===!1&&(i.classList.add("disabled"),hc(this.disabled,a)),f.classes){var h,g=f.classes.split(/\s+/);(h=i.classList).add.apply(h,Ch(g)),g.includes("disabled")&&hc(this.disabled,a)}f.content&&WDe(i,f.content)}}}])}(),QDe=function(r){function n(i){return mc(this,n),HI(this,n,[i,{id:0,name:"days",cellClass:"day"}])}return zI(n,r),gc(n,[{key:"init",value:function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(c){var f=Qi(YDe).firstChild;this.dow=f.firstChild,this.grid=f.lastChild,this.element.appendChild(f)}vh(qa(n.prototype),"init",this).call(this,a)}},{key:"setOptions",value:function(a){var c=this,f;if(Zi(a,"minDate")&&(this.minDate=a.minDate),Zi(a,"maxDate")&&(this.maxDate=a.maxDate),a.datesDisabled&&(this.datesDisabled=a.datesDisabled),a.daysOfWeekDisabled&&(this.daysOfWeekDisabled=a.daysOfWeekDisabled,f=!0),a.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=a.daysOfWeekHighlighted),a.todayHighlight!==void 0&&(this.todayHighlight=a.todayHighlight),a.weekStart!==void 0&&(this.weekStart=a.weekStart,this.weekEnd=a.weekEnd,f=!0),a.locale){var h=this.locale=a.locale;this.dayNames=h.daysMin,this.switchLabelFormat=h.titleFormat,f=!0}if(a.beforeShowDay!==void 0&&(this.beforeShow=typeof a.beforeShowDay=="function"?a.beforeShowDay:void 0),a.calendarWeeks!==void 0)if(a.calendarWeeks&&!this.calendarWeeks){var g=Qi(ZDe).firstChild;this.calendarWeeks={element:g,dow:g.firstChild,weeks:g.lastChild},this.element.insertBefore(g,this.element.firstChild)}else this.calendarWeeks&&!a.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);a.showDaysOfWeek!==void 0&&(a.showDaysOfWeek?(gh(this.dow),this.calendarWeeks&&gh(this.calendarWeeks.dow)):(mh(this.dow),this.calendarWeeks&&mh(this.calendarWeeks.dow))),f&&Array.from(this.dow.children).forEach(function(y,w){var _=(c.weekStart+w)%7;y.textContent=c.dayNames[_],y.className=c.daysOfWeekDisabled.includes(_)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400 cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"})}},{key:"updateFocus",value:function(){var a=new Date(this.picker.viewDate),c=a.getFullYear(),f=a.getMonth(),h=Wa(c,f,1),g=Fb(h,this.weekStart,this.weekStart);this.first=h,this.last=Wa(c,f+1,0),this.start=g,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function(){var a=this.picker.datepicker,c=a.dates,f=a.rangepicker;this.selected=c,f&&(this.range=f.dates)}},{key:"render",value:function(){var a=this;this.today=this.todayHighlight?vc():void 0,this.disabled=Ch(this.datesDisabled);var c=bh(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(c),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){var f=Fb(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach(function(h,g){h.textContent=jDe($De(f,g))})}Array.from(this.grid.children).forEach(function(h,g){var y=h.classList,w=_d(a.start,g),_=new Date(w),k=_.getDay();if(h.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(a.cellClass),h.dataset.date=w,h.textContent=_.getDate(),w<a.first?y.add("prev","text-gray-500","dark:text-white"):w>a.last&&y.add("next","text-gray-500","dark:text-white"),a.today===w&&y.add("today","bg-gray-100","dark:bg-gray-600"),(w<a.minDate||w>a.maxDate||a.disabled.includes(w))&&(y.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),y.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer")),a.daysOfWeekDisabled.includes(k)&&(y.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),y.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer"),hc(a.disabled,w)),a.daysOfWeekHighlighted.includes(k)&&y.add("highlighted"),a.range){var V=Io(a.range,2),$=V[0],oe=V[1];w>$&&w<oe&&(y.add("range","bg-gray-200","dark:bg-gray-600"),y.remove("rounded-lg","rounded-l-lg","rounded-r-lg")),w===$&&(y.add("range-start","bg-gray-100","dark:bg-gray-600","rounded-l-lg"),y.remove("rounded-lg","rounded-r-lg")),w===oe&&(y.add("range-end","bg-gray-100","dark:bg-gray-600","rounded-r-lg"),y.remove("rounded-lg","rounded-l-lg"))}a.selected.includes(w)&&(y.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),y.remove("text-gray-900","text-gray-500","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","dark:bg-gray-600","bg-gray-100","bg-gray-200")),w===a.focused&&y.add("focused"),a.beforeShow&&a.performBeforeHook(h,w,w)})}},{key:"refresh",value:function(){var a=this,c=this.range||[],f=Io(c,2),h=f[0],g=f[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(y){y.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white","focused"),y.classList.add("text-gray-900","rounded-lg","dark:text-white")}),Array.from(this.grid.children).forEach(function(y){var w=Number(y.dataset.date),_=y.classList;_.remove("bg-gray-200","dark:bg-gray-600","rounded-l-lg","rounded-r-lg"),w>h&&w<g&&(_.add("range","bg-gray-200","dark:bg-gray-600"),_.remove("rounded-lg")),w===h&&(_.add("range-start","bg-gray-200","dark:bg-gray-600","rounded-l-lg"),_.remove("rounded-lg")),w===g&&(_.add("range-end","bg-gray-200","dark:bg-gray-600","rounded-r-lg"),_.remove("rounded-lg")),a.selected.includes(w)&&(_.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),_.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","bg-gray-100","bg-gray-200","dark:bg-gray-600")),w===a.focused&&_.add("focused")})}},{key:"refreshFocus",value:function(){var a=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach(function(c){c.classList.remove("focused")}),this.grid.children[a].classList.add("focused")}}])}(YI);function oz(r,n){if(!(!r||!r[0]||!r[1])){var i=Io(r,2),a=Io(i[0],2),c=a[0],f=a[1],h=Io(i[1],2),g=h[0],y=h[1];if(!(c>n||g<n))return[c===n?f:-1,g===n?y:12]}}var XDe=function(r){function n(i){return mc(this,n),HI(this,n,[i,{id:1,name:"months",cellClass:"month"}])}return zI(n,r),gc(n,[{key:"init",value:function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;c&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(Qi(Id("span",12,{"data-month":function(h){return h}})))),vh(qa(n.prototype),"init",this).call(this,a)}},{key:"setOptions",value:function(a){if(a.locale&&(this.monthNames=a.locale.monthsShort),Zi(a,"minDate"))if(a.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{var c=new Date(a.minDate);this.minYear=c.getFullYear(),this.minMonth=c.getMonth(),this.minDate=c.setDate(1)}if(Zi(a,"maxDate"))if(a.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var f=new Date(a.maxDate);this.maxYear=f.getFullYear(),this.maxMonth=f.getMonth(),this.maxDate=Wa(this.maxYear,this.maxMonth+1,0)}a.beforeShowMonth!==void 0&&(this.beforeShow=typeof a.beforeShowMonth=="function"?a.beforeShowMonth:void 0)}},{key:"updateFocus",value:function(){var a=new Date(this.picker.viewDate);this.year=a.getFullYear(),this.focused=a.getMonth()}},{key:"updateSelection",value:function(){var a=this.picker.datepicker,c=a.dates,f=a.rangepicker;this.selected=c.reduce(function(h,g){var y=new Date(g),w=y.getFullYear(),_=y.getMonth();return h[w]===void 0?h[w]=[_]:hc(h[w],_),h},{}),f&&f.dates&&(this.range=f.dates.map(function(h){var g=new Date(h);return isNaN(g)?void 0:[g.getFullYear(),g.getMonth()]}))}},{key:"render",value:function(){var a=this;this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);var c=this.selected[this.year]||[],f=this.year<this.minYear||this.year>this.maxYear,h=this.year===this.minYear,g=this.year===this.maxYear,y=oz(this.range,this.year);Array.from(this.grid.children).forEach(function(w,_){var k=w.classList,V=Wa(a.year,_,1);if(w.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(a.cellClass),a.isMinView&&(w.dataset.date=V),w.textContent=a.monthNames[_],(f||h&&_<a.minMonth||g&&_>a.maxMonth)&&k.add("disabled"),y){var $=Io(y,2),oe=$[0],ue=$[1];_>oe&&_<ue&&k.add("range"),_===oe&&k.add("range-start"),_===ue&&k.add("range-end")}c.includes(_)&&(k.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),k.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),_===a.focused&&k.add("focused"),a.beforeShow&&a.performBeforeHook(w,_,V)})}},{key:"refresh",value:function(){var a=this,c=this.selected[this.year]||[],f=oz(this.range,this.year)||[],h=Io(f,2),g=h[0],y=h[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(w){w.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","dark:bg-blue-600","dark:!bg-primary-700","dark:text-white","text-white","focused"),w.classList.add("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")}),Array.from(this.grid.children).forEach(function(w,_){var k=w.classList;_>g&&_<y&&k.add("range"),_===g&&k.add("range-start"),_===y&&k.add("range-end"),c.includes(_)&&(k.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),k.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),_===a.focused&&k.add("focused")})}},{key:"refreshFocus",value:function(){this.grid.querySelectorAll(".focused").forEach(function(a){a.classList.remove("focused")}),this.grid.children[this.focused].classList.add("focused")}}])}(YI);function JDe(r){return Ch(r).reduce(function(n,i,a){return n+=a?i:i.toUpperCase()},"")}var sz=function(r){function n(i,a){return mc(this,n),HI(this,n,[i,a])}return zI(n,r),gc(n,[{key:"init",value:function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;c&&(this.navStep=this.step*10,this.beforeShowOption="beforeShow".concat(JDe(this.cellClass)),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(Qi(Id("span",12)))),vh(qa(n.prototype),"init",this).call(this,a)}},{key:"setOptions",value:function(a){if(Zi(a,"minDate")&&(a.minDate===void 0?this.minYear=this.minDate=void 0:(this.minYear=pc(a.minDate,this.step),this.minDate=Wa(this.minYear,0,1))),Zi(a,"maxDate")&&(a.maxDate===void 0?this.maxYear=this.maxDate=void 0:(this.maxYear=pc(a.maxDate,this.step),this.maxDate=Wa(this.maxYear,11,31))),a[this.beforeShowOption]!==void 0){var c=a[this.beforeShowOption];this.beforeShow=typeof c=="function"?c:void 0}}},{key:"updateFocus",value:function(){var a=new Date(this.picker.viewDate),c=pc(a,this.navStep),f=c+9*this.step;this.first=c,this.last=f,this.start=c-this.step,this.focused=pc(a,this.step)}},{key:"updateSelection",value:function(){var a=this,c=this.picker.datepicker,f=c.dates,h=c.rangepicker;this.selected=f.reduce(function(g,y){return hc(g,pc(y,a.step))},[]),h&&h.dates&&(this.range=h.dates.map(function(g){if(g!==void 0)return pc(g,a.step)}))}},{key:"render",value:function(){var a=this;this.disabled=[],this.picker.setViewSwitchLabel("".concat(this.first,"-").concat(this.last)),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach(function(c,f){var h=c.classList,g=a.start+f*a.step,y=Wa(g,0,1);if(c.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(a.cellClass),a.isMinView&&(c.dataset.date=y),c.textContent=c.dataset.year=g,f===0?h.add("prev"):f===11&&h.add("next"),(g<a.minYear||g>a.maxYear)&&h.add("disabled"),a.range){var w=Io(a.range,2),_=w[0],k=w[1];g>_&&g<k&&h.add("range"),g===_&&h.add("range-start"),g===k&&h.add("range-end")}a.selected.includes(g)&&(h.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),h.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),g===a.focused&&h.add("focused"),a.beforeShow&&a.performBeforeHook(c,g,y)})}},{key:"refresh",value:function(){var a=this,c=this.range||[],f=Io(c,2),h=f[0],g=f[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(y){y.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark!bg-primary-600","dark:text-white","focused")}),Array.from(this.grid.children).forEach(function(y){var w=Number(y.textContent),_=y.classList;w>h&&w<g&&_.add("range"),w===h&&_.add("range-start"),w===g&&_.add("range-end"),a.selected.includes(w)&&(_.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),_.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),w===a.focused&&_.add("focused")})}},{key:"refreshFocus",value:function(){var a=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach(function(c){c.classList.remove("focused")}),this.grid.children[a].classList.add("focused")}}])}(YI);function Sd(r,n){var i={date:r.getDate(),viewDate:new Date(r.picker.viewDate),viewId:r.picker.currentView.id,datepicker:r};r.element.dispatchEvent(new CustomEvent(n,{detail:i}))}function Vb(r,n){var i=r.config,a=i.minDate,c=i.maxDate,f=r.picker,h=f.currentView,g=f.viewDate,y;switch(h.id){case 0:y=Pb(g,n);break;case 1:y=xd(g,n);break;default:y=xd(g,n*h.navStep)}y=mz(y,a,c),r.picker.changeFocus(y).render()}function Ez(r){var n=r.picker.currentView.id;n!==r.config.maxView&&r.picker.changeView(n+1).render()}function Dz(r){r.config.updateOnBlur?r.update({autohide:!0}):(r.refresh("input"),r.hide())}function iz(r,n){var i=r.picker,a=new Date(i.viewDate),c=i.currentView.id,f=c===1?Pb(a,n-a.getMonth()):xd(a,n-a.getFullYear());i.changeFocus(f).changeView(c-1).render()}function e_e(r){var n=r.picker,i=vc();if(r.config.todayBtnMode===1){if(r.config.autohide){r.setDate(i);return}r.setDate(i,{render:!1}),n.update()}n.viewDate!==i&&n.changeFocus(i),n.changeView(0).render()}function t_e(r){r.setDate({clear:!0})}function n_e(r){Ez(r)}function r_e(r){Vb(r,-1)}function o_e(r){Vb(r,1)}function s_e(r,n){var i=wz(n,".datepicker-cell");if(!(!i||i.classList.contains("disabled"))){var a=r.picker.currentView,c=a.id,f=a.isMinView;f?r.setDate(Number(i.dataset.date)):c===1?iz(r,Number(i.dataset.month)):iz(r,Number(i.dataset.year))}}function i_e(r){!r.inline&&!r.config.disableTouchKeyboard&&r.inputField.focus()}function az(r,n){if(n.title!==void 0&&(n.title?(r.controls.title.textContent=n.title,gh(r.controls.title)):(r.controls.title.textContent="",mh(r.controls.title))),n.prevArrow){var i=r.controls.prevBtn;Bb(i),n.prevArrow.forEach(function(g){i.appendChild(g.cloneNode(!0))})}if(n.nextArrow){var a=r.controls.nextBtn;Bb(a),n.nextArrow.forEach(function(g){a.appendChild(g.cloneNode(!0))})}if(n.locale&&(r.controls.todayBtn.textContent=n.locale.today,r.controls.clearBtn.textContent=n.locale.clear),n.todayBtn!==void 0&&(n.todayBtn?gh(r.controls.todayBtn):mh(r.controls.todayBtn)),Zi(n,"minDate")||Zi(n,"maxDate")){var c=r.datepicker.config,f=c.minDate,h=c.maxDate;r.controls.todayBtn.disabled=!qI(vc(),f,h)}n.clearBtn!==void 0&&(n.clearBtn?gh(r.controls.clearBtn):mh(r.controls.clearBtn))}function lz(r){var n=r.dates,i=r.config,a=n.length>0?WI(n):i.defaultViewDate;return mz(a,i.minDate,i.maxDate)}function cz(r,n){var i=new Date(r.viewDate),a=new Date(n),c=r.currentView,f=c.id,h=c.year,g=c.first,y=c.last,w=a.getFullYear();switch(r.viewDate=n,w!==i.getFullYear()&&Sd(r.datepicker,"changeYear"),a.getMonth()!==i.getMonth()&&Sd(r.datepicker,"changeMonth"),f){case 0:return n<g||n>y;case 1:return w!==h;default:return w<g||w>y}}function BI(r){return window.getComputedStyle(r).direction}var a_e=function(){function r(n){mc(this,r),this.datepicker=n;var i=KDe.replace(/%buttonClass%/g,n.config.buttonClass),a=this.element=Qi(i).firstChild,c=Io(a.firstChild.children,3),f=c[0],h=c[1],g=c[2],y=f.firstElementChild,w=Io(f.lastElementChild.children,3),_=w[0],k=w[1],V=w[2],$=Io(g.firstChild.children,2),oe=$[0],ue=$[1],Ee={title:y,prevBtn:_,viewSwitch:k,nextBtn:V,todayBtn:oe,clearBtn:ue};this.main=h,this.controls=Ee;var _e=n.inline?"inline":"dropdown";a.classList.add("datepicker-".concat(_e)),_e==="dropdown"&&a.classList.add("dropdown","absolute","top-0","left-0","z-50","pt-2"),az(this,n.config),this.viewDate=lz(n),KI(n,[[a,"click",i_e.bind(null,n),{capture:!0}],[h,"click",s_e.bind(null,n)],[Ee.viewSwitch,"click",n_e.bind(null,n)],[Ee.prevBtn,"click",r_e.bind(null,n)],[Ee.nextBtn,"click",o_e.bind(null,n)],[Ee.todayBtn,"click",e_e.bind(null,n)],[Ee.clearBtn,"click",t_e.bind(null,n)]]),this.views=[new QDe(this),new XDe(this),new sz(this,{id:2,name:"years",cellClass:"year",step:1}),new sz(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[n.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),n.config.container.appendChild(this.element)}return gc(r,[{key:"setOptions",value:function(i){az(this,i),this.views.forEach(function(a){a.init(i,!1)}),this.currentView.render()}},{key:"detach",value:function(){this.datepicker.config.container.removeChild(this.element)}},{key:"show",value:function(){if(!this.active){this.element.classList.add("active","block"),this.element.classList.remove("hidden"),this.active=!0;var i=this.datepicker;if(!i.inline){var a=BI(i.inputField);a!==BI(i.config.container)?this.element.dir=a:this.element.dir&&this.element.removeAttribute("dir"),this.place(),i.config.disableTouchKeyboard&&i.inputField.blur()}Sd(i,"show")}}},{key:"hide",value:function(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active","block"),this.element.classList.add("active","block","hidden"),this.active=!1,Sd(this.datepicker,"hide"))}},{key:"place",value:function(){var i=this.element,a=i.classList,c=i.style,f=this.datepicker,h=f.config,g=f.inputField,y=h.container,w=this.element.getBoundingClientRect(),_=w.width,k=w.height,V=y.getBoundingClientRect(),$=V.left,oe=V.top,ue=V.width,Ee=g.getBoundingClientRect(),_e=Ee.left,te=Ee.top,Fe=Ee.width,Le=Ee.height,Ie=h.orientation,ke=Ie.x,et=Ie.y,Ke,$e,G;y===document.body?(Ke=window.scrollY,$e=_e+window.scrollX,G=te+Ke):(Ke=y.scrollTop,$e=_e-$,G=te-oe+Ke),ke==="auto"&&($e<0?(ke="left",$e=10):$e+_>ue?ke="right":ke=BI(g)==="rtl"?"right":"left"),ke==="right"&&($e-=_-Fe),et==="auto"&&(et=G-k<Ke?"bottom":"top"),et==="top"?G-=k:G+=Le,a.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),a.add("datepicker-orient-".concat(et),"datepicker-orient-".concat(ke)),c.top=G&&"".concat(G,"px"),c.left=$e&&"".concat($e,"px")}},{key:"setViewSwitchLabel",value:function(i){this.controls.viewSwitch.textContent=i}},{key:"setPrevBtnDisabled",value:function(i){this.controls.prevBtn.disabled=i}},{key:"setNextBtnDisabled",value:function(i){this.controls.nextBtn.disabled=i}},{key:"changeView",value:function(i){var a=this.currentView,c=this.views[i];return c.id!==a.id&&(this.currentView=c,this._renderMethod="render",Sd(this.datepicker,"changeView"),this.main.replaceChild(c.element,a.element)),this}},{key:"changeFocus",value:function(i){return this._renderMethod=cz(this,i)?"render":"refreshFocus",this.views.forEach(function(a){a.updateFocus()}),this}},{key:"update",value:function(){var i=lz(this.datepicker);return this._renderMethod=cz(this,i)?"render":"refresh",this.views.forEach(function(a){a.updateFocus(),a.updateSelection()}),this}},{key:"render",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=i&&this._renderMethod||"render";delete this._renderMethod,this.currentView[a]()}}])}();function _z(r,n,i,a,c,f){if(qI(r,c,f)){if(a(r)){var h=n(r,i);return _z(h,n,i,a,c,f)}return r}}function Rb(r,n,i,a){var c=r.picker,f=c.currentView,h=f.step||1,g=c.viewDate,y,w;switch(f.id){case 0:a?g=_d(g,i*7):n.ctrlKey||n.metaKey?g=xd(g,i):g=_d(g,i),y=_d,w=function(k){return f.disabled.includes(k)};break;case 1:g=Pb(g,a?i*4:i),y=Pb,w=function(k){var V=new Date(k),$=f.year,oe=f.disabled;return V.getFullYear()===$&&oe.includes(V.getMonth())};break;default:g=xd(g,i*(a?4:1)*h),y=xd,w=function(k){return f.disabled.includes(pc(k,h))}}g=_z(g,y,i<0?-h:h,w,f.minDate,f.maxDate),g!==void 0&&c.changeFocus(g).render()}function l_e(r,n){if(n.key==="Tab"){Dz(r);return}var i=r.picker,a=i.currentView,c=a.id,f=a.isMinView;if(i.active)if(r.editMode)switch(n.key){case"Escape":i.hide();break;case"Enter":r.exitEditMode({update:!0,autohide:r.config.autohide});break;default:return}else switch(n.key){case"Escape":i.hide();break;case"ArrowLeft":if(n.ctrlKey||n.metaKey)Vb(r,-1);else if(n.shiftKey){r.enterEditMode();return}else Rb(r,n,-1,!1);break;case"ArrowRight":if(n.ctrlKey||n.metaKey)Vb(r,1);else if(n.shiftKey){r.enterEditMode();return}else Rb(r,n,1,!1);break;case"ArrowUp":if(n.ctrlKey||n.metaKey)Ez(r);else if(n.shiftKey){r.enterEditMode();return}else Rb(r,n,-1,!0);break;case"ArrowDown":if(n.shiftKey&&!n.ctrlKey&&!n.metaKey){r.enterEditMode();return}Rb(r,n,1,!0);break;case"Enter":f?r.setDate(i.viewDate):i.changeView(c-1).render();break;case"Backspace":case"Delete":r.enterEditMode();return;default:n.key.length===1&&!n.ctrlKey&&!n.metaKey&&r.enterEditMode();return}else switch(n.key){case"ArrowDown":case"Escape":i.show();break;case"Enter":r.update();break;default:return}n.preventDefault(),n.stopPropagation()}function c_e(r){r.config.showOnFocus&&!r._showing&&r.show()}function u_e(r,n){var i=n.target;(r.picker.active||r.config.showOnClick)&&(i._active=i===document.activeElement,i._clicking=setTimeout(function(){delete i._active,delete i._clicking},2e3))}function d_e(r,n){var i=n.target;i._clicking&&(clearTimeout(i._clicking),delete i._clicking,i._active&&r.enterEditMode(),delete i._active,r.config.showOnClick&&r.show())}function f_e(r,n){n.clipboardData.types.includes("text/plain")&&r.enterEditMode()}function p_e(r,n){var i=r.element;if(i===document.activeElement){var a=r.picker.element;wz(n,function(c){return c===i||c===a})||Dz(r)}}function xz(r,n){return r.map(function(i){return bh(i,n.format,n.locale)}).join(n.dateDelimiter)}function Sz(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=r.config,c=r.dates,f=r.rangepicker;if(n.length===0)return i?[]:void 0;var h=f&&r===f.datepickers[1],g=n.reduce(function(y,w){var _=yh(w,a.format,a.locale);if(_===void 0)return y;if(a.pickLevel>0){var k=new Date(_);a.pickLevel===1?_=h?k.setMonth(k.getMonth()+1,0):k.setDate(1):_=h?k.setFullYear(k.getFullYear()+1,0,0):k.setMonth(0,1)}return qI(_,a.minDate,a.maxDate)&&!y.includes(_)&&!a.datesDisabled.includes(_)&&!a.daysOfWeekDisabled.includes(new Date(_).getDay())&&y.push(_),y},[]);if(g.length!==0)return a.multidate&&!i&&(g=g.reduce(function(y,w){return c.includes(w)||y.push(w),y},c.filter(function(y){return!g.includes(y)}))),a.maxNumberOfDates&&g.length>a.maxNumberOfDates?g.slice(a.maxNumberOfDates*-1):g}function $b(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=r.config,c=r.picker,f=r.inputField;if(n&2){var h=c.active?a.pickLevel:a.startView;c.update().changeView(h).render(i)}n&1&&f&&(f.value=xz(r.dates,a))}function uz(r,n,i){var a=i.clear,c=i.render,f=i.autohide;c===void 0&&(c=!0),c?f===void 0&&(f=r.config.autohide):f=!1;var h=Sz(r,n,a);h&&(h.toString()!==r.dates.toString()?(r.dates=h,$b(r,c?3:1),Sd(r,"changeDate")):$b(r,1),f&&r.hide())}var Eh=function(){function r(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;mc(this,r),n.datepicker=this,this.element=n;var c=this.config=Object.assign({buttonClass:i.buttonClass&&String(i.buttonClass)||"button",container:document.body,defaultViewDate:vc(),maxDate:void 0,minDate:void 0},LI(wh,this));this._options=i,Object.assign(c,LI(i,this));var f=this.inline=n.tagName!=="INPUT",h,g;if(f)c.container=n,g=RI(n.dataset.date,c.dateDelimiter),delete n.dataset.date;else{var y=i.container?document.querySelector(i.container):null;y&&(c.container=y),h=this.inputField=n,h.classList.add("datepicker-input"),g=RI(h.value,c.dateDelimiter)}if(a){var w=a.inputs.indexOf(h),_=a.datepickers;if(w<0||w>1||!Array.isArray(_))throw Error("Invalid rangepicker object.");_[w]=this,Object.defineProperty(this,"rangepicker",{get:function(){return a}})}this.dates=[];var k=Sz(this,g);k&&k.length>0&&(this.dates=k),h&&(h.value=xz(this.dates,c));var V=this.picker=new a_e(this);if(f)this.show();else{var $=p_e.bind(null,this),oe=[[h,"keydown",l_e.bind(null,this)],[h,"focus",c_e.bind(null,this)],[h,"mousedown",u_e.bind(null,this)],[h,"click",d_e.bind(null,this)],[h,"paste",f_e.bind(null,this)],[document,"mousedown",$],[document,"touchstart",$],[window,"resize",V.place.bind(V)]];KI(this,oe)}}return gc(r,[{key:"active",get:function(){return!!(this.picker&&this.picker.active)}},{key:"pickerElement",get:function(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function(i){var a=this.picker,c=LI(i,this);Object.assign(this._options,i),Object.assign(this.config,c),a.setOptions(c),$b(this,3)}},{key:"show",value:function(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"destroy",value:function(){return this.hide(),bz(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}},{key:"getDate",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,c=a?function(f){return bh(f,a,i.config.locale)}:function(f){return new Date(f)};if(this.config.multidate)return this.dates.map(c);if(this.dates.length>0)return c(this.dates[0])}},{key:"setDate",value:function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];var f=[].concat(a),h={},g=WI(a);Ob(g)==="object"&&!Array.isArray(g)&&!(g instanceof Date)&&g&&Object.assign(h,f.pop());var y=Array.isArray(f[0])?f[0]:f;uz(this,y,h)}},{key:"update",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!this.inline){var a={clear:!0,autohide:!!(i&&i.autohide)},c=RI(this.inputField.value,this.config.dateDelimiter);uz(this,c,a)}}},{key:"refresh",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i&&typeof i!="string"&&(a=i,i=void 0);var c;i==="picker"?c=2:i==="input"?c=1:c=3,$b(this,c,!a)}},{key:"enterEditMode",value:function(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit","border-blue-700","!border-primary-700"))}},{key:"exitEditMode",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!(this.inline||!this.editMode)){var a=Object.assign({update:!1},i);delete this.editMode,this.inputField.classList.remove("in-edit","border-blue-700","!border-primary-700"),a.update&&this.update(a)}}}],[{key:"formatDate",value:function(i,a,c){return bh(i,a,c&&ph[c]||ph.en)}},{key:"parseDate",value:function(i,a,c){return yh(i,a,c&&ph[c]||ph.en)}},{key:"locales",get:function(){return ph}}])}();function dz(r){var n=Object.assign({},r);return delete n.inputs,delete n.allowOneSidedRange,delete n.maxNumberOfDates,n}function fz(r,n,i,a){KI(r,[[i,"changeDate",n]]),new Eh(i,a,r)}function hh(r,n){if(!r._updating){r._updating=!0;var i=n.target;if(i.datepicker!==void 0){var a=r.datepickers,c={render:!1},f=r.inputs.indexOf(i),h=f===0?1:0,g=a[f].dates[0],y=a[h].dates[0];g!==void 0&&y!==void 0?f===0&&g>y?(a[0].setDate(y,c),a[1].setDate(g,c)):f===1&&g<y&&(a[0].setDate(g,c),a[1].setDate(y,c)):r.allowOneSidedRange||(g!==void 0||y!==void 0)&&(c.clear=!0,a[h].setDate(a[f].dates,c)),a[0].picker.update().render(),a[1].picker.update().render(),delete r._updating}}}var jb=function(){function r(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};mc(this,r);var a=Array.isArray(i.inputs)?i.inputs:Array.from(n.querySelectorAll("input"));if(!(a.length<2)){n.rangepicker=this,this.element=n,this.inputs=a.slice(0,2),this.allowOneSidedRange=!!i.allowOneSidedRange;var c=hh.bind(null,this),f=dz(i),h=[];Object.defineProperty(this,"datepickers",{get:function(){return h}}),fz(this,c,this.inputs[0],f),fz(this,c,this.inputs[1],f),Object.freeze(h),h[0].dates.length>0?hh(this,{target:this.inputs[0]}):h[1].dates.length>0&&hh(this,{target:this.inputs[1]})}}return gc(r,[{key:"dates",get:function(){return this.datepickers.length===2?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}},{key:"setOptions",value:function(i){this.allowOneSidedRange=!!i.allowOneSidedRange;var a=dz(i);this.datepickers[0].setOptions(a),this.datepickers[1].setOptions(a)}},{key:"destroy",value:function(){this.datepickers[0].destroy(),this.datepickers[1].destroy(),bz(this),delete this.element.rangepicker}},{key:"getDates",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,c=a?function(f){return bh(f,a,i.datepickers[0].config.locale)}:function(f){return new Date(f)};return this.dates.map(function(f){return f===void 0?f:c(f)})}},{key:"setDates",value:function(i,a){var c=Io(this.datepickers,2),f=c[0],h=c[1],g=this.dates;this._updating=!0,f.setDate(i),h.setDate(a),delete this._updating,h.dates[0]!==g[1]?hh(this,{target:this.inputs[1]}):f.dates[0]!==g[0]&&hh(this,{target:this.inputs[0]})}}])}();var Ub=function(){return Ub=Object.assign||function(r){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(r[c]=n[c])}return r},Ub.apply(this,arguments)},Qo={defaultDatepickerId:null,autohide:!1,format:"mm/dd/yyyy",maxDate:null,minDate:null,orientation:"bottom",buttons:!1,autoSelectToday:0,title:null,language:"en",rangePicker:!1,onShow:function(){},onHide:function(){}},h_e={id:null,override:!0},Iz=function(){function r(n,i,a){n===void 0&&(n=null),i===void 0&&(i=Qo),a===void 0&&(a=h_e),this._instanceId=a.id?a.id:n.id,this._datepickerEl=n,this._datepickerInstance=null,this._options=Ub(Ub({},Qo),i),this._initialized=!1,this.init(),Ze.addInstance("Datepicker",this,this._instanceId,a.override)}return r.prototype.init=function(){this._datepickerEl&&!this._initialized&&(this._options.rangePicker?this._datepickerInstance=new jb(this._datepickerEl,this._getDatepickerOptions(this._options)):this._datepickerInstance=new Eh(this._datepickerEl,this._getDatepickerOptions(this._options)),this._initialized=!0)},r.prototype.destroy=function(){this._initialized&&(this._initialized=!1,this._datepickerInstance.destroy())},r.prototype.removeInstance=function(){this.destroy(),Ze.removeInstance("Datepicker",this._instanceId)},r.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},r.prototype.getDatepickerInstance=function(){return this._datepickerInstance},r.prototype.getDate=function(){if(this._options.rangePicker&&this._datepickerInstance instanceof jb)return this._datepickerInstance.getDates();if(!this._options.rangePicker&&this._datepickerInstance instanceof Eh)return this._datepickerInstance.getDate()},r.prototype.setDate=function(n){if(this._options.rangePicker&&this._datepickerInstance instanceof jb)return this._datepickerInstance.setDates(n);if(!this._options.rangePicker&&this._datepickerInstance instanceof Eh)return this._datepickerInstance.setDate(n)},r.prototype.show=function(){this._datepickerInstance.show(),this._options.onShow(this)},r.prototype.hide=function(){this._datepickerInstance.hide(),this._options.onHide(this)},r.prototype._getDatepickerOptions=function(n){var i={};return n.buttons&&(i.todayBtn=!0,i.clearBtn=!0,n.autoSelectToday&&(i.todayBtnMode=1)),n.autohide&&(i.autohide=!0),n.format&&(i.format=n.format),n.maxDate&&(i.maxDate=n.maxDate),n.minDate&&(i.minDate=n.minDate),n.orientation&&(i.orientation=n.orientation),n.title&&(i.title=n.title),n.language&&(i.language=n.language),i},r.prototype.updateOnShow=function(n){this._options.onShow=n},r.prototype.updateOnHide=function(n){this._options.onHide=n},r}();function Ad(){document.querySelectorAll("[datepicker], [inline-datepicker], [date-rangepicker]").forEach(function(r){if(r){var n=r.hasAttribute("datepicker-buttons"),i=r.hasAttribute("datepicker-autoselect-today"),a=r.hasAttribute("datepicker-autohide"),c=r.getAttribute("datepicker-format"),f=r.getAttribute("datepicker-max-date"),h=r.getAttribute("datepicker-min-date"),g=r.getAttribute("datepicker-orientation"),y=r.getAttribute("datepicker-title"),w=r.getAttribute("datepicker-language"),_=r.hasAttribute("date-rangepicker");new Iz(r,{buttons:n||Qo.buttons,autoSelectToday:i||Qo.autoSelectToday,autohide:a||Qo.autohide,format:c||Qo.format,maxDate:f||Qo.maxDate,minDate:h||Qo.minDate,orientation:g||Qo.orientation,title:y||Qo.title,language:w||Qo.language,rangePicker:_||Qo.rangePicker})}else console.error("The datepicker element does not exist. Please check the datepicker attribute.")})}typeof window<"u"&&(window.Datepicker=Iz,window.initDatepickers=Ad);function Hb(){id(),ad(),ld(),cd(),md(),gd(),vd(),yd(),bd(),Cd(),wd(),Ed(),Dd(),Ad()}typeof window<"u"&&(window.initFlowbite=Hb);var m_e=new d3("load",[id,ad,ld,cd,md,gd,vd,yd,bd,Cd,wd,Ed,Dd,Ad]);m_e.init();var Az=(()=>{let n=class n{constructor(){this.title="bloggy"}ngOnInit(){Hb()}};n.\u0275fac=function(c){return new(c||n)},n.\u0275cmp=_t({type:n,selectors:[["app-root"]],standalone:!0,features:[xt],decls:2,vars:0,template:function(c,f){c&1&&(K(0,"main"),Xe(1,"router-outlet"),Y())},dependencies:[tc]});let r=n;return r})();kU(Az,u3).catch(r=>console.error(r));
